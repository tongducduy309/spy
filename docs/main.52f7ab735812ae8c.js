"use strict";(self.webpackChunkspy=self.webpackChunkspy||[]).push([[179],{2011:(vt,Se,k)=>{k.d(Se,{Dh:()=>we,GT:()=>re,cc:()=>be,hO:()=>je,on:()=>$,pX:()=>se,xv:()=>fe});var v=k(4650),Q=k(1274),O=k(710);vt=k.hmd(vt);const ie=["ngOnDestroy"],se=(Me,Pe,Be,Ne={})=>new Proxy(Me,{get:(Ie,Ee)=>Be.runOutsideAngular(()=>{var ze;if(Me[Ee])return!(null===(ze=Ne?.spy)||void 0===ze)&&ze.get&&Ne.spy.get(Ee,Me[Ee]),Me[Ee];if(ie.indexOf(Ee)>-1)return()=>{};const Le=Pe.toPromise().then(tt=>{const ne=tt&&tt[Ee];return"function"==typeof ne?ne.bind(tt):ne&&ne.then?ne.then(bt=>Be.run(()=>bt)):Be.run(()=>ne)});return new Proxy(()=>{},{get:(tt,ne)=>Le[ne],apply:(tt,ne,bt)=>Le.then(Je=>{var Ht;const st=Je&&Je(...bt);return!(null===(Ht=Ne?.spy)||void 0===Ht)&&Ht.apply&&Ne.spy.apply(Ee,bt,st),st})})})}),re=(Me,Pe)=>{Pe.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Ne=>{Object.defineProperty(Me.prototype,Ne,Object.getOwnPropertyDescriptor(Be.prototype||Be,Ne))})})};class me{constructor(Pe){return Pe}}const we=new v.OlP("angularfire2.app.options"),fe=new v.OlP("angularfire2.app.name");function $(Me,Pe,Be){const Ie="object"==typeof Be&&Be||{};Ie.name=Ie.name||"string"==typeof Be&&Be||"[DEFAULT]";const ze=Q.Z.apps.filter(Le=>Le&&Le.name===Ie.name)[0]||Pe.runOutsideAngular(()=>Q.Z.initializeApp(Me,Ie));try{JSON.stringify(Me)!==JSON.stringify(ze.options)&&j("error",`${ze.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(ze)}const j=(Me,...Pe)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Me](...Pe)},q={provide:me,useFactory:$,deps:[we,v.R0b,[new v.FiY,fe]]};let je=(()=>{class Me{constructor(Be){Q.Z.registerVersion("angularfire",O.q4.full,"core"),Q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Q.Z.registerVersion("angular",v.q4F.full,Be.toString())}static initializeApp(Be,Ne){return{ngModule:Me,providers:[{provide:we,useValue:Be},{provide:fe,useValue:Ne}]}}}return Me.\u0275fac=function(Be){return new(Be||Me)(v.LFG(v.Lbi))},Me.\u0275mod=v.oAB({type:Me}),Me.\u0275inj=v.cJS({providers:[q]}),Me})();function be(Me,Pe,Be,Ne,Ie){const[,Ee,ze]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Me)||[];if(Ee)return function We(Me,Pe){try{return Me.toString()===Pe.toString()}catch{return Me===Pe}}(Ie,ze)||(pe("error",`${Pe} was already initialized on the ${Be} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ie,was:ze})),Ee;{const Le=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Me,Le,Ie]),Le}}const ct=!!vt.hot,pe=(Me,...Pe)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Me](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(vt,Se,k)=>{k.d(Se,{q4:()=>Wr,iC:()=>zi,HU:()=>It,vb:()=>ac,JM:()=>oc});var v=k(4650),Q=k(8140),O=k(5861),ie=k(6881),se=k(2090),re=k(4859),me=k(1877);const we=(I,D)=>D.some(A=>I instanceof A);let fe,$;const je=new WeakMap,be=new WeakMap,We=new WeakMap,ct=new WeakMap,pe=new WeakMap;let Be={get(I,D,A){if(I instanceof IDBTransaction){if("done"===D)return be.get(I);if("objectStoreNames"===D)return I.objectStoreNames||We.get(I);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ze(I[D])},set:(I,D,A)=>(I[D]=A,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function Ee(I){return"function"==typeof I?function Ie(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(Le(this),D),ze(je.get(this))}:function(...D){return ze(I.apply(Le(this),D))}:function(D,...A){const N=I.call(Le(this),D,...A);return We.set(N,D.sort?D.sort():[D]),ze(N)}}(I):(I instanceof IDBTransaction&&function Pe(I){if(be.has(I))return;const D=new Promise((A,N)=>{const H=()=>{I.removeEventListener("complete",K),I.removeEventListener("error",te),I.removeEventListener("abort",te)},K=()=>{A(),H()},te=()=>{N(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",K),I.addEventListener("error",te),I.addEventListener("abort",te)});be.set(I,D)}(I),we(I,function j(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Be):I)}function ze(I){if(I instanceof IDBRequest)return function Me(I){const D=new Promise((A,N)=>{const H=()=>{I.removeEventListener("success",K),I.removeEventListener("error",te)},K=()=>{A(ze(I.result)),H()},te=()=>{N(I.error),H()};I.addEventListener("success",K),I.addEventListener("error",te)});return D.then(A=>{A instanceof IDBCursor&&je.set(A,I)}).catch(()=>{}),pe.set(D,I),D}(I);if(ct.has(I))return ct.get(I);const D=Ee(I);return D!==I&&(ct.set(I,D),pe.set(D,I)),D}const Le=I=>pe.get(I),bt=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],Ht=new Map;function st(I,D){if(!(I instanceof IDBDatabase)||D in I||"string"!=typeof D)return;if(Ht.get(D))return Ht.get(D);const A=D.replace(/FromIndex$/,""),N=D!==A,H=Je.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!bt.includes(A))return;const K=function(){var te=(0,O.Z)(function*(Ge,...$e){const at=this.transaction(Ge,H?"readwrite":"readonly");let At=at.store;return N&&(At=At.index($e.shift())),(yield Promise.all([At[A](...$e),H&&at.done]))[0]});return function($e){return te.apply(this,arguments)}}();return Ht.set(D,K),K}!function Ne(I){Be=I(Be)}(I=>({...I,get:(D,A,N)=>st(D,A)||I.get(D,A,N),has:(D,A)=>!!st(D,A)||I.has(D,A)}));const Os="@firebase/installations",Xr="0.6.4",to=1e4,Qi=`w:${Xr}`,ae="FIS_v2",le="https://firebaseinstallations.googleapis.com/v1",ge=36e5,lt=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(I){return I instanceof se.ZR&&I.code.includes("request-failed")}function vn({projectId:I}){return`${le}/projects/${I}/installations`}function ft(I){return{token:I.token,requestStatus:2,expiresIn:Vr(I.expiresIn),creationTime:Date.now()}}function Wt(I,D){return In.apply(this,arguments)}function In(){return(In=(0,O.Z)(function*(I,D){const N=(yield D.json()).error;return lt.create("request-failed",{requestName:I,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function pn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ur(I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function Vr(I){return Number(I.replace("s","000"))}function pt(){return(pt=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:A}){const N=vn(I),H=pn(I),K=D.getImmediate({optional:!0});if(K){const at=yield K.getHeartbeatsHeader();at&&H.append("x-firebase-client",at)}const Ge={method:"POST",headers:H,body:JSON.stringify({fid:A,authVersion:ae,appId:I.appId,sdkVersion:Qi})},$e=yield ur(()=>fetch(N,Ge));if($e.ok){const at=yield $e.json();return{fid:at.fid||A,registrationStatus:2,refreshToken:at.refreshToken,authToken:ft(at.authToken)}}throw yield Wt("Create Installation",$e)})).apply(this,arguments)}function ti(I){return new Promise(D=>{setTimeout(D,I)})}const yr=/^[cdef][\w-]{21}$/,Br="";function Ji(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const A=function Jt(I){return function Wc(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return yr.test(A)?A:Br}catch{return Br}}function en(I){return`${I.appName}!${I.appId}`}const nt=new Map;function Rt(I,D){const A=en(I);cr(A,D),function jr(I,D){const A=function ri(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=I=>{cr(I.data.key,I.data.fid)}),Tn}();A&&A.postMessage({key:I,fid:D}),function dn(){0===nt.size&&Tn&&(Tn.close(),Tn=null)}()}(A,D)}function cr(I,D){const A=nt.get(I);if(A)for(const N of A)N(D)}let Tn=null;const ks="firebase-installations-database",Kt=1,Xi="firebase-installations-store";let tn=null;function fi(){return tn||(tn=function tt(I,D,{blocked:A,upgrade:N,blocking:H,terminated:K}={}){const te=indexedDB.open(I,D),Ge=ze(te);return N&&te.addEventListener("upgradeneeded",$e=>{N(ze(te.result),$e.oldVersion,$e.newVersion,ze(te.transaction))}),A&&te.addEventListener("blocked",()=>A()),Ge.then($e=>{K&&$e.addEventListener("close",()=>K()),H&&$e.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ge}(ks,Kt,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Xi)}})),tn}function Pn(I,D){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,O.Z)(function*(I,D){const A=en(I),H=(yield fi()).transaction(Xi,"readwrite"),K=H.objectStore(Xi),te=yield K.get(A);return yield K.put(D,A),yield H.done,(!te||te.fid!==D.fid)&&Rt(I,D.fid),D})).apply(this,arguments)}function Oi(I){return _n.apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(I){const D=en(I),N=(yield fi()).transaction(Xi,"readwrite");yield N.objectStore(Xi).delete(D),yield N.done})).apply(this,arguments)}function ki(I,D){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(I,D){const A=en(I),H=(yield fi()).transaction(Xi,"readwrite"),K=H.objectStore(Xi),te=yield K.get(A),Ge=D(te);return void 0===Ge?yield K.delete(A):yield K.put(Ge,A),yield H.done,Ge&&(!te||te.fid!==Ge.fid)&&Rt(I,Ge.fid),Ge})).apply(this,arguments)}function V(I){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(I){let D;const A=yield ki(I.appConfig,N=>{const H=function G(I){return En(I||{fid:Ji(),registrationStatus:0})}(N),K=function ve(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(lt.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},N=function J(I,D){return Fe.apply(this,arguments)}(I,A);return{installationEntry:A,registrationPromise:N}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ct(I)}:{installationEntry:D}}(I,H);return D=K.registrationPromise,K.installationEntry});return A.fid===Br?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),F.apply(this,arguments)}function Fe(){return Fe=(0,O.Z)(function*(I,D){try{const A=yield function br(I,D){return pt.apply(this,arguments)}(I,D);return Pn(I.appConfig,A)}catch(A){throw dt(A)&&409===A.customData.serverCode?yield Oi(I.appConfig):yield Pn(I.appConfig,{fid:D.fid,registrationStatus:0}),A}}),Fe.apply(this,arguments)}function Ct(I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(I){let D=yield Un(I.appConfig);for(;1===D.registrationStatus;)yield ti(100),D=yield Un(I.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:N}=yield V(I);return N||A}return D})).apply(this,arguments)}function Un(I){return ki(I,D=>{if(!D)throw lt.create("installation-not-found");return En(D)})}function En(I){return function sn(I){return 1===I.registrationStatus&&I.registrationTime+to<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Cr(){return(Cr=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},A){const N=function Li(I,{fid:D}){return`${vn(I)}/${D}/authTokens:generate`}(I,A),H=function Fn(I,{refreshToken:D}){const A=pn(I);return A.append("Authorization",function ei(I){return`${ae} ${I}`}(D)),A}(I,A),K=D.getImmediate({optional:!0});if(K){const at=yield K.getHeartbeatsHeader();at&&H.append("x-firebase-client",at)}const Ge={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Qi,appId:I.appId}})},$e=yield ur(()=>fetch(N,Ge));if($e.ok)return ft(yield $e.json());throw yield Wt("Generate Auth Token",$e)})).apply(this,arguments)}function es(I){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,O.Z)(function*(I,D=!1){let A;const N=yield ki(I.appConfig,K=>{if(!jt(K))throw lt.create("not-registered");const te=K.authToken;if(!D&&function gt(I){return 2===I.requestStatus&&!function Xt(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+ge}(I)}(te))return K;if(1===te.requestStatus)return A=function de(I,D){return X.apply(this,arguments)}(I,D),K;{if(!navigator.onLine)throw lt.create("app-offline");const Ge=function Qt(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}(K);return A=function ht(I,D){return Dt.apply(this,arguments)}(I,Ge),Ge}});return A?yield A:N.authToken}),Ca.apply(this,arguments)}function X(){return(X=(0,O.Z)(function*(I,D){let A=yield Oe(I.appConfig);for(;1===A.authToken.requestStatus;)yield ti(100),A=yield Oe(I.appConfig);const N=A.authToken;return 0===N.requestStatus?es(I,D):N})).apply(this,arguments)}function Oe(I){return ki(I,D=>{if(!jt(D))throw lt.create("not-registered");return function lr(I){return 1===I.requestStatus&&I.requestTime+to<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Dt(){return Dt=(0,O.Z)(function*(I,D){try{const A=yield function zt(I,D){return Cr.apply(this,arguments)}(I,D),N=Object.assign(Object.assign({},D),{authToken:A});return yield Pn(I.appConfig,N),A}catch(A){if(!dt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const N=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Pn(I.appConfig,N)}else yield Oi(I.appConfig);throw A}}),Dt.apply(this,arguments)}function jt(I){return void 0!==I&&2===I.registrationStatus}function Eu(){return(Eu=(0,O.Z)(function*(I){const D=I,{installationEntry:A,registrationPromise:N}=yield V(D);return N?N.catch(console.error):es(D).catch(console.error),A.fid})).apply(this,arguments)}function no(){return no=(0,O.Z)(function*(I,D=!1){const A=I;return yield function pi(I){return qe.apply(this,arguments)}(A),(yield es(A,D)).token}),no.apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(I){const{registrationPromise:D}=yield V(I);D&&(yield D)})).apply(this,arguments)}function Ls(I){return lt.create("missing-app-config-values",{valueName:I})}const Vt="installations",ro=I=>{const D=I.getProvider("app").getImmediate(),A=function Sa(I){if(!I||!I.options)throw Ls("App Configuration");if(!I.name)throw Ls("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!I.options[A])throw Ls(A);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,ie._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ls=I=>{const D=I.getProvider("app").getImmediate(),A=(0,ie._getProvider)(D,Vt).getImmediate();return{getId:()=>function zn(I){return Eu.apply(this,arguments)}(A),getToken:H=>function _f(I){return no.apply(this,arguments)}(A,H)}};(function io(){(0,ie._registerComponent)(new re.wA(Vt,ro,"PUBLIC")),(0,ie._registerComponent)(new re.wA("installations-internal",ls,"PRIVATE"))})(),(0,ie.registerVersion)(Os,Xr),(0,ie.registerVersion)(Os,Xr,"esm2017");const Vn="@firebase/remote-config",vr=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hs{constructor(D,A,N,H){this.client=D,this.storage=A,this.storageCache=N,this.logger=H}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-A,H=N<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${H}.`),H}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,H]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(H&&A.isCachedDataFresh(D.cacheMaxAgeMillis,N))return H;D.eTag=H&&H.eTag;const K=yield A.client.fetch(D),te=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&te.push(A.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(te),K})()}}function Sg(I=navigator){return I.languages&&I.languages[0]||I.language}class Zc{constructor(D,A,N,H,K,te){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=N,this.projectId=H,this.apiKey=K,this.appId=te}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,H]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:N,app_instance_id_token:H,app_id:A.appId,language_code:Sg()},at={method:"POST",headers:Ge,body:JSON.stringify($e)},At=fetch(te,at),xt=new Promise((gr,Gi)=>{D.signal.addEventListener(()=>{const Ws=new Error("The operation was aborted.");Ws.name="AbortError",Gi(Ws)})});let Mr;try{yield Promise.race([At,xt]),Mr=yield At}catch(gr){let Gi="fetch-client-network";throw"AbortError"===gr?.name&&(Gi="fetch-timeout"),vr.create(Gi,{originalErrorMessage:gr?.message})}let fn=Mr.status;const Nt=Mr.headers.get("ETag")||void 0;let Gs,Po;if(200===Mr.status){let gr;try{gr=yield Mr.json()}catch(Gi){throw vr.create("fetch-client-parse",{originalErrorMessage:Gi?.message})}Gs=gr.entries,Po=gr.state}if("INSTANCE_STATE_UNSPECIFIED"===Po?fn=500:"NO_CHANGE"===Po?fn=304:("NO_TEMPLATE"===Po||"EMPTY_CONFIG"===Po)&&(Gs={}),304!==fn&&200!==fn)throw vr.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:Nt,config:Gs}})()}}class xg{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,O.Z)(function*(){const N=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,N)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:N}){var H=this;return(0,O.Z)(function*(){yield function Ag(I,D){return new Promise((A,N)=>{const H=Math.max(D-Date.now(),0),K=setTimeout(A,H);I.addEventListener(()=>{clearTimeout(K),N(vr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const K=yield H.client.fetch(D);return yield H.storage.deleteThrottleMetadata(),K}catch(K){if(!function Ed(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(K))throw K;const te={throttleEndTimeMillis:Date.now()+(0,se.$s)(N),backoffCount:N+1};return yield H.storage.setThrottleMetadata(te),H.attemptFetch(D,te)}})()}}class Vy{constructor(D,A,N,H,K){this.app=D,this._client=A,this._storageCache=N,this._storage=H,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tu(I,D){const A=I.target.error||void 0;return vr.create(D,{originalErrorMessage:A&&A?.message})}const yi="app_namespace_store";class By{constructor(D,A,N,H=function Ko(){return new Promise((I,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=N=>{D(Tu(N,"storage-open"))},A.onsuccess=N=>{I(N.target.result)},A.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(yi,{keyPath:"compositeKey"})}}catch(A){D(vr.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=N,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise((H,K)=>{const Ge=N.transaction([yi],"readonly").objectStore(yi),$e=A.createCompositeKey(D);try{const at=Ge.get($e);at.onerror=At=>{K(Tu(At,"storage-get"))},at.onsuccess=At=>{const xt=At.target.result;H(xt?xt.value:void 0)}}catch(at){K(vr.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(D,A){var N=this;return(0,O.Z)(function*(){const H=yield N.openDbPromise;return new Promise((K,te)=>{const $e=H.transaction([yi],"readwrite").objectStore(yi),at=N.createCompositeKey(D);try{const At=$e.put({compositeKey:at,value:A});At.onerror=xt=>{te(Tu(xt,"storage-set"))},At.onsuccess=()=>{K()}}catch(At){te(vr.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise((H,K)=>{const Ge=N.transaction([yi],"readwrite").objectStore(yi),$e=A.createCompositeKey(D);try{const at=Ge.delete($e);at.onerror=At=>{K(Tu(At,"storage-delete"))},at.onsuccess=()=>{H()}}catch(at){K(vr.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ef{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const A=D.storage.getLastFetchStatus(),N=D.storage.getLastSuccessfulFetchTimestampMillis(),H=D.storage.getActiveConfig(),K=yield A;K&&(D.lastFetchStatus=K);const te=yield N;te&&(D.lastSuccessfulFetchTimestampMillis=te);const Ge=yield H;Ge&&(D.activeConfig=Ge)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Yc(){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,O.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function fs(){(0,ie._registerComponent)(new re.wA("remote-config",function I(D,{instanceIdentifier:A}){const N=D.getProvider("app").getImmediate(),H=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vr.create("registration-window");if(!(0,se.hl)())throw vr.create("indexed-db-unavailable");const{projectId:K,apiKey:te,appId:Ge}=N.options;if(!K)throw vr.create("registration-project-id");if(!te)throw vr.create("registration-api-key");if(!Ge)throw vr.create("registration-app-id");const $e=new By(Ge,N.name,A=A||"firebase"),at=new Ef($e),At=new me.Yd(Vn);At.logLevel=me.in.ERROR;const xt=new Zc(H,ie.SDK_VERSION,A,K,te,Ge),Mr=new xg(xt,$e),fn=new hs(Mr,$e,at,At),Nt=new Vy(N,fn,at,$e,At);return function si(I){const D=(0,se.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Nt),Nt},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Vn,"0.4.4"),(0,ie.registerVersion)(Vn,"0.4.4","esm2017")}();const Cd=(I,D)=>D.some(A=>I instanceof A);let Qc,Vs;const Su=new WeakMap,Bs=new WeakMap,Hr=new WeakMap,Tr=new WeakMap,Na=new WeakMap;let ps={get(I,D,A){if(I instanceof IDBTransaction){if("done"===D)return Bs.get(I);if("objectStoreNames"===D)return I.objectStoreNames||Hr.get(I);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Sr(I[D])},set:(I,D,A)=>(I[D]=A,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function Sd(I){return"function"==typeof I?function Td(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pa(){return Vs||(Vs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(er(this),D),Sr(Su.get(this))}:function(...D){return Sr(I.apply(er(this),D))}:function(D,...A){const N=I.call(er(this),D,...A);return Hr.set(N,D.sort?D.sort():[D]),Sr(N)}}(I):(I instanceof IDBTransaction&&function Zo(I){if(Bs.has(I))return;const D=new Promise((A,N)=>{const H=()=>{I.removeEventListener("complete",K),I.removeEventListener("error",te),I.removeEventListener("abort",te)},K=()=>{A(),H()},te=()=>{N(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",K),I.addEventListener("error",te),I.addEventListener("abort",te)});Bs.set(I,D)}(I),Cd(I,function Df(){return Qc||(Qc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ps):I)}function Sr(I){if(I instanceof IDBRequest)return function hr(I){const D=new Promise((A,N)=>{const H=()=>{I.removeEventListener("success",K),I.removeEventListener("error",te)},K=()=>{A(Sr(I.result)),H()},te=()=>{N(I.error),H()};I.addEventListener("success",K),I.addEventListener("error",te)});return D.then(A=>{A instanceof IDBCursor&&Su.set(A,I)}).catch(()=>{}),Na.set(D,I),D}(I);if(Tr.has(I))return Tr.get(I);const D=Sd(I);return D!==I&&(Tr.set(I,D),Na.set(D,I)),D}const er=I=>Na.get(I);function Au(I,D,{blocked:A,upgrade:N,blocking:H,terminated:K}={}){const te=indexedDB.open(I,D),Ge=Sr(te);return N&&te.addEventListener("upgradeneeded",$e=>{N(Sr(te.result),$e.oldVersion,$e.newVersion,Sr(te.transaction))}),A&&te.addEventListener("blocked",()=>A()),Ge.then($e=>{K&&$e.addEventListener("close",()=>K()),H&&$e.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ge}function gs(I,{blocked:D}={}){const A=indexedDB.deleteDatabase(I);return D&&A.addEventListener("blocked",()=>D()),Sr(A).then(()=>{})}const Jc=["get","getKey","getAll","getAllKeys","count"],js=["put","add","delete","clear"],Yo=new Map;function Oa(I,D){if(!(I instanceof IDBDatabase)||D in I||"string"!=typeof D)return;if(Yo.get(D))return Yo.get(D);const A=D.replace(/FromIndex$/,""),N=D!==A,H=js.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!Jc.includes(A))return;const K=function(){var te=(0,O.Z)(function*(Ge,...$e){const at=this.transaction(Ge,H?"readwrite":"readonly");let At=at.store;return N&&(At=At.index($e.shift())),(yield Promise.all([At[A](...$e),H&&at.done]))[0]});return function($e){return te.apply(this,arguments)}}();return Yo.set(D,K),K}!function fr(I){ps=I(ps)}(I=>({...I,get:(D,A,N)=>Oa(D,A)||I.get(D,A,N),has:(D,A)=>!!Oa(D,A)||I.has(D,A)}));const Mt="/firebase-messaging-sw.js",ka="/firebase-cloud-messaging-push-scope",Ad="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xd="https://fcmregistrations.googleapis.com/v1",xu="google.c.a.c_id",Rd="google.c.a.c_l",Ru="google.c.a.ts",Rg="google.c.a.e";var he=(()=>{return(I=he||(he={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",he;var I})();function kt(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function La(I){const A=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(A),H=new Uint8Array(N.length);for(let K=0;K<N.length;++K)H[K]=N.charCodeAt(K);return H}const Fa="fcm_token_details_db",tr=5,ao="fcm_token_object_Store";function zr(){return zr=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(Fa))return null;let D=null;return(yield Au(Fa,tr,{upgrade:(N=(0,O.Z)(function*(H,K,te,Ge){var $e;if(K<2||!H.objectStoreNames.contains(ao))return;const at=Ge.objectStore(ao),At=yield at.index("fcmSenderId").get(I);if(yield at.clear(),At)if(2===K){const xt=At;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;D={token:xt.fcmToken,createTime:null!==($e=xt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:kt(xt.vapidKey)}}}else if(3===K){const xt=At;D={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:kt(xt.auth),p256dh:kt(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:kt(xt.vapidKey)}}}else if(4===K){const xt=At;D={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:kt(xt.auth),p256dh:kt(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:kt(xt.vapidKey)}}}}),function(K,te,Ge,$e){return N.apply(this,arguments)})})).close(),yield gs(Fa),yield gs("fcm_vapid_details_db"),yield gs("undefined"),function Pd(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var N}),zr.apply(this,arguments)}const Pu="firebase-messaging-database",Mg=1,ms="firebase-messaging-store";let Ua=null;function Wn(){return Ua||(Ua=Au(Pu,Mg,{upgrade:(I,D)=>{0===D&&I.createObjectStore(ms)}})),Ua}function vi(I){return ns.apply(this,arguments)}function ns(){return ns=(0,O.Z)(function*(I){const D=Nu(I),N=yield(yield Wn()).transaction(ms).objectStore(ms).get(D);if(N)return N;{const H=yield function Mu(I){return zr.apply(this,arguments)}(I.appConfig.senderId);if(H)return yield uo(I,H),H}}),ns.apply(this,arguments)}function uo(I,D){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(I,D){const A=Nu(I),H=(yield Wn()).transaction(ms,"readwrite");return yield H.objectStore(ms).put(D,A),yield H.done,D})).apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(I){const D=Nu(I),N=(yield Wn()).transaction(ms,"readwrite");yield N.objectStore(ms).delete(D),yield N.done})).apply(this,arguments)}function Nu({appConfig:I}){return I.appId}const qn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qo(I,D){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*(I,D){const A=yield el(I),N=kd(D),H={method:"POST",headers:A,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(Ba(I.appConfig),H)).json()}catch(te){throw qn.create("token-subscribe-failed",{errorInfo:te?.toString()})}if(K.error)throw qn.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw qn.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function Od(){return(Od=(0,O.Z)(function*(I,D){const A=yield el(I),N=kd(D.subscriptionOptions),H={method:"PATCH",headers:A,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(`${Ba(I.appConfig)}/${D.token}`,H)).json()}catch(te){throw qn.create("token-update-failed",{errorInfo:te?.toString()})}if(K.error)throw qn.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw qn.create("token-update-no-token");return K.token})).apply(this,arguments)}function ku(I,D){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,O.Z)(function*(I,D){const N={method:"DELETE",headers:yield el(I)};try{const K=yield(yield fetch(`${Ba(I.appConfig)}/${D}`,N)).json();if(K.error)throw qn.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(H){throw qn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Ba({projectId:I}){return`${xd}/projects/${I}/registrations`}function el(I){return ja.apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*({appConfig:I,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function kd({p256dh:I,auth:D,endpoint:A,vapidKey:N}){const H={web:{endpoint:A,auth:D,p256dh:I}};return N!==Ad&&(H.web.applicationPubKey=N),H}const Fu=6048e5;function Uu(){return Uu=(0,O.Z)(function*(I){const D=yield function Tf(I,D){return Ld.apply(this,arguments)}(I.swRegistration,I.vapidKey),A={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:kt(D.getKey("auth")),p256dh:kt(D.getKey("p256dh"))},N=yield vi(I.firebaseDependencies);if(N){if(function Ng(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}(N.subscriptionOptions,A))return Date.now()>=N.createTime+Fu?function Dn(I,D){return Vu.apply(this,arguments)}(I,{token:N.token,createTime:Date.now(),subscriptionOptions:A}):N.token;try{yield ku(I.firebaseDependencies,N.token)}catch(H){console.warn(H)}return Cf(I.firebaseDependencies,A)}return Cf(I.firebaseDependencies,A)}),Uu.apply(this,arguments)}function ys(){return ys=(0,O.Z)(function*(I){const D=yield vi(I.firebaseDependencies);D&&(yield ku(I.firebaseDependencies,D.token),yield function Nd(I){return Va.apply(this,arguments)}(I.firebaseDependencies));const A=yield I.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),ys.apply(this,arguments)}function Vu(){return Vu=(0,O.Z)(function*(I,D){try{const A=yield function Ou(I,D){return Od.apply(this,arguments)}(I.firebaseDependencies,D),N=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield uo(I.firebaseDependencies,N),A}catch(A){throw yield function _r(I){return ys.apply(this,arguments)}(I),A}}),Vu.apply(this,arguments)}function Cf(I,D){return co.apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(I,D){const N={token:yield Qo(I,D),createTime:Date.now(),subscriptionOptions:D};return yield uo(I,N),N.token})).apply(this,arguments)}function Ld(){return(Ld=(0,O.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:La(D)})})).apply(this,arguments)}function Bu(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function tl(I,D){if(!D.notification)return;I.notification={};const A=D.notification.title;A&&(I.notification.title=A);const N=D.notification.body;N&&(I.notification.body=N);const H=D.notification.image;H&&(I.notification.image=H);const K=D.notification.icon;K&&(I.notification.icon=K)}(D,I),function nl(I,D){D.data&&(I.data=D.data)}(D,I),function Fd(I,D){var A,N,H,K,te;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;I.fcmOptions={};const Ge=null!==(H=null===(N=D.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==H?H:null===(K=D.notification)||void 0===K?void 0:K.click_action;Ge&&(I.fcmOptions.link=Ge);const $e=null===(te=D.fcmOptions)||void 0===te?void 0:te.analytics_label;$e&&(I.fcmOptions.analyticsLabel=$e)}(D,I),D}function Jo(I,D){const A=[];for(let N=0;N<I.length;N++)A.push(I.charAt(N)),N<D.length&&A.push(D.charAt(N));return A.join("")}function vs(I){return qn.create("missing-app-config-values",{valueName:I})}Jo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Og{constructor(D,A,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Xo(I){if(!I||!I.options)throw vs("App Configuration Object");if(!I.name)throw vs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=I;for(const N of D)if(!A[N])throw vs(N);return{appName:I.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:H,installations:A,analyticsProvider:N}}_delete(){return Promise.resolve()}}function Sf(I){return ju.apply(this,arguments)}function ju(){return(ju=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Mt,{scope:ka}),I.swRegistration.update().catch(()=>{})}catch(D){throw qn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield Sf(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function ho(){return(ho=(0,O.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=Ad)})).apply(this,arguments)}function ea(){return ea=(0,O.Z)(function*(I,D){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield function lo(I,D){return ho.apply(this,arguments)}(I,D?.vapidKey),yield function jy(I,D){return $a.apply(this,arguments)}(I,D?.serviceWorkerRegistration),function bf(I){return Uu.apply(this,arguments)}(I)}),ea.apply(this,arguments)}function fo(){return(fo=(0,O.Z)(function*(I,D,A){const N=function po(I){switch(I){case he.NOTIFICATION_CLICKED:return"notification_open";case he.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:A[xu],message_name:A[Rd],message_time:A[Ru],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function go(){return go=(0,O.Z)(function*(I,D){const A=D.data;if(!A.isFirebaseMessaging)return;I.onMessageHandler&&A.messageType===he.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Bu(A)):I.onMessageHandler.next(Bu(A)));const N=A.data;(function rl(I){return"object"==typeof I&&!!I&&xu in I})(N)&&"1"===N[Rg]&&(yield function il(I,D,A){return fo.apply(this,arguments)}(I,A.messageType,N))}),go.apply(this,arguments)}const $s="@firebase/messaging",mo=I=>{const D=new Og(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Hu(I,D){return go.apply(this,arguments)}(D,A)),D},zu=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:N=>function $u(I,D){return ea.apply(this,arguments)}(D,N)}};function Af(){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,O.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ha(){(0,ie._registerComponent)(new re.wA("messaging",mo,"PUBLIC")),(0,ie._registerComponent)(new re.wA("messaging-internal",zu,"PRIVATE")),(0,ie.registerVersion)($s,"0.12.4"),(0,ie.registerVersion)($s,"0.12.4","esm2017")}();const hn="analytics",jd="firebase_id",Wu="origin",ol=6e4,qu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ku="https://www.googletagmanager.com/gtag/js",nr=new me.Yd("@firebase/analytics"),Bn=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function al(I){if(!I.startsWith(Ku)){const D=Bn.create("invalid-gtag-resource",{gtagURL:I});return nr.warn(D.message),""}return I}function za(I){return Promise.all(I.map(D=>D.catch(A=>A)))}function _o(){return(_o=(0,O.Z)(function*(I,D,A,N,H,K){const te=N[H];try{if(te)yield D[te];else{const $e=(yield za(A)).find(at=>at.measurementId===H);$e&&(yield D[$e.appId])}}catch(Ge){nr.error(Ge)}I("config",H,K)})).apply(this,arguments)}function Wa(){return(Wa=(0,O.Z)(function*(I,D,A,N,H){try{let K=[];if(H&&H.send_to){let te=H.send_to;Array.isArray(te)||(te=[te]);const Ge=yield za(A);for(const $e of te){const at=Ge.find(xt=>xt.measurementId===$e),At=at&&D[at.appId];if(!At){K=[];break}K.push(At)}}0===K.length&&(K=Object.values(D)),yield Promise.all(K),I("event",N,H||{})}catch(K){nr.error(K)}})).apply(this,arguments)}const qa=30,Io=new class wo{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Mf(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Zt(){return(Zt=(0,O.Z)(function*(I){var D;const{appId:A,apiKey:N}=I,H={method:"GET",headers:Mf(N)},K=qu.replace("{app-id}",A),te=yield fetch(K,H);if(200!==te.status&&304!==te.status){let Ge="";try{const $e=yield te.json();null!==(D=$e.error)&&void 0!==D&&D.message&&(Ge=$e.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:te.status,responseMessage:Ge})}return te.json()})).apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(I,D=Io,A){const{appId:N,apiKey:H,measurementId:K}=I.options;if(!N)throw Bn.create("no-app-id");if(!H){if(K)return{measurementId:K,appId:N};throw Bn.create("no-api-key")}const te=D.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Hy;return setTimeout((0,O.Z)(function*(){Ge.abort()}),void 0!==A?A:ol),cl({appId:N,apiKey:H,measurementId:K},te,Ge,D)})).apply(this,arguments)}function cl(I,D,A){return ll.apply(this,arguments)}function ll(){return ll=(0,O.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:A},N,H=Io){var K;const{appId:te,measurementId:Ge}=I;try{yield function $y(I,D){return new Promise((A,N)=>{const H=Math.max(D-Date.now(),0),K=setTimeout(A,H);I.addEventListener(()=>{clearTimeout(K),N(Bn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(N,D)}catch($e){if(Ge)return nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:te,measurementId:Ge};throw $e}try{const $e=yield function $d(I){return Zt.apply(this,arguments)}(I);return H.deleteThrottleMetadata(te),$e}catch($e){const at=$e;if(!function Pf(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(at)){if(H.deleteThrottleMetadata(te),Ge)return nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:te,measurementId:Ge};throw $e}const At=503===Number(null===(K=at?.customData)||void 0===K?void 0:K.httpStatus)?(0,se.$s)(A,H.intervalMillis,qa):(0,se.$s)(A,H.intervalMillis),xt={throttleEndTimeMillis:Date.now()+At,backoffCount:A+1};return H.setThrottleMetadata(te,xt),nr.debug(`Calling attemptFetch again in ${At} millis`),cl(I,xt,N,H)}}),ll.apply(this,arguments)}class Hy{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Eo,kf;function Nf(){return(Nf=(0,O.Z)(function*(I,D,A,N,H){if(H&&H.global)I("event",A,N);else{const K=yield D;I("event",A,Object.assign(Object.assign({},N),{send_to:K}))}})).apply(this,arguments)}function ln(){return(ln=(0,O.Z)(function*(){if(!(0,se.hl)())return nr.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(I){return nr.warn(Bn.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function ot(){return ot=(0,O.Z)(function*(I,D,A,N,H,K,te){var Ge;const $e=function kg(I){return Ka.apply(this,arguments)}(I);$e.then(fn=>{A[fn.measurementId]=fn.appId,I.options.measurementId&&fn.measurementId!==I.options.measurementId&&nr.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>nr.error(fn)),D.push($e);const at=function Gr(){return ln.apply(this,arguments)}().then(fn=>{if(fn)return N.getId()}),[At,xt]=yield Promise.all([$e,at]);(function ia(I){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Ku)&&A.src.includes(I))return A;return null})(K)||function ws(I,D){const A=function Ga(I,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(I,D)),A}("firebase-js-sdk-policy",{createScriptURL:al}),N=document.createElement("script"),H=`${Ku}?l=${I}&id=${D}`;N.src=A?A?.createScriptURL(H):H,N.async=!0,document.head.appendChild(N)}(K,At.measurementId),kf&&(H("consent","default",kf),function hl(I){kf=I}(void 0)),H("js",new Date);const Mr=null!==(Ge=te?.config)&&void 0!==Ge?Ge:{};return Mr[Wu]="firebase",Mr.update=!0,null!=xt&&(Mr[jd]=xt),H("config",At.measurementId,Mr),Eo&&(H("set",Eo),function Xu(I){Eo=I}(void 0)),At.measurementId}),ot.apply(this,arguments)}class Ar{constructor(D){this.app=D}_delete(){return delete Sn[this.app.options.appId],Promise.resolve()}}let Sn={},Hd=[];const Ya={};let fl,Ei,Ii="dataLayer",ec="gtag",sa=!1;function zs(I,D,A){!function Qa(){const I=[];if((0,se.ru)()&&I.push("This is a browser extension environment."),(0,se.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((N,H)=>`(${H+1}) ${N}`).join(" "),A=Bn.create("invalid-analytics-context",{errorInfo:D});nr.warn(A.message)}}();const N=I.options.appId;if(!N)throw Bn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Bn.create("no-api-key");nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sn[N])throw Bn.create("already-exists",{id:N});if(!sa){!function xf(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Ii);const{wrappedGtag:K,gtagCore:te}=function Hs(I,D,A,N,H){let K=function(...te){window[N].push(arguments)};return window[H]&&"function"==typeof window[H]&&(K=window[H]),window[H]=function ra(I,D,A,N){function K(){return K=(0,O.Z)(function*(te,...Ge){try{if("event"===te){const[$e,at]=Ge;yield function ul(I,D,A,N,H){return Wa.apply(this,arguments)}(I,D,A,$e,at)}else if("config"===te){const[$e,at]=Ge;yield function Zu(I,D,A,N,H,K){return _o.apply(this,arguments)}(I,D,A,N,$e,at)}else if("consent"===te){const[$e]=Ge;I("consent","update",$e)}else if("get"===te){const[$e,at,At]=Ge;I("get",$e,at,At)}else if("set"===te){const[$e]=Ge;I("set",$e)}else I(te,...Ge)}catch($e){nr.error($e)}}),K.apply(this,arguments)}return function H(te){return K.apply(this,arguments)}}(K,I,D,A),{gtagCore:K,wrappedGtag:window[H]}}(Sn,Hd,Ya,Ii,ec);Ei=K,fl=te,sa=!0}return Sn[N]=function wi(I,D,A,N,H,K,te){return ot.apply(this,arguments)}(I,Hd,Ya,D,fl,Ii,A),new Ar(I)}function nc(){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const Ja="@firebase/analytics";!function Lf(){(0,ie._registerComponent)(new re.wA(hn,(D,{options:A})=>zs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ie._registerComponent)(new re.wA("analytics-internal",function I(D){try{const A=D.getProvider(hn).getImmediate();return{logEvent:(N,H,K)=>function zd(I,D,A,N){I=(0,se.m9)(I),function zy(I,D,A,N,H){return Nf.apply(this,arguments)}(Ei,Sn[I.app.options.appId],D,A,N).catch(H=>nr.error(H))}(A,N,H,K)}}catch(A){throw Bn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ie.registerVersion)(Ja,"0.10.0"),(0,ie.registerVersion)(Ja,"0.10.0","esm2017")}();var Xa=k(4408),ji=k(7565);const Rr=new class tu extends ji.v{}(class eu extends Xa.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(D,A,N):(D.flush(this),0)}});var vl=k(4986),Kn=k(8505),Ao=k(9468),xo=k(5363);const Wr=new v.GfV("7.6.1"),jn="__angularfire_symbol__analyticsIsSupportedValue",Ro="__angularfire_symbol__analyticsIsSupported",_l="__angularfire_symbol__remoteConfigIsSupportedValue",oa="__angularfire_symbol__remoteConfigIsSupported",$i="__angularfire_symbol__messagingIsSupportedValue",is="__angularfire_symbol__messagingIsSupported";function oc(I,D,A){if(D){if(1===D.length)return D[0];const K=D.filter(te=>te.app===A);if(1===K.length)return K[0]}return A.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ro]||(globalThis[Ro]=nc().then(I=>globalThis[jn]=I).catch(()=>globalThis[jn]=!1)),globalThis[is]||(globalThis[is]=Af().then(I=>globalThis[$i]=I).catch(()=>globalThis[$i]=!1)),globalThis[oa]||(globalThis[oa]=Yc().then(I=>globalThis[_l]=I).catch(()=>globalThis[_l]=!1));const ac=(I,D)=>{const A=D?[D]:(0,Q.C6)(),N=[];return A.forEach(H=>{H.container.getProvider(I).instances.forEach(te=>{N.includes(te)||N.push(te)})}),N};function Is(){}class wl{constructor(D,A=Rr){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,N){const H=this.zone;return this.delegate.schedule(function(te){H.runGuarded(()=>{D.apply(this,[te])})},A,N)}}class uc{constructor(D){this.zone=D,this.task=null}call(D,A){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Is,{},Is,Is)),A.pipe((0,Kn.b)({next:N,complete:N,error:N})).subscribe(D).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let It=(()=>{class I{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=A.run(()=>new wl(Zone.current,vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(A){return new(A||I)(v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Hi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function zi(I){return Hi(),function qd(I){return function(A){return(A=A.lift(new uc(I.ngZone))).pipe((0,Ao.R)(I.outsideAngular),(0,xo.Q)(I.insideAngular))}}(Hi())(I)}},2090:(vt,Se,k)=>{k.d(Se,{$s:()=>Oi,BH:()=>Ee,G6:()=>Qi,L:()=>fe,LL:()=>De,Pz:()=>Ie,Sg:()=>ze,UG:()=>ne,US:()=>re,ZB:()=>q,ZR:()=>Ce,aH:()=>Ne,b$:()=>Ht,eu:()=>le,hl:()=>ae,jU:()=>bt,m9:()=>$r,ne:()=>en,pd:()=>Ji,r3:()=>Mn,ru:()=>Je,tV:()=>$,uI:()=>tt,vZ:()=>pt,w1:()=>Os,xO:()=>yr,xb:()=>ei,z$:()=>Le,zI:()=>ge,zd:()=>Br});const ie=function(V){const F=[];let G=0;for(let ve=0;ve<V.length;ve++){let J=V.charCodeAt(ve);J<128?F[G++]=J:J<2048?(F[G++]=J>>6|192,F[G++]=63&J|128):55296==(64512&J)&&ve+1<V.length&&56320==(64512&V.charCodeAt(ve+1))?(J=65536+((1023&J)<<10)+(1023&V.charCodeAt(++ve)),F[G++]=J>>18|240,F[G++]=J>>12&63|128,F[G++]=J>>6&63|128,F[G++]=63&J|128):(F[G++]=J>>12|224,F[G++]=J>>6&63|128,F[G++]=63&J|128)}return F},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let J=0;J<V.length;J+=3){const Fe=V[J],Ct=J+1<V.length,Yt=Ct?V[J+1]:0,Un=J+2<V.length,En=Un?V[J+2]:0;let Cr=(15&Yt)<<2|En>>6,Li=63&En;Un||(Li=64,Ct||(Cr=64)),ve.push(G[Fe>>2],G[(3&Fe)<<4|Yt>>4],G[Cr],G[Li])}return ve.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(ie(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let G=0,ve=0;for(;G<V.length;){const J=V[G++];if(J<128)F[ve++]=String.fromCharCode(J);else if(J>191&&J<224){const Fe=V[G++];F[ve++]=String.fromCharCode((31&J)<<6|63&Fe)}else if(J>239&&J<365){const Un=((7&J)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;F[ve++]=String.fromCharCode(55296+(Un>>10)),F[ve++]=String.fromCharCode(56320+(1023&Un))}else{const Fe=V[G++],Ct=V[G++];F[ve++]=String.fromCharCode((15&J)<<12|(63&Fe)<<6|63&Ct)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let J=0;J<V.length;){const Fe=G[V.charAt(J++)],Yt=J<V.length?G[V.charAt(J)]:0;++J;const En=J<V.length?G[V.charAt(J)]:64;++J;const zt=J<V.length?G[V.charAt(J)]:64;if(++J,null==Fe||null==Yt||null==En||null==zt)throw new me;ve.push(Fe<<2|Yt>>4),64!==En&&(ve.push(Yt<<4&240|En>>2),64!==zt&&ve.push(En<<6&192|zt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(V){return function(V){const F=ie(V);return re.encodeByteArray(F,!0)}(V).replace(/\./g,"")},$=function(V){try{return re.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function q(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!je(G)||(V[G]=q(V[G],F[G]));return V}function je(V){return"__proto__"!==V}const Me=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&$(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Ne=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},Ie=V=>{var F;return null===(F=Me())||void 0===F?void 0:F[`_${V}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,ve)=>{G?this.reject(G):this.resolve(ve),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,ve))}}}function ze(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=F||"demo-project",J=V.iat||0,Fe=V.sub||V.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:J,exp:J+3600,auth_time:J,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},V);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ct)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ne(){var V;const F=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bt(){return"object"==typeof self&&self.self===self}function Je(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Os(){const V=Le();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Qi(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((V,F)=>{try{let G=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ve);J.onsuccess=()=>{J.result.close(),G||self.indexedDB.deleteDatabase(ve),V(!0)},J.onupgradeneeded=()=>{G=!1},J.onerror=()=>{var Fe;F((null===(Fe=J.error)||void 0===Fe?void 0:Fe.message)||"")}}catch(G){F(G)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(F,G,ve){super(G),this.code=F,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(F,G,ve){this.service=F,this.serviceName=G,this.errors=ve}create(F,...G){const ve=G[0]||{},J=`${this.service}/${F}`,Fe=this.errors[F],Ct=Fe?function lt(V,F){return V.replace(dt,(G,ve)=>{const J=F[ve];return null!=J?String(J):`<${ve}?>`})}(Fe,ve):"Error";return new Ce(J,`${this.serviceName}: ${Ct} (${J}).`,ve)}}const dt=/\{\$([^}]+)}/g;function Mn(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function ei(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function pt(V,F){if(V===F)return!0;const G=Object.keys(V),ve=Object.keys(F);for(const J of G){if(!ve.includes(J))return!1;const Fe=V[J],Ct=F[J];if(ti(Fe)&&ti(Ct)){if(!pt(Fe,Ct))return!1}else if(Fe!==Ct)return!1}for(const J of ve)if(!G.includes(J))return!1;return!0}function ti(V){return null!==V&&"object"==typeof V}function yr(V){const F=[];for(const[G,ve]of Object.entries(V))Array.isArray(ve)?ve.forEach(J=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(J))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(ve));return F.length?"&"+F.join("&"):""}function Br(V){const F={};return V.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[J,Fe]=ve.split("=");F[decodeURIComponent(J)]=decodeURIComponent(Fe)}}),F}function Ji(V){const F=V.indexOf("?");if(!F)return"";const G=V.indexOf("#",F);return V.substring(F,G>0?G:void 0)}function en(V,F){const G=new nt(V,F);return G.subscribe.bind(G)}class nt{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(ve=>{this.error(ve)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,ve){let J;if(void 0===F&&void 0===G&&void 0===ve)throw new Error("Missing Observer.");J=function hi(V,F){if("object"!=typeof V||null===V)return!1;for(const G of F)if(G in V&&"function"==typeof V[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:ve},void 0===J.next&&(J.next=ni),void 0===J.error&&(J.error=ni),void 0===J.complete&&(J.complete=ni);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),Fe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ni(){}const tn=1e3,fi=2,Pn=144e5,Hn=.5;function Oi(V,F=tn,G=fi){const ve=F*Math.pow(G,V),J=Math.round(Hn*ve*(Math.random()-.5)*2);return Math.min(Pn,ve+J)}function $r(V){return V&&V._delegate?V._delegate:V}},9601:(vt,Se,k)=>{var v=k(4650);let Q=null;function O(){return Q}class se{}const re=new v.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return function we(){return(0,v.LFG)($)}()},providedIn:"platform"}),n})();const fe=new v.OlP("Location Initialized");let $=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){j()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){j()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(re))},n.\u0275prov=v.Yz7({token:n,factory:function(){return function q(){return new $((0,v.LFG)(re))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let ct=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return(0,v.f3M)(Me)},providedIn:"root"}),n})();const pe=new v.OlP("appBaseHref");let Me=(()=>{class n extends ct{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+We(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+We(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+We(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(me),v.LFG(pe,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n extends ct{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+We(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+We(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(me),v.LFG(pe,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n{constructor(t){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ze(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(be(Ee(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+We(r))}normalize(t){return n.stripTrailingSlash(function Ie(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=We,n.joinWithSlash=je,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(v.LFG(ct))},n.\u0275prov=v.Yz7({token:n,factory:function(){return function Ne(){return new Be((0,v.LFG)(ct))}()},providedIn:"root"}),n})();function Ee(n){return n.replace(/\/index.html$/,"")}function no(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}let Ls=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Aa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Aa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(v.s_b),v.Y36(v.Rgc))},n.\u0275dir=v.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function Aa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,v.AaK)(e)}'.`)}let Fs=(()=>{class n{constructor(t,r,s){this._ngEl=t,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[s,u]=t.split("."),l=-1===s.indexOf("-")?void 0:v.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,s,u?`${r}${u}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,s,l)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(v.SBq),v.Y36(v.aQg),v.Y36(v.Qsj))},n.\u0275dir=v.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),yi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({}),n})();const bd="server";function fs(n){return n===bd}let Ma=(()=>{class n{}return n.\u0275prov=(0,v.Yz7)({token:n,providedIn:"root",factory:()=>new Cd((0,v.LFG)(re),window)}),n})();class Cd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Vs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qc(this.window.history)||Qc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pa{}class Fd extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rl extends Fd{static makeCurrent(){!function ie(n){Q||(Q=n)}(new rl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xo(){return Jo=Jo||document.querySelector("base"),Jo?Jo.getAttribute("href"):null}();return null==t?null:function Og(n){vs=vs||document.createElement("a"),vs.setAttribute("href",n);const e=vs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return no(document.cookie,e)}}let vs,Jo=null;const Sf=new v.OlP("TRANSITION_ID"),jy=[{provide:v.ip1,useFactory:function ju(n,e,t){return()=>{t.get(v.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Sf,re,v.zs3],multi:!0}];let lo=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const ho=new v.OlP("EventManagerPlugins");let $u=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(ho),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let il=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),fo=(()=>{class n extends il{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(re))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const po={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hu=/%COMP%/g,Ha=new v.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Vd(n,e){return e.flat(100).map(t=>t.replace(Hu,n))}function yo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Vi=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new _s(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof jd?s.applyToHost(t):s instanceof hn&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case v.ifc.Emulated:u=new jd(l,g,r,this.appId,w);break;case v.ifc.ShadowDom:return new Bd(l,g,t,r);default:u=new hn(l,g,r,w)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(v.LFG($u),v.LFG(fo),v.LFG(v.AFp),v.LFG(Ha))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class _s{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(po[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(na(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(na(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=po[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=po[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(v.JOm.DashCase|v.JOm.Important)?e.style.setProperty(t,r,s&v.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&v.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yo(r)):this.eventManager.addEventListener(e,t,yo(r))}}function na(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bd extends _s{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Vd(s.id,s.styles);for(const l of u){const g=document.createElement("style");g.textContent=l,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hn extends _s{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=Vd(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class jd extends hn{constructor(e,t,r,s,u){const l=s+"-"+r.id;super(e,t,r,u,l),this.contentAttr=function Af(n){return"_ngcontent-%COMP%".replace(Hu,n)}(l),this.hostAttr=function Gu(n){return"_nghost-%COMP%".replace(Hu,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Wu=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(re))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const ol=["alt","control","meta","shift"],qu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ku={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nr=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),ol.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=l,w}static matchEventFullKeyCode(t,r){let s=qu[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ol.forEach(l=>{l!==s&&(0,Ku[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(re))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const ul=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:"browser"},{provide:v.g9A,useValue:function ws(){rl.makeCurrent()},multi:!0},{provide:re,useFactory:function Zu(){return(0,v.RDi)(document),document},deps:[]}]),Wa=new v.OlP(""),ra=[{provide:v.rWj,useClass:class $a{addToWindow(e){v.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},v.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(r=>{const s=v.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(w){l=l||w,u--,0==u&&r(l)};s.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Hs=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function xf(){return new v.qLn},deps:[]},{provide:ho,useClass:Wu,multi:!0,deps:[re,v.R0b,v.Lbi]},{provide:ho,useClass:nr,multi:!0,deps:[re]},{provide:Vi,useClass:Vi,deps:[$u,fo,v.AFp,Ha]},{provide:v.FYo,useExisting:Vi},{provide:il,useExisting:fo},{provide:fo,useClass:fo,deps:[re]},{provide:$u,useClass:$u,deps:[ho,v.R0b]},{provide:Pa,useClass:lo,deps:[]},[]];let ia=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:v.AFp,useValue:t.appId},{provide:Sf,useExisting:v.AFp},jy]}}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Wa,12))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[...Hs,...ra],imports:[yi,v.hGG]}),n})(),Mf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(re))},n.\u0275prov=v.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Io(){return new Mf((0,v.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ln=k(8996),wi=k(7669);function ot(...n){const e=(0,wi.yG)(n);return(0,ln.D)(n,e)}var Ar=k(7579);class Sn extends Ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ya=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ii=k(9751);const{isArray:ec}=Array,{getPrototypeOf:fl,prototype:Ei,keys:sa}=Object;var zs=k(4671),_t=k(4004);const{isArray:pl}=Array;var xr=k(5403),gl=k(9672);function ml(...n){const e=(0,wi.yG)(n),t=(0,wi.jO)(n),{args:r,keys:s}=function tc(n){if(1===n.length){const e=n[0];if(ec(e))return{args:e,keys:null};if(function Qa(n){return n&&"object"==typeof n&&fl(n)===Ei}(e)){const t=sa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,ln.D)([],e);const u=new Ii.y(function To(n,e,t=zs.y){return r=>{So(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let w=0;w<s;w++)So(e,()=>{const C=(0,ln.D)(n[w],e);let S=!1;C.subscribe((0,xr.x)(r,P=>{u[w]=P,S||(S=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>function Co(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}(s,l):zs.y));return t?u.pipe(function bo(n){return(0,_t.U)(e=>function nc(n,e){return pl(e)?n(...e):n(e)}(n,e))}(t)):u}function So(n,e,t){n?(0,gl.f)(t,n,e):e()}var rc=k(8189);function ic(...n){return function zd(){return(0,rc.J)(1)}()((0,ln.D)(n,(0,wi.yG)(n)))}var Ja=k(8421);function Gd(n){return new Ii.y(e=>{(0,Ja.Xf)(n()).subscribe(e)})}var Lf=k(9635),Xa=k(576);function eu(n,e){const t=(0,Xa.m)(n)?n:()=>n,r=s=>s.error(t());return new Ii.y(e?s=>e.schedule(r,0,s):r)}var ji=k(515),tu=k(727),Rr=k(4482);function yl(){return(0,Rr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vl extends Ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tu.w0.EMPTY)}return e}refCount(){return yl()(this)}}function Kn(n,e){return(0,Rr.e)((t,r)=>{let s=null,u=0,l=!1;const g=()=>l&&!s&&r.complete();t.subscribe((0,xr.x)(r,w=>{s?.unsubscribe();let C=0;const S=u++;(0,Ja.Xf)(n(w,S)).subscribe(s=(0,xr.x)(r,P=>r.next(e?e(w,P,S,C++):P),()=>{s=null,g()}))},()=>{l=!0,g()}))})}function Ao(n){return n<=0?()=>ji.E:(0,Rr.e)((e,t)=>{let r=0;e.subscribe((0,xr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function xo(...n){const e=(0,wi.yG)(n);return(0,Rr.e)((t,r)=>{(e?ic(n,t,e):ic(n,t)).subscribe(r)})}function Wr(n,e){return(0,Rr.e)((t,r)=>{let s=0;t.subscribe((0,xr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var jn=k(5577);function Ro(n){return(0,Rr.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function _l(n=oa){return(0,Rr.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function oa(){return new Ya}function $i(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wr((s,u)=>n(s,u,r)):zs.y,Ao(1),t?Ro(e):_l(()=>new Ya))}function is(n,e){return(0,Xa.m)(e)?(0,jn.z)(n,e,1):(0,jn.z)(n,1)}var pr=k(8505);function Mo(n){return(0,Rr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,xr.x)(t,void 0,void 0,l=>{u=(0,Ja.Xf)(n(l,Mo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function sc(n,e){return(0,Rr.e)(function Ff(n,e,t,r,s){return(u,l)=>{let g=t,w=e,C=0;u.subscribe((0,xr.x)(l,S=>{const P=C++;w=g?n(w,S,P):(g=!0,S),r&&l.next(w)},s&&(()=>{g&&l.next(w),l.complete()})))}}(n,e,arguments.length>=2,!0))}function oc(n){return n<=0?()=>ji.E:(0,Rr.e)((e,t)=>{let r=[];e.subscribe((0,xr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function ac(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Wr((s,u)=>n(s,u,r)):zs.y,oc(1),t?Ro(e):_l(()=>new Ya))}function uc(n){return(0,Rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const It="primary",Hi=Symbol("RouteTitle");class cc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Di(n){return new cc(n)}function Uf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!qd(n[s],e[s]))return!1;return!0}function qd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Kd(n){return Array.prototype.concat.apply([],n)}function Zd(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function A(n){return(0,v.CqO)(n)?n:(0,v.QGY)(n)?(0,ln.D)(Promise.resolve(n)):ot(n)}const N=!1,H={exact:function $e(n,e,t){if(!gr(n.segments,e.segments)||!Mr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$e(n.children[r],e.children[r],t))return!1;return!0},subset:At},K={exact:function Ge(n,e){return zi(n,e)},subset:function at(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qd(n[t],e[t]))},ignored:()=>!0};function te(n,e,t){return H[t.paths](n.root,e.root,t.matrixParams)&&K[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function At(n,e,t){return xt(n,e,e.segments,t)}function xt(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!gr(s,t)||e.hasChildren()||!Mr(s,t,r))}if(n.segments.length===t.length){if(!gr(n.segments,t)||!Mr(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!At(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(gr(n.segments,s)&&Mr(n.segments,s,r)&&n.children[It])&&xt(n.children[It],e,u,r)}}function Mr(n,e,t){return e.every((r,s)=>K[t](n[s].parameters,r.parameters))}class fn{constructor(e=new Nt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Di(this.queryParams)),this._queryParamMap}toString(){return El.serialize(this)}}class Nt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vf(this)}}class Gs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Di(this.parameters)),this._parameterMap}toString(){return Lg(this)}}function gr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return new Il},providedIn:"root"}),n})();class Il{parse(e){const t=new bl(e);return new fn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${nu(e.root,!0)}`,r=function Gy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${No(t)}=${No(s)}`).join("&"):`${No(t)}=${No(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Bf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const El=new Il;function Vf(n){return n.segments.map(e=>Lg(e)).join("/")}function nu(n,e){if(!n.hasChildren())return Vf(n);if(e){const t=n.children[It]?nu(n.children[It],!1):"",r=[];return D(n.children,(s,u)=>{u!==It&&r.push(`${u}:${nu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gi(n,e){let t=[];return D(n.children,(r,s)=>{s===It&&(t=t.concat(e(r,s)))}),D(n.children,(r,s)=>{s!==It&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===It?[nu(n.children[It],!1)]:[`${s}:${nu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${Vf(n)}/${t[0]}`:`${Vf(n)}/(${t.join("//")})`}}function Dl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function No(n){return Dl(n).replace(/%3B/gi,";")}function Oo(n){return Dl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lc(n){return decodeURIComponent(n)}function jf(n){return lc(n.replace(/\+/g,"%20"))}function Lg(n){return`${Oo(n.path)}${function $f(n){return Object.keys(n).map(e=>`;${Oo(e)}=${Oo(n[e])}`).join("")}(n.parameters)}`}const Fg=/^[^\/()?;=#]+/;function Yd(n){const e=n.match(Fg);return e?e[0]:""}const L0=/^[^=?&#]+/,Wy=/^[^&#]+/;class bl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[It]=new Nt(e,t)),r}parseSegment(){const e=Yd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new v.vHH(4009,N);return this.capture(e),new Gs(lc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Yd(this.remaining);s&&(r=s,this.capture(r))}e[lc(t)]=lc(r)}parseQueryParam(e){const t=function ru(n){const e=n.match(L0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Ug(n){const e=n.match(Wy);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=jf(t),u=jf(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yd(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new v.vHH(4010,N);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=It);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[It]:new Nt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new v.vHH(4011,N)}}function Qd(n){return n.segments.length>0?new Nt([],{[It]:n}):n}function aa(n){const e={};for(const r of Object.keys(n.children)){const u=aa(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function qy(n){if(1===n.numberOfChildren&&n.children[It]){const e=n.children[It];return new Nt(n.segments.concat(e.segments),e.children)}return n}(new Nt(n.segments,e))}function iu(n){return n instanceof fn}const dc=!1;function Vg(n,e,t,r,s){if(0===t.length)return ko(e.root,e.root,e.root,r,s);const u=function Sl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xd(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return D(u.outlets,(w,C)=>{g[C]="string"==typeof w?w.split("/"):w}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new Xd(t,e,r)}(t);return u.toRoot()?ko(e.root,e.root,new Nt([],{}),r,s):function l(w){const C=function eh(n,e,t,r){if(n.isAbsolute)return new su(e.root,!0,0);if(-1===r)return new su(t,t===e.root,0);return function ou(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new v.vHH(4005,dc&&"Invalid number of '../'");s=r.segments.length}return new su(r,!1,s-u)}(t,r+(Tl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=C.processChildren?Es(C.segmentGroup,C.index,u.commands):nh(C.segmentGroup,C.index,u.commands);return ko(e.root,C.segmentGroup,S,r,s)}(n.snapshot?._lastPathIndex)}function Tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jd(n){return"object"==typeof n&&null!=n&&n.outlets}function ko(n,e,t,r,s){let l,u={};r&&D(r,(w,C)=>{u[C]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),l=n===e?t:Bg(n,e,t);const g=Qd(aa(l));return new fn(g,u,s)}function Bg(n,e,t){const r={};return D(n.children,(s,u)=>{r[u]=s===e?t:Bg(s,e,t)}),new Nt(n.segments,r)}class Xd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tl(r[0]))throw new v.vHH(4003,dc&&"Root segment cannot have matrix parameters");const s=r.find(Jd);if(s&&s!==Zd(r))throw new v.vHH(4004,dc&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class su{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nh(n,e,t){if(n||(n=new Nt([],{})),0===n.segments.length&&n.hasChildren())return Es(n,e,t);const r=function zf(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(Jd(g))break;const w=`${g}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&C&&"object"==typeof C&&void 0===C.outlets){if(!Wf(w,C,l))return u;r+=2}else{if(!Wf(w,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Nt(n.segments.slice(0,r.pathIndex),{});return u.children[It]=new Nt(n.segments.slice(r.pathIndex),n.children),Es(u,0,s)}return r.match&&0===s.length?new Nt(n.segments,{}):r.match&&!n.hasChildren()?Al(n,e,t):r.match?Es(n,0,s):Al(n,e,t)}function Es(n,e,t){if(0===t.length)return new Nt(n.segments,{});{const r=function th(n){return Jd(n[0])?n[0].outlets:{[It]:n}}(t),s={};if(!r[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const u=Es(n.children[It],e,t);return new Nt(n.segments,u.children)}return D(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=nh(n.children[l],e,u))}),D(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new Nt(n.segments,s)}}function Al(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Jd(u)){const w=xl(u.outlets);return new Nt(r,w)}if(0===s&&Tl(t[0])){r.push(new Gs(n.segments[e].path,Gf(t[0]))),s++;continue}const l=Jd(u)?u.outlets[It]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&Tl(g)?(r.push(new Gs(l,Gf(g))),s+=2):(r.push(new Gs(l,{})),s++)}return new Nt(r,{})}function xl(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Al(new Nt([],{}),0,t))}),e}function Gf(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function Wf(n,e,t){return n==t.path&&zi(e,t.parameters)}const Rl="imperative";class qs{constructor(e,t){this.id=e,this.url=t}}class qf extends qs{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ss extends qs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ml extends qs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ca extends qs{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Pl extends qs{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hc extends qs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zy extends qs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yy extends qs{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qy extends qs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kf extends qs{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $g{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class au{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Qf=(()=>{class n{createUrlTree(t,r,s,u,l,g){return Vg(t||r.root,s,u,l,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),Jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(e){return Qf.\u0275fac(e)},providedIn:"root"}),n})();class Xf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ep(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ep(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Pr(e,this._root).map(t=>t.value)}}function ep(n,e){if(n===e.value)return e;for(const t of e.children){const r=ep(n,t);if(r)return r}return null}function Pr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Pr(n,t);if(r.length)return r.unshift(e),r}return[]}class Ci{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Xy extends Xf{constructor(e,t){super(e),this.snapshot=t,uu(this,e)}toString(){return this.snapshot.toString()}}function ev(n,e){const t=function tv(n,e){const l=new ih([],{},{},"",{},It,e,null,n.root,-1,{});return new Ks("",new Ci(l,[]))}(n,e),r=new Sn([new Gs("",{})]),s=new Sn({}),u=new Sn({}),l=new Sn({}),g=new Sn(""),w=new wr(r,s,l,g,u,It,e,t.root);return w.snapshot=t.root,new Xy(new Ci(w,[]),t)}class wr{constructor(e,t,r,s,u,l,g,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.title=this.data?.pipe((0,_t.U)(C=>C[Hi]))??ot(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(e=>Di(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(e=>Di(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function rh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ih{get title(){return this.data?.[Hi]}constructor(e,t,r,s,u,l,g,w,C,S,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=w,this._urlSegment=C,this._lastPathIndex=S,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Di(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Di(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ks extends Xf{constructor(e,t){super(t),this.url=e,uu(this,t)}toString(){return np(this._root)}}function uu(n,e){e.value._routerState=n,e.children.forEach(t=>uu(n,t))}function np(n){const e=n.children.length>0?` { ${n.children.map(np).join(", ")} } `:"";return`${n.value}${e}`}function gc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zi(e.params,t.params)||n.params.next(t.params),function Wd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ds(n,e){const t=zi(n.params,e.params)&&function Po(n,e){return gr(n,e)&&n.every((t,r)=>zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ds(n.parent,e.parent))}function mc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function zg(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return mc(n,r,s);return mc(n,r)})}(n,e,t);return new Ci(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>mc(n,g)),l}}const r=function Gg(n){return new wr(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>mc(n,u));return new Ci(r,s)}}const Wg="ngNavigationCancelingError";function m(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=iu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=h(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function h(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Wg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function f(n){return _(n)&&iu(n.url)}function _(n){return n&&n[Wg]}class T{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new R,this.attachRef=null}}let R=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new T,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U=!1;let Z=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(R),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,U);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,U);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,U);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new v.vHH(4013,U);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,w=new Ae(t,g,s.injector);if(r&&function He(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(l);this.activated=s.createComponent(C,s.length,w)}else this.activated=s.createComponent(l,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=v.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]}),n})();class Ae{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wr?this.route:e===R?this.childContexts:this.parent.get(e,t)}}let Xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(t,r){1&t&&v._UZ(0,"router-outlet")},dependencies:[Z],encapsulation:2}),n})();function et(n,e){return n.providers&&!n._injector&&(n._injector=(0,v.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kl(n){const e=n.children&&n.children.map(kl),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==It&&(t.component=Xe),t}function Wi(n){return n.outlet||It}function oh(n,e){const t=n.filter(r=>Wi(r)===e);return t.push(...n.filter(r=>Wi(r)!==e)),t}function yc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ah{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=pc(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),D(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=pc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=pc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=pc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new bi(u.value.snapshot))}),e.children.length&&this.forwardEvent(new fc(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(gc(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),gc(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=yc(s.snapshot),w=g?.get(v._Vd)??null;l.attachRef=null,l.route=s,l.resolver=w,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class iv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sv{constructor(e,t){this.component=e,this.route=t}}function rp(n,e,t){const r=n._root;return uh(r,e?e._root:null,t,[r.value])}function Ll(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,v.Z0I)(n)?e.get(n):n:r}function uh(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=pc(e);return n.children.forEach(l=>{(function F0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const w=function mD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!gr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gr(n.url,e.url)||!zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ds(n,e)||!zi(n.queryParams,e.queryParams);default:return!Ds(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new iv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),uh(n,e,u.component?g?g.children:null:t,r,s),w&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new sv(g.outlet.component,l))}else l&&ip(e,g,s),s.canActivateChecks.push(new iv(r)),uh(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),D(u,(l,g)=>ip(l,t.getContext(g),s)),s}function ip(n,e,t){const r=pc(n),s=n.value;D(r,(u,l)=>{ip(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new sv(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function ch(n){return"function"==typeof n}function lu(n){return n instanceof Ya||"EmptyError"===n?.name}const Zg=Symbol("INITIAL_VALUE");function vc(){return Kn(n=>ml(n.map(e=>e.pipe(Ao(1),xo(Zg)))).pipe((0,_t.U)(e=>{for(const t of e)if(!0!==t){if(t===Zg)return Zg;if(!1===t||t instanceof fn)return t}return!0}),Wr(e=>e!==Zg),Ao(1)))}function hv(n){return(0,Lf.z)((0,pr.b)(e=>{if(iu(e))throw m(0,e)}),(0,_t.U)(e=>!0===e))}const fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j0(n,e,t,r,s){const u=pv(n,e,t);return u.matched?function lh(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?ot(s.map(l=>{const g=Ll(l,n);return A(function cv(n){return n&&ch(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(vc(),hv()):ot(!0)}(r=et(e,r),e,t).pipe((0,_t.U)(l=>!0===l?u:{...fv})):ot(u)}function pv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Uf)(t,n,e);if(!s)return{...fv};const u={};D(s.posParams,(g,w)=>{u[w]=g.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function dh(n,e,t,r){if(t.length>0&&function DD(n,e,t){return t.some(r=>gv(n,e,r)&&Wi(r)!==It)}(n,t,r)){const u=new Nt(e,function $0(n,e,t,r){const s={};s[It]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Wi(u)!==It){const l=new Nt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[Wi(u)]=l}return s}(n,e,r,new Nt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function H0(n,e,t){return t.some(r=>gv(n,e,r))}(n,t,r)){const u=new Nt(n.segments,function ED(n,e,t,r,s){const u={};for(const l of r)if(gv(n,t,l)&&!s[Wi(l)]){const g=new Nt([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[Wi(l)]=g}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Nt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function gv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function z0(n,e,t,r){return!!(Wi(n)===r||r!==It&&gv(e,t,n))&&("**"===n.path||pv(e,n,t).matched)}function hh(n,e,t){return 0===e.length&&!n.children[t]}const Jg=!1;class du{constructor(e){this.segmentGroup=e||null}}class fh{constructor(e){this.urlTree=e}}function sp(n){return eu(new du(n))}function mv(n){return eu(new fh(n))}class G0{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=dh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Nt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,It).pipe((0,_t.U)(u=>this.createUrlTree(aa(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mo(u=>{if(u instanceof fh)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof du?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,It).pipe((0,_t.U)(s=>this.createUrlTree(aa(s),e.queryParams,e.fragment))).pipe(Mo(s=>{throw s instanceof du?this.noMatchError(s):s}))}noMatchError(e){return new v.vHH(4002,Jg)}createUrlTree(e,t,r){const s=Qd(e);return new fn(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_t.U)(u=>new Nt([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,ln.D)(s).pipe(is(u=>{const l=r.children[u],g=oh(t,u);return this.expandSegmentGroup(e,g,l,u).pipe((0,_t.U)(w=>({segment:w,outlet:u})))}),sc((u,l)=>(u[l.outlet]=l.segment,u),{}),ac())}expandSegment(e,t,r,s,u,l){return(0,ln.D)(r).pipe(is(g=>this.expandSegmentAgainstRoute(e,t,r,g,s,u,l).pipe(Mo(C=>{if(C instanceof du)return ot(null);throw C}))),$i(g=>!!g),Mo((g,w)=>{if(lu(g))return hh(t,s,u)?ot(new Nt([],{})):sp(t);throw g}))}expandSegmentAgainstRoute(e,t,r,s,u,l,g){return z0(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):sp(t):sp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mv(u):this.lineralizeSegments(r,u).pipe((0,jn.z)(l=>{const g=new Nt(l,{});return this.expandSegment(e,g,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:w,remainingSegments:C,positionalParamSegments:S}=pv(t,s,u);if(!g)return sp(t);const P=this.applyRedirectCommands(w,s.redirectTo,S);return s.redirectTo.startsWith("/")?mv(P):this.lineralizeSegments(s,P).pipe((0,jn.z)(B=>this.expandSegment(e,t,r,B.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=et(r,e),r.loadChildren?(r._loadedRoutes?ot({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,_t.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Nt(s,{})))):ot(new Nt(s,{}))):j0(t,r,s,e).pipe(Kn(({matched:l,consumedSegments:g,remainingSegments:w})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,jn.z)(S=>{const P=S.injector??e,B=S.routes,{segmentGroup:W,slicedSegments:ue}=dh(t,g,w,B),xe=new Nt(W.segments,W.children);if(0===ue.length&&xe.hasChildren())return this.expandChildren(P,B,xe).pipe((0,_t.U)(wt=>new Nt(g,wt)));if(0===B.length&&0===ue.length)return ot(new Nt(g,{}));const ke=Wi(r)===u;return this.expandSegment(P,xe,B,ue,ke?It:u,!0).pipe((0,_t.U)(Et=>new Nt(g.concat(Et.segments),Et.children)))})):sp(t)))}getChildConfig(e,t,r){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function ID(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?ot(!0):ot(s.map(l=>{const g=Ll(l,n);return A(function av(n){return n&&ch(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(vc(),hv())}(e,t,r).pipe((0,jn.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,pr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function CD(n){return eu(h(Jg,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ot(r);if(s.numberOfChildren>1||!s.children[It])return e.redirectTo,eu(new v.vHH(4e3,Jg));s=s.children[It]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new fn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);r[u]=t[g]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return D(t.children,(g,w)=>{l[w]=this.createSegmentGroup(e,g,r,s)}),new Nt(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new v.vHH(4001,Jg);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class yv{}class op{constructor(e,t,r,s,u,l,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g}recognize(){const e=dh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,It).pipe((0,_t.U)(t=>{if(null===t)return null;const r=new ih([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ci(r,t),u=new Ks(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=tp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,ln.D)(Object.keys(r.children)).pipe(is(s=>{const u=r.children[s],l=oh(t,s);return this.processSegmentGroup(e,l,u,s)}),sc((s,u)=>s&&u?(s.push(...u),s):null),function Is(n,e=!1){return(0,Rr.e)((t,r)=>{let s=0;t.subscribe((0,xr.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),Ro(null),ac(),(0,_t.U)(s=>{if(null===s)return null;const u=q0(s);return function AD(n){n.sort((e,t)=>e.value.outlet===It?-1:t.value.outlet===It?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,ln.D)(t).pipe(is(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),$i(l=>!!l),Mo(l=>{if(lu(l))return hh(r,s,u)?ot([]):ot(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!z0(t,r,s,u))return ot(null);let l;if("**"===t.path){const g=s.length>0?Zd(s).parameters:{},w=Z0(r)+s.length;l=ot({snapshot:new ih(s,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(t),Wi(t),t.component??t._loadedComponent??null,t,K0(r),w,Y0(t)),consumedSegments:[],remainingSegments:[]})}else l=j0(r,t,s,e).pipe((0,_t.U)(({matched:g,consumedSegments:w,remainingSegments:C,parameters:S})=>{if(!g)return null;const P=Z0(r)+w.length;return{snapshot:new ih(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,la(t),Wi(t),t.component??t._loadedComponent??null,t,K0(r),P,Y0(t)),consumedSegments:w,remainingSegments:C}}));return l.pipe(Kn(g=>{if(null===g)return ot(null);const{snapshot:w,consumedSegments:C,remainingSegments:S}=g;e=t._injector??e;const P=t._loadedInjector??e,B=function xD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:W,slicedSegments:ue}=dh(r,C,S,B.filter(ke=>void 0===ke.redirectTo));if(0===ue.length&&W.hasChildren())return this.processChildren(P,B,W).pipe((0,_t.U)(ke=>null===ke?null:[new Ci(w,ke)]));if(0===B.length&&0===ue.length)return ot([new Ci(w,[])]);const xe=Wi(t)===u;return this.processSegment(P,B,W,ue,xe?It:u).pipe((0,_t.U)(ke=>null===ke?null:[new Ci(w,ke)]))}))}}function RD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function q0(n){const e=[],t=new Set;for(const r of n){if(!RD(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=q0(r.children);e.push(new Ci(r.value,s))}return e.filter(r=>!t.has(r))}function K0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function la(n){return n.data||{}}function Y0(n){return n.resolve||{}}function _v(n){return"string"==typeof n.title||null===n.title}function wv(n){return Kn(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,_t.U)(()=>e)):ot(e)})}const ph=new v.OlP("ROUTES");let Ev=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=A(t.loadComponent()).pipe((0,_t.U)(X0),(0,pr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),uc(()=>{this.componentLoaders.delete(t)})),s=new vl(r,()=>new Ar.x).pipe(yl());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ot({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,C,S=!1;Array.isArray(g)?C=g:(w=g.create(t).injector,C=Kd(w.get(ph,[],v.XFs.Self|v.XFs.Optional)));return{routes:C.map(kl),injector:w}}),uc(()=>{this.childrenLoaders.delete(r)})),l=new vl(u,()=>new Ar.x).pipe(yl());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return A(t()).pipe((0,_t.U)(X0),(0,jn.z)(r=>r instanceof v.YKP||Array.isArray(r)?ot(r):(0,ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X0(n){return function Lo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let em=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ar.x,this.configLoader=(0,v.f3M)(Ev),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(Ws),this.rootContexts=(0,v.f3M)(R),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new jg(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Nl(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Sn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wr(r=>0!==r.id),(0,_t.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Kn(r=>{let s=!1,u=!1;return ot(r).pipe((0,pr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kn(l=>{const g=t.browserUrlTree.toString(),w=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!w&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new ca(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ji.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ew(l.source)&&(t.browserUrlTree=l.extractedUrl),ot(l).pipe(Kn(S=>{const P=this.transitions?.getValue();return this.events.next(new qf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?ji.E:Promise.resolve(S)}),function W0(n,e,t,r){return Kn(s=>function TD(n,e,t,r,s){return new G0(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,_t.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,pr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function PD(n,e,t,r,s){return(0,jn.z)(u=>function vv(n,e,t,r,s,u,l="emptyOnly"){return new op(n,e,t,r,s,l,u).recognize().pipe(Kn(g=>null===g?function SD(n){return new Ii.y(e=>e.error(n))}(new yv):ot(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,_t.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,pr.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const B=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(B,S)}t.browserUrlTree=S.urlAfterRedirects}const P=new hc(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:P,source:B,restoredState:W,extras:ue}=l,xe=new qf(S,this.urlSerializer.serialize(P),B,W);this.events.next(xe);const ke=ev(P,this.rootComponentType).snapshot;return ot(r={...l,targetSnapshot:ke,urlAfterRedirects:P,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new ca(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ji.E}}),(0,pr.b)(l=>{const g=new Zy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,_t.U)(l=>r={...l,guards:rp(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Yg(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?ot({...t,guardsResult:!0}):function _D(n,e,t,r){return(0,ln.D)(n).pipe((0,jn.z)(s=>function wD(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ot(u.map(g=>{const w=yc(e)??s,C=Ll(g,w);return A(function yD(n){return n&&ch(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):w.runInContext(()=>C(n,e,t,r))).pipe($i())})).pipe(vc()):ot(!0)}(s.component,s.route,t,e,r)),$i(s=>!0!==s,!0))}(l,r,s,n).pipe((0,jn.z)(g=>g&&function U0(n){return"boolean"==typeof n}(g)?function lv(n,e,t,r){return(0,ln.D)(e).pipe(is(s=>ic(function Fl(n,e){return null!==n&&e&&e(new $g(n)),ot(!0)}(s.route.parent,r),function Qg(n,e){return null!==n&&e&&e(new Zf(n)),ot(!0)}(s.route,r),function dv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function ov(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Gd(()=>ot(l.guards.map(w=>{const C=yc(l.node)??t,S=Ll(w,C);return A(function uv(n){return n&&ch(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe($i())})).pipe(vc())));return ot(u).pipe(vc())}(n,s.path,t),function B0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const s=r.map(u=>Gd(()=>{const l=yc(e)??t,g=Ll(u,l);return A(function RS(n){return n&&ch(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe($i())}));return ot(s).pipe(vc())}(n,s.route,t))),$i(s=>!0!==s,!0))}(r,u,n,e):ot(g)),(0,_t.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),(0,pr.b)(l=>{if(r.guardsResult=l.guardsResult,iu(l.guardsResult))throw m(0,l.guardsResult);const g=new Yy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),Wr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),wv(l=>{if(l.guards.canActivateChecks.length)return ot(l).pipe((0,pr.b)(g=>{const w=new Qy(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),Kn(g=>{let w=!1;return ot(g).pipe(function MS(n,e){return(0,jn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ot(t);let u=0;return(0,ln.D)(s).pipe(is(l=>function PS(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!_v(s)&&(u[Hi]=s.title),function Q0(n,e,t,r){const s=function NS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ot({});const u={};return(0,ln.D)(s).pipe((0,jn.z)(l=>function J0(n,e,t,r){const s=yc(e)??r,u=Ll(n,s);return A(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe($i(),(0,pr.b)(g=>{u[l]=g}))),oc(1),function wl(n){return(0,_t.U)(()=>n)}(u),Mo(l=>lu(l)?ji.E:eu(l)))}(u,n,e,r).pipe((0,_t.U)(l=>(n._resolvedData=l,n.data=tp(n,t).resolve,s&&_v(s)&&(n.data[Hi]=s.title),null)))}(l.route,r,n,e)),(0,pr.b)(()=>u++),oc(1),(0,jn.z)(l=>u===s.length?ot(t):ji.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,pr.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,pr.b)(g=>{const w=new Kf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}))}),wv(l=>{const g=w=>{const C=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,pr.b)(S=>{w.component=S}),(0,_t.U)(()=>{})));for(const S of w.children)C.push(...g(S));return C};return ml(g(l.targetSnapshot.root)).pipe(Ro(),Ao(1))}),wv(()=>this.afterPreactivation()),(0,_t.U)(l=>{const g=function cu(n,e,t){const r=mc(n,e._root,t?t._root:void 0);return new Xy(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),(0,pr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,_t.U)(r=>(new ah(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Ao(1),(0,pr.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ss(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),uc(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Mo(l=>{if(u=!0,_(l)){f(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Ml(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),f(l)){const w=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ew(r.source)};t.scheduleNavigation(w,Rl,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Pl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(w){r.reject(w)}}return ji.E}))}))}cancelNavigationTransition(t,r,s){const u=new Ml(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ew(n){return n!==Rl}let tw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===It);return r}getResolvedTitleForRoute(t){return t.data[Hi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return(0,v.f3M)(ND)},providedIn:"root"}),n})(),ND=(()=>{class n extends tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Mf))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return(0,v.f3M)(kD)},providedIn:"root"}),n})();class OD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let kD=(()=>{class n extends OD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=v.n5z(n)))(r||n)}}(),n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lt=new v.OlP("",{providedIn:"root",factory:()=>({})});let rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:function(){return(0,v.f3M)(iw)},providedIn:"root"}),n})(),iw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FD(n){throw n}function UD(n,e,t){return e.parse("/")}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let os=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this.options=(0,v.f3M)(Lt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||FD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(rw),this.routeReuseStrategy=(0,v.f3M)(nw),this.urlCreationStrategy=(0,v.f3M)(Jy),this.titleStrategy=(0,v.f3M)(tw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Kd((0,v.f3M)(ph,{optional:!0})??[]),this.navigationTransitions=(0,v.f3M)(em),this.urlSerializer=(0,v.f3M)(Ws),this.location=(0,v.f3M)(Be),this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ev(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const w={...s};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(kl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:w}=r,C=w?this.currentUrlTree.fragment:l;let S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,S,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=iu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Rl,null,r)}navigate(t,r={skipLocationChange:!1}){return function BD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new v.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...sw}:!1===r?{...VD}:r,iu(t))return te(this.currentUrlTree,t,s);const u=this.parseUrl(t);return te(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,w,C,S;return l?(g=l.resolve,w=l.reject,C=l.promise):C=new Promise((P,B)=>{g=P,w=B}),S="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:w,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bv{}let Cv=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(t=>t instanceof ss),is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,v.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,ln.D)(s).pipe((0,rc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ot(null);const u=s.pipe((0,jn.z)(l=>null===l?ot(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,ln.D)([u,l]).pipe((0,rc.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(os),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(bv),v.LFG(Ev))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cp=new v.OlP("");let aw=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ss&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof au&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new au(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){v.$Z()},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();var Ys=(()=>((Ys=Ys||{})[Ys.COMPLETE=0]="COMPLETE",Ys[Ys.FAILED=1]="FAILED",Ys[Ys.REDIRECTING=2]="REDIRECTING",Ys))();const lp=!1;function Ul(n,e){return{\u0275kind:n,\u0275providers:e}}const Sv=new v.OlP("",{providedIn:"root",factory:()=>!1});function dp(){const n=(0,v.f3M)(v.zs3);return e=>{const t=n.get(v.z2F);if(e!==t.components[0])return;const r=n.get(os),s=n.get(uw);1===n.get(nm)&&r.initialNavigation(),n.get(cw,null,v.XFs.Optional)?.setUpPreloading(),n.get(cp,null,v.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const uw=new v.OlP(lp?"bootstrap done indicator":"",{factory:()=>new Ar.x}),nm=new v.OlP(lp?"initial navigation":"",{providedIn:"root",factory:()=>1});function zD(){let n=[];return n=lp?[{provide:v.Xts,multi:!0,useFactory:()=>{const e=(0,v.f3M)(os);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Yf(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ul(1,n)}const cw=new v.OlP(lp?"router preloader":"");function GD(n){return Ul(0,[{provide:cw,useExisting:Cv},{provide:bv,useExisting:n}])}const yh=!1,KD=new v.OlP(yh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Av=[Be,{provide:Ws,useClass:Il},os,R,{provide:wr,useFactory:function Tv(n){return n.routerState.root},deps:[os]},Ev,yh?{provide:Sv,useValue:!0}:[]];function ZD(){return new v.PXZ("Router",os)}let YD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Av,yh&&r?.enableTracing?zD().\u0275providers:[],{provide:ph,multi:!0,useValue:t},{provide:KD,useFactory:hw,deps:[[os,new v.FiY,new v.tp0]]},{provide:Lt,useValue:r||{}},r?.useHash?{provide:ct,useClass:Pe}:{provide:ct,useClass:Me},{provide:cp,useFactory:()=>{const n=(0,v.f3M)(Ma),e=(0,v.f3M)(v.R0b),t=(0,v.f3M)(Lt),r=(0,v.f3M)(em),s=(0,v.f3M)(Ws);return t.scrollOffset&&n.setOffset(t.scrollOffset),new aw(s,r,n,e,t)}},r?.preloadingStrategy?GD(r.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:ZD},r?.initialNavigation?JD(r):[],[{provide:fw,useFactory:dp},{provide:v.tb,multi:!0,useExisting:fw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ph,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(KD,8))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[Xe]}),n})();function hw(n){if(yh&&n)throw new v.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function JD(n){return["disabled"===n.initialNavigation?Ul(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const e=(0,v.f3M)(os);return()=>{e.setUpLocationChangeListener()}}},{provide:nm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ul(2,[{provide:nm,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:e=>{const t=e.get(fe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(os),u=e.get(uw);(function LS(n,e){n.events.pipe(Wr(t=>t instanceof ss||t instanceof Ml||t instanceof Pl||t instanceof ca),(0,_t.U)(t=>t instanceof ss||t instanceof ca?Ys.COMPLETE:t instanceof Ml&&(0===t.code||1===t.code)?Ys.REDIRECTING:Ys.FAILED),Wr(t=>t!==Ys.REDIRECTING),Ao(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(em).afterPreactivation=()=>(r(!0),u.closed?ot(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const fw=new v.OlP(yh?"Router Initializer":""),xv=[];let fp=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[YD.forRoot(xv),YD]}),e})();var Rv=k(4986),Nr=k(710);function im(){return(0,Rr.e)((n,e)=>{let t,r=!1;n.subscribe((0,xr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function Pv(n,e){return n===e}var Qe,bs=k(2011),_e=(k(8463),k(3942),k(5861)),Vl=k(6881),pp=k(4859),_c=k(1877),on=k(2090),pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fo={},qi=qi||{},Bt=pw||self;function sm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function om(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var am="closure_uid_"+(1e9*Math.random()>>>0),eb=0;function tb(n,e,t){return n.call.apply(n.bind,arguments)}function nb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ai(n,e,t){return(ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tb:nb).apply(null,arguments)}function um(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function da(){this.s=this.s,this.o=this.o}da.prototype.s=!1,da.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ov(n){Object.prototype.hasOwnProperty.call(n,am)&&n[am]||(n[am]=++eb)}(this)},da.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function kv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(sm(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function Ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ti.prototype.h=function(){this.defaultPrevented=!0};var ha=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",()=>{},e),Bt.removeEventListener("test",()=>{},e)}catch{}return n}();function Bl(n){return/^[\s\xa0]*$/.test(n)}function cm(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function fa(n){return-1!=cm().indexOf(n)}function lm(n){return lm[" "](n),n}lm[" "]=function(){};var wh,sb=fa("Opera"),_h=fa("Trident")||fa("MSIE"),dm=fa("Edge"),Lv=dm||_h,yw=fa("Gecko")&&!(-1!=cm().toLowerCase().indexOf("webkit")&&!fa("Edge"))&&!(fa("Trident")||fa("MSIE"))&&!fa("Edge"),hm=-1!=cm().toLowerCase().indexOf("webkit")&&!fa("Edge");function gp(){var n=Bt.document;return n?n.documentMode:void 0}e:{var vw="",mp=function(){var n=cm();return yw?/rv:([^\);]+)(\)|;)/.exec(n):dm?/Edge\/([\d\.]+)/.exec(n):_h?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hm?/WebKit\/(\S+)/.exec(n):sb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(mp&&(vw=mp?mp[1]:""),_h){var _w=gp();if(null!=_w&&_w>parseFloat(vw)){wh=String(_w);break e}}wh=vw}var ww=Bt.document&&_h&&(gp()||parseInt(wh,10))||void 0;function Ih(n,e){if(Ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yw){e:{try{lm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Uv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ih.$.h.call(this)}}var Uv={2:"touch",3:"pen",4:"mouse"};Ih.prototype.h=function(){Ih.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cs="closure_listenable_"+(1e6*Math.random()|0),pm=0;function gm(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++pm,this.fa=this.ia=!1}function wc(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Vv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Bv(n){const e={};for(const t in n)e[t]=n[t];return e}const Ew="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dw(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Ew.length;u++)t=Ew[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ic(n){this.src=n,this.g={},this.h=0}function jv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=gw(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(wc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bw(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Ic.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=bw(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new gm(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var $v="closure_lm_"+(1e6*Math.random()|0),Hv={};function Cw(n,e,t,r,s){if(r&&r.once)return Sw(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cw(n,e[u],t,r,s);return null}return t=Wv(t),n&&n[Cs]?n.O(e,t,om(r)?!!r.capture:!!r,s):Tw(n,e,t,!1,r,s)}function Tw(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=om(s)?!!s.capture:!!s,g=yp(n);if(g||(n[$v]=g=new Ic(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function ob(){const e=ab;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ha||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(zv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Sw(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Sw(n,e[u],t,r,s);return null}return t=Wv(t),n&&n[Cs]?n.P(e,t,om(r)?!!r.capture:!!r,s):Tw(n,e,t,!0,r,s)}function Aw(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Aw(n,e[u],t,r,s);else r=om(r)?!!r.capture:!!r,t=Wv(t),n&&n[Cs]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bw(u=n.g[e],t,r,s))&&(wc(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=yp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bw(e,t,r,s)),(t=-1<n?e[n]:null)&&mm(t))}function mm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Cs])jv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(zv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yp(e))?(jv(t,n),0==t.h&&(t.src=null,e[$v]=null)):wc(n)}}}function zv(n){return n in Hv?Hv[n]:Hv[n]="on"+n}function ab(n,e){if(n.fa)n=!0;else{e=new Ih(e,this);var t=n.listener,r=n.la||n.src;n.ia&&mm(n),n=t.call(r,e)}return n}function yp(n){return(n=n[$v])instanceof Ic?n:null}var Gv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wv(n){return"function"==typeof n?n:(n[Gv]||(n[Gv]=function(e){return n.handleEvent(e)}),n[Gv])}function Kr(){da.call(this),this.i=new Ic(this),this.S=this,this.J=null}function ui(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ti(e,n);else if(e instanceof Ti)e.target=e.target||n;else{var s=e;Dw(e=new Ti(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=ym(l,r,!0,e)&&s}if(s=ym(l=e.g=n,r,!0,e)&&s,s=ym(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=ym(l=e.g=t[u],r,!1,e)&&s}function ym(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,w=l.la||l.src;l.ia&&jv(n.i,l),s=!1!==g.call(w,r)&&s}}return s&&!r.defaultPrevented}Kr.prototype[Cs]=!0,Kr.prototype.removeEventListener=function(n,e,t,r){Aw(this,n,e,t,r)},Kr.prototype.N=function(){if(Kr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wc(t[r]);delete n.g[e],n.h--}}this.J=null},Kr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Kr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var qv=Bt.JSON.stringify;class ub{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function xw(){var n=Kv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class Rw{constructor(){this.h=this.g=null}add(e,t){const r=Mw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Mw=new ub(()=>new BS,n=>n.reset());class BS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pw(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function jS(n){Bt.setTimeout(()=>{throw n},0)}let Ec,vp=!1,Kv=new Rw,vm=()=>{const n=Bt.Promise.resolve(void 0);Ec=()=>{n.then(cb)}};var cb=()=>{for(var n;n=xw();){try{n.h.call(n.g)}catch(t){jS(t)}var e=Mw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vp=!1};function Ts(n,e){Kr.call(this),this.h=n||1,this.g=e||Bt,this.j=ai(this.qb,this),this.l=Date.now()}function jl(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Zr(n,e,t){if("function"==typeof n)t&&(n=ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function Dc(n){n.g=Zr(()=>{n.g=null,n.i&&(n.i=!1,Dc(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Qe=Ts.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(jl(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Ts.$.N.call(this),jl(this),delete this.g};class _m extends da{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dc(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(n){da.call(this),this.h=n,this.g={}}var wm=[];function $l(n,e,t,r){Array.isArray(t)||(t&&(wm[0]=t.toString()),t=wm);for(var s=0;s<t.length;s++){var u=Cw(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Hl(n){Vv(n.g,function(e,t){this.g.hasOwnProperty(t)&&mm(e)},n),n.g={}}function hu(){this.g=!0}function Uo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ch(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return qv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Si.prototype.N=function(){Si.$.N.call(this),Hl(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hu.prototype.Ea=function(){this.g=!1},hu.prototype.info=function(){};var Qs={},Zv=null;function _p(){return Zv=Zv||new Kr}function Yv(n){Ti.call(this,Qs.Ta,n)}function Th(n){const e=_p();ui(e,new Yv(e))}function Qv(n,e){Ti.call(this,Qs.STAT_EVENT,n),this.stat=e}function Ai(n){const e=_p();ui(e,new Qv(e,n))}function Jv(n,e){Ti.call(this,Qs.Ua,n),this.size=e}function Sh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}Qs.Ta="serverreachability",Qs.STAT_EVENT="statevent",Qs.Ua="timingevent";var wp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ow(){}var t_,Ip={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ep(){Ti.call(this,"d")}function Dp(){Ti.call(this,"c")}function zl(){}function bc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Si(this),this.P=lb,this.V=new Ts(n=Lv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Im}function Im(){this.i=null,this.g="",this.h=!1}zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},t_=new zl;var lb=45e3,bp={},Ah={};function Em(n,e,t){n.L=1,n.v=Sp(pa(e)),n.s=t,n.S=!0,n_(n,null)}function n_(n,e){n.G=Date.now(),Gl(n),n.A=pa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),gb(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Im,n.g=eI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new _m(ai(n.Pa,n,n.g),n.O)),$l(n.U,n.g,"readystatechange",n.nb),e=n.I?Bv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Th(),function Eh(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),w=0;w<g.length;w++){var C=g[w].split("=");if(1<C.length){var S=C[0];C=C[1];var P=S.split("_");l=2<=P.length&&"type"==P[1]?l+(S+"=")+C+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Dm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function r_(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=kw(n,t),s==Ah){4==e&&(n.o=4,Ai(14),r=!1),Uo(n.j,n.m,null,"[Incomplete Response]");break}if(s==bp){n.o=4,Ai(15),Uo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Uo(n.j,n.m,s,null),Cm(n,s)}Dm(n)&&s!=Ah&&s!=bp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Om(e),e.M=!0,Ai(11))):(Uo(n.j,n.m,t,"[Invalid Chunked Response]"),Cc(n),xh(n))}function kw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ah:(t=Number(e.substring(t,r)),isNaN(t)?bp:(r+=1)+t>e.length?Ah:(e=e.slice(r,r+t),n.C=r+t,e))}function Gl(n){n.Y=Date.now()+n.P,i_(n,n.P)}function i_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sh(ai(n.lb,n),e)}function bm(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function xh(n){0==n.l.H||n.J||y_(n.l,n)}function Cc(n){bm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jl(n.V),Hl(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Cm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||u_(t.i,n)))if(!n.K&&u_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Np(t),Kl(t)}Nm(t),Ai(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Sh(ai(t.ib,t),6e3));if(1>=$w(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Zl(t,11)}else if((n.K||t.g==n)&&Np(t),!Bl(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const S=C[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const P=C[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const B=C[5];null!=B&&"number"==typeof B&&0<B&&(t.L=r=1.5*B,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const W=n.g;if(W){const ue=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var u=r.i;u.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Am(u,u.h),u.h=null))}if(r.F){const xe=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;xe&&(r.Da=xe,xn(r.I,r.F,xe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=Xw(r,r.J?r.pa:null,r.Y),l.K){Hw(r.i,l);var g=l,w=r.L;w&&g.setTimeout(w),g.B&&(bm(g),Gl(g)),r.g=l}else g_(r);0<t.j.length&&Pp(t)}else"stop"!=C[0]&&"close"!=C[0]||Zl(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Zl(t,7):Rm(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Th()}catch{}}function Fw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function db(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Lw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Qe=bc.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Js(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const S=Js(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Lv||this.g&&(this.h.h||this.g.ja()||kh(this.g)))){this.J||4!=S||7==e||Th(),bm(this);var t=this.g.da();this.ca=t;t:if(Dm(this)){var r=kh(this.g);n="";var s=r.length,u=4==Js(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cc(this),xh(this);var l="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Dh(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,w=this.g;if((g=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bl(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Ai(12),Cc(this),xh(this);break e}Uo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,t)}this.S?(r_(this,S,l),Lv&&this.i&&3==S&&($l(this.U,this.V,"tick",this.mb),this.V.start())):(Uo(this.j,this.m,l,null),Cm(this,l)),4==S&&Cc(this),this.i&&!this.J&&(4==S?y_(this.l,this):(this.i=!1,Gl(this)))}else(function wb(n){const e={};n=(n.g&&2<=Js(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bl(n[r]))continue;var t=Pw(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function Iw(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),Cc(this),xh(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Js(this.g),e=this.g.ja();this.C<e.length&&(bm(this),r_(this,n,e),this.i&&4!=n&&Gl(this))}},Qe.cancel=function(){this.J=!0,Cc(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function bh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Th(),Ai(17)),Cc(this),this.o=2,xh(this)):i_(this,this.Y-n)};var Uw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fu){this.h=n.h,Cp(this,n.j),this.s=n.s,this.g=n.g,Tp(this,n.m),this.l=n.l;var e=n.i,t=new ql;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),s_(this,t),this.o=n.o}else n&&(e=String(n).match(Uw))?(this.h=!1,Cp(this,e[1]||"",!0),this.s=Rh(e[2]||""),this.g=Rh(e[3]||"",!0),Tp(this,e[4]),this.l=Rh(e[5]||"",!0),s_(this,e[6]||"",!0),this.o=Rh(e[7]||"")):(this.h=!1,this.i=new ql(null,this.h))}function pa(n){return new fu(n)}function Cp(n,e,t){n.j=t?Rh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function s_(n,e,t){e instanceof ql?(n.i=e,function mb(n,e){e&&!n.j&&(Tc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Sm(this,r),gb(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Mh(e,o_)),n.i=new ql(e,n.h))}function xn(n,e,t){n.i.set(e,t)}function Sp(n){return xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Mh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Mh(e,pu,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Mh(e,pu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Mh(t,"/"==t.charAt(0)?fb:hb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Mh(t,Wl)),n.join("")};var pu=/[#\/\?@]/g,hb=/[#\?:]/g,fb=/[#\?]/g,o_=/[#\?@]/g,Wl=/#/g;function ql(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Tc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Vw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sm(n,e){Tc(n),e=Ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function pb(n,e){return Tc(n),e=Ph(n,e),n.g.has(e)}function gb(n,e,t){Sm(n,e),0<t.length&&(n.i=null,n.g.set(Ph(n,e),kv(t)),n.h+=t.length)}function Ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jw(n){this.l=n||Or,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=ql.prototype).add=function(n,e){Tc(this),this.i=null,n=Ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){Tc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Qe.ta=function(){Tc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Qe.Z=function(n){Tc(this);let e=[];if("string"==typeof n)pb(this,n)&&(e=e.concat(this.g.get(Ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return Tc(this),this.i=null,pb(this,n=Ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var Or=10;function a_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $w(n){return n.h?1:n.g?n.g.size:0}function u_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Am(n,e){n.g?n.g.add(e):n.h=e}function Hw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function c_(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return kv(n.i)}jw.prototype.cancel=function(){if(this.i=c_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,zw=class{stringify(n){return Bt.JSON.stringify(n,void 0)}parse(n){return Bt.JSON.parse(n,void 0)}};function Nh(){this.g=new zw}function yb(n,e,t){const r=t||"";try{Fw(n,function(s,u){let l=s;om(s)&&(l=qv(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Ap(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function xp(n){this.l=n.fc||null,this.j=n.ob||!1}function Rp(n,e){Kr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Gw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xp.prototype.g=function(){return new Rp(this.l,this.j)},xp.prototype.i=(n={},function(){return n});var Gw=0;function l_(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Oh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,as(n)}function as(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Rp.prototype).open=function(n,e){if(this.readyState!=Gw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,as(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oh(this)),this.readyState=Gw},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;l_(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Oh(this):as(this),3==this.readyState&&l_(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,Oh(this))},Qe.Ya=function(n){this.g&&(this.response=n,Oh(this))},Qe.ka=function(){this.g&&Oh(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var _b=Bt.JSON.parse;function ir(n){Kr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vo,this.L=this.M=!1}var Vo="",Bo=/^https?$/i,jo=["POST","PUT"];function d_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qw(n),xm(n)}function qw(n){n.F||(n.F=!0,ui(n,"complete"),ui(n,"error"))}function Kw(n){if(n.h&&typeof qi<"u"&&(!n.C[1]||4!=Js(n)||2!=n.da()))if(n.v&&4==Js(n))Zr(n.La,0,n);else if(ui(n,"readystatechange"),4==Js(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(Uw)[1]||null;!s&&Bt.self&&Bt.self.location&&(s=Bt.self.location.protocol.slice(0,-1)),r=!Bo.test(s?s.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var u=2<Js(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",qw(n)}}finally{xm(n)}}}function xm(n,e){if(n.g){Zw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function Zw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function Js(n){return n.g?n.g.readyState:0}function kh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Vo:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function h_(n){let e="";return Vv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function f_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=h_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xn(n,e,t))}function Mp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function p_(n){this.Ga=0,this.j=[],this.l=new hu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mp("baseRetryDelayMs",5e3,n),this.hb=Mp("retryDelaySeedMs",1e4,n),this.eb=Mp("forwardChannelMaxRetries",2,n),this.xa=Mp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new jw(n&&n.concurrentRequestLimit),this.Ja=new Nh,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rm(n){if(Yw(n),3==n.H){var e=n.W++,t=pa(n.I);if(xn(t,"SID",n.K),xn(t,"RID",e),xn(t,"TYPE","terminate"),Sc(n,t),(e=new bc(n,n.l,e)).L=2,e.v=Sp(pa(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{t=Bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=eI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gl(e)}Jw(n)}function Kl(n){n.g&&(Om(n),n.g.cancel(),n.g=null)}function Yw(n){Kl(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),Np(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function Pp(n){if(!a_(n.i)&&!n.m){n.m=!0;var e=n.Na;Ec||vm(),vp||(Ec(),vp=!0),Kv.add(e,n),n.C=0}}function Mm(n,e){var t;t=e?e.m:n.W++;const r=pa(n.I);xn(r,"SID",n.K),xn(r,"RID",t),xn(r,"AID",n.V),Sc(n,r),n.o&&n.s&&f_(r,n.o,n.s),t=new bc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Pm(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Am(n.i,t),Em(t,r,e)}function Sc(n,e){n.na&&Vv(n.na,function(t,r){xn(e,r,t)}),n.h&&Fw({},function(t,r){xn(e,r,t)})}function Pm(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ai(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let w=0;w<t;w++){let C=s[w].g;const S=s[w].map;if(C-=u,0>C)u=Math.max(0,s[w].g-100),g=!1;else try{yb(S,l,"req"+C+"_")}catch{r&&r(S)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function g_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ec||vm(),vp||(Ec(),vp=!0),Kv.add(e,n),n.A=0}}function Nm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sh(ai(n.Ma,n),v_(n,n.A)),n.A++,0))}function Om(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function m_(n){n.g=new bc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=pa(n.wa);xn(e,"RID","rpc"),xn(e,"SID",n.K),xn(e,"AID",n.V),xn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&xn(e,"TO",n.qa),xn(e,"TYPE","xmlhttp"),Sc(n,e),n.o&&n.s&&f_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Sp(pa(e)),t.s=null,t.S=!0,n_(t,n)}function Np(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function y_(n,e){var t=null;if(n.g==e){Np(n),Om(n),n.g=null;var r=2}else{if(!u_(n.i,e))return;t=e.F,Hw(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;ui(r=_p(),new Jv(r,t)),Pp(n)}else g_(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function Qw(n,e){return!($w(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sh(ai(n.Na,n,e),v_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Zl(n,5);break;case 4:Zl(n,10);break;case 3:Zl(n,6);break;default:Zl(n,2)}}function v_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Zl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ai(n.pb,n);t||(t=new fu("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||Cp(t,"https"),Sp(t)),function vb(n,e){const t=new hu;if(Bt.Image){const r=new Image;r.onload=um(Ap,t,r,"TestLoadImage: loaded",!0,e),r.onerror=um(Ap,t,r,"TestLoadImage: error",!1,e),r.onabort=um(Ap,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=um(Ap,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ai(2);n.H=0,n.h&&n.h.za(e),Jw(n),Yw(n)}function Jw(n){if(n.H=0,n.ma=[],n.h){const e=c_(n.i);(0!=e.length||0!=n.j.length)&&(mw(n.ma,e),mw(n.ma,n.j),n.i.i.length=0,kv(n.j),n.j.length=0),n.h.ya()}}function Xw(n,e,t){var r=t instanceof fu?pa(t):new fu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Tp(r,r.m);else{var s=Bt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new fu(null);r&&Cp(u,r),e&&(u.g=e),s&&Tp(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&xn(r,t,e),xn(r,"VER",n.ra),Sc(n,r),r}function eI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ir(t&&n.Ha&&!n.va?new xp({ob:!0}):n.va)).Oa(n.J),e}function km(){if(_h&&!(10<=Number(ww)))throw Error("Environmental error: no available transport.")}function Ss(n,e){Kr.call(this),this.g=new p_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lh(this)}function nI(n){Ep.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rI(){Dp.call(this),this.status=1}function Lh(n){this.g=n}function $o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function __(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function mn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Qe=ir.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():t_.g(),this.C=function e_(n){return n.h||(n.h=n.i())}(this.u?this.u:t_),this.g.onreadystatechange=ai(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void d_(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Bt.FormData&&n instanceof Bt.FormData,!(0<=gw(jo,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zw(this),0<this.B&&((this.L=function Ww(n){return _h&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ai(this.ua,this)):this.A=Zr(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){d_(this,u)}},Qe.ua=function(){typeof qi<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),xm(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xm(this,!0)),ir.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?Kw(this):this.kb())},Qe.kb=function(){Kw(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<Js(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_b(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=p_.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new bc(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Bv(u),Dw(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pm(this,s,e),xn(t=pa(this.I),"RID",n),xn(t,"CVER",22),this.F&&xn(t,"X-HTTP-Session-Id",this.F),Sc(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(h_(u)))+"&"+e:this.o&&f_(t,this.o,u)),Am(this.i,s),this.bb&&xn(t,"TYPE","init"),this.P?(xn(t,"$req",e),xn(t,"SID","null"),s.aa=!0,Em(s,t,null)):Em(s,t,e),this.H=2}}else 3==this.H&&(n?Mm(this,n):0==this.j.length||a_(this.i)||Mm(this))},Qe.Ma=function(){if(this.u=null,m_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Sh(ai(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ai(10),Kl(this),m_(this))},Qe.ib=function(){null!=this.v&&(this.v=null,Kl(this),Nm(this),Ai(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ai(2)):(this.l.info("Failed to ping google.com"),Ai(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=function tI(){}.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},km.prototype.g=function(n,e){return new Ss(n,e)},Ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ai(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Xw(n,null,n.Y),Pp(n)},Ss.prototype.close=function(){Rm(this.g)},Ss.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=qv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Pp(e)},Ss.prototype.N=function(){this.g.h=null,delete this.j,Rm(this.g),delete this.g,Ss.$.N.call(this)},Lh.prototype.Ba=function(){ui(this.g,"a")},Lh.prototype.Aa=function(n){ui(this.g,new nI(n))},Lh.prototype.za=function(n){ui(this.g,new rI)},Lh.prototype.ya=function(){ui(this.g,"b")},$o.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$o.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)__(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){__(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){__(this,r),s=0;break}}this.h=s,this.i+=e},$o.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Eb={};function w_(n){return-128<=n&&128>n?function ib(n,e){var t=Eb;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new mn([0|e],0>e?-1:0)}):new mn([0|n],0>n?-1:0)}function ga(n){if(isNaN(n)||!isFinite(n))return Yl;if(0>n)return Yr(ga(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Lm;return new mn(e,0)}var Lm=4294967296,Yl=w_(0),Fm=w_(1),I_=w_(16777216);function ma(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function As(n){return-1==n.h}function Yr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new mn(t,~n.h).add(Fm)}function Op(n,e){return n.add(Yr(e))}function kp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Fh(n,e){this.g=n,this.h=e}function Lp(n,e){if(ma(e))throw Error("division by zero");if(ma(n))return new Fh(Yl,Yl);if(As(n))return e=Lp(Yr(n),e),new Fh(Yr(e.g),Yr(e.h));if(As(e))return e=Lp(n,Yr(e)),new Fh(Yr(e.g),e.h);if(30<n.g.length){if(As(n)||As(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Fm,r=e;0>=r.X(n);)t=Ac(t),r=Ac(r);var s=Uh(t,1),u=Uh(r,1);for(r=Uh(r,2),t=Uh(t,2);!ma(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=Uh(r,1),t=Uh(t,1)}return e=Op(n,s.R(e)),new Fh(s,e)}for(s=Yl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=ga(t)).R(e);As(l)||0<l.X(n);)l=(u=ga(t-=r)).R(e);ma(u)&&(u=Fm),s=s.add(u),n=Op(n,l)}return new Fh(s,n)}function Ac(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new mn(t,n.h)}function Uh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new mn(s,n.h)}(Qe=mn.prototype).ea=function(){if(As(this))return-Yr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Lm+r)*e,e*=Lm}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ma(this))return"0";if(As(this))return"-"+Yr(this).toString(n);for(var e=ga(Math.pow(n,6)),t=this,r="";;){var s=Lp(t,e).g,u=((0<(t=Op(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ma(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return As(n=Op(this,n))?-1:ma(n)?0:1},Qe.abs=function(){return As(this)?Yr(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new mn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(ma(this)||ma(n))return Yl;if(As(this))return As(n)?Yr(this).R(Yr(n)):Yr(Yr(this).R(n));if(As(n))return Yr(this.R(Yr(n)));if(0>this.X(I_)&&0>n.X(I_))return ga(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(s)>>>16,w=65535&n.D(s);t[2*r+2*s]+=l*w,kp(t,2*r+2*s),t[2*r+2*s+1]+=u*w,kp(t,2*r+2*s+1),t[2*r+2*s+1]+=l*g,kp(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,kp(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new mn(t,0)},Qe.gb=function(n){return Lp(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new mn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new mn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new mn(t,this.h^n.h)},km.prototype.createWebChannel=km.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,wp.NO_ERROR=0,wp.TIMEOUT=8,wp.HTTP_ERROR=6,Nw.COMPLETE="complete",Ow.EventType=Ip,Ip.OPEN="a",Ip.CLOSE="b",Ip.ERROR="c",Ip.MESSAGE="d",Kr.prototype.listen=Kr.prototype.O,ir.prototype.listenOnce=ir.prototype.P,ir.prototype.getLastError=ir.prototype.Sa,ir.prototype.getLastErrorCode=ir.prototype.Ia,ir.prototype.getStatus=ir.prototype.da,ir.prototype.getResponseJson=ir.prototype.Wa,ir.prototype.getResponseText=ir.prototype.ja,ir.prototype.send=ir.prototype.ha,ir.prototype.setWithCredentials=ir.prototype.Oa,$o.prototype.digest=$o.prototype.l,$o.prototype.reset=$o.prototype.reset,$o.prototype.update=$o.prototype.j,mn.prototype.add=mn.prototype.add,mn.prototype.multiply=mn.prototype.R,mn.prototype.modulo=mn.prototype.gb,mn.prototype.compare=mn.prototype.X,mn.prototype.toNumber=mn.prototype.ea,mn.prototype.toString=mn.prototype.toString,mn.prototype.getBits=mn.prototype.D,mn.fromNumber=ga,mn.fromString=function iI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Yr(iI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ga(Math.pow(e,8)),r=Yl,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=ga(Math.pow(e,u)),r=r.R(u).add(ga(l))):r=(r=r.R(t)).add(ga(l))}return r};var Db=Fo.createWebChannelTransport=function(){return new km},Vh=Fo.getStatEventTarget=function(){return _p()},sI=Fo.ErrorCode=wp,E_=Fo.EventType=Nw,$S=Fo.Event=Qs,D_=Fo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oI=Fo.FetchXmlHttpFactory=xp,b_=Fo.WebChannel=Ow,Tt=Fo.XhrIo=ir,bb=Fo.Md5=$o,Bh=Fo.Integer=mn;class Zn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");let jh="9.23.0";const Ho=new _c.Yd("@firebase/firestore");function $h(){return Ho.logLevel}function Ue(n,...e){if(Ho.logLevel<=_c.in.DEBUG){const t=e.map(C_);Ho.debug(`Firestore (${jh}): ${n}`,...t)}}function or(n,...e){if(Ho.logLevel<=_c.in.ERROR){const t=e.map(C_);Ho.error(`Firestore (${jh}): ${n}`,...t)}}function xs(n,...e){if(Ho.logLevel<=_c.in.WARN){const t=e.map(C_);Ho.warn(`Firestore (${jh}): ${n}`,...t)}}function C_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: `+n;throw or(e),new Error(e)}function mt(n,e){n||rt()}function Ye(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zn.UNAUTHENTICATED))}shutdown(){}}class Um{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Um(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function Fp(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zh{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Fp(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function Gh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class On{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new On(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new On(0,0))}static max(){return new yt(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wh{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends Wh{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const hI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Wh{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return hI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(nn.fromString(e))}static fromName(e){return new Ke(nn.fromString(e).popFirst(5))}static empty(){return new Ke(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new nn(e.slice()))}}function A_(n){return new ci(n.readTime,n.key,-1)}class ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ci(yt.min(),Ke.empty(),-1)}static max(){return new ci(yt.max(),Ke.empty(),-1)}}function x_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(n){return yI.apply(this,arguments)}function yI(){return yI=(0,_e.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==gI)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),yI.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},w=>r(w))}),l=!0,u===s&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(s=>s?ee.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let w=0;w<u;w++){const C=w;t(e[C]).next(S=>{l[C]=S,++g,g===u&&r(l)},S=>s(S))}})}static doWhile(e,t){return new ee((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function Rc(n){return"IndexedDbTransactionError"===n.name}let Ki=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jp(n){return null==n}function Kh(n){return 0===n&&1/n==-1/0}function TI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jl(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cn{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $m(this.root,e,this.comparator,!1)}getReverseIterator(){return new $m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $m(this.root,e,this.comparator,!0)}}class $m{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Ri.RED,this.left=s??Ri.EMPTY,this.right=u??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Ri(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ri.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hm(this.data.getIterator())}getIteratorFrom(e){return new Hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rn(this.comparator);return t.data=e,t}}class Hm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mi{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Mi([])}unionWith(e){let t=new Rn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class SI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new SI("Invalid base64 string: "+s):s}}(e);return new mr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(n){if(mt(!!n),"string"==typeof n){let e=0;const t=xI.exec(n);if(mt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ya(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function zm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Gm(n){const e=n.mapValue.fields.__previous_value__;return zm(e)?Gm(e):e}function Hp(n){const e=mu(n.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}class zb{constructor(e,t,r,s,u,l,g,w,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=w,this.useFetchStreams=C}}class yu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zm(n)?4:Qh(n)?9007199254740991:10:rt()}function va(n,e){if(n===e)return!0;const t=Pc(n);if(t!==Pc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hp(n).isEqual(Hp(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=mu(r.timestampValue),l=mu(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,ya(n.bytesValue).isEqual(ya(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Yn(r.geoPointValue.latitude)===Yn(s.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Yn(r.integerValue)===Yn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Yn(r.doubleValue),l=Yn(s.doubleValue);return u===l?Kh(u)===Kh(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Gh(n.arrayValue.values||[],e.arrayValue.values||[],va);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(TI(u)!==TI(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!va(u[g],l[g])))return!1;return!0}(n,e);default:return rt()}var s}function Wm(n,e){return void 0!==(n.values||[]).find(t=>va(t,e))}function Nc(n,e){if(n===e)return 0;const t=Pc(n),r=Pc(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Yn(s.integerValue||s.doubleValue),g=Yn(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return RI(n.timestampValue,e.timestampValue);case 4:return RI(Hp(n),Hp(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(s,u){const l=ya(s),g=ya(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let w=0;w<l.length&&w<g.length;w++){const C=Ft(l[w],g[w]);if(0!==C)return C}return Ft(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ft(Yn(s.latitude),Yn(u.latitude));return 0!==l?l:Ft(Yn(s.longitude),Yn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let w=0;w<l.length&&w<g.length;++w){const C=Nc(l[w],g[w]);if(C)return C}return Ft(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Xl.mapValue&&u===Xl.mapValue)return 0;if(s===Xl.mapValue)return 1;if(u===Xl.mapValue)return-1;const l=s.fields||{},g=Object.keys(l),w=u.fields||{},C=Object.keys(w);g.sort(),C.sort();for(let S=0;S<g.length&&S<C.length;++S){const P=Ft(g[S],C[S]);if(0!==P)return P;const B=Nc(l[g[S]],w[C[S]]);if(0!==B)return B}return Ft(g.length,C.length)}(n.mapValue,e.mapValue);default:throw rt()}}function RI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=mu(n),r=mu(e),s=Ft(t.seconds,r.seconds);return 0!==s?s:Ft(t.nanos,r.nanos)}function Yh(n){return qm(n)}function qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=mu(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ya(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=qm(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${qm(r.fields[g])}`;return u+"}"}(n.mapValue):rt();var e}function ed(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function L_(n){return!!n&&"integerValue"in n}function Gp(n){return!!n&&"arrayValue"in n}function MI(n){return!!n&&"nullValue"in n}function PI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zm(n){return!!n&&"mapValue"in n}function Wp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wp(t)}setAll(e){let t=ar.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=Wp(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Zm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Mc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Qr(Wp(this.value))}}function kI(n){const e=[];return Mc(n.fields,(t,r)=>{const s=new ar([t]);if(Zm(r)){const u=kI(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Mi(e)}class kn{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new kn(e,0,yt.min(),yt.min(),yt.min(),Qr.empty(),0)}static newFoundDocument(e,t,r,s){return new kn(e,1,t,yt.min(),r,s,0)}static newNoDocument(e,t){return new kn(e,2,t,yt.min(),yt.min(),Qr.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,yt.min(),yt.min(),Qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class td{constructor(e,t){this.position=e,this.inclusive=t}}function LI(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(l.referenceValue),t.key):Nc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function FI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!va(n.position[t],e.position[t]))return!1;return!0}class Jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class UI{}class qt extends UI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Qm(e,t,r):"array-contains"===t?new HI(e,r):"in"===t?new B_(e,r):"not-in"===t?new j_(e,r):"array-contains-any"===t?new zI(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Jm(e,r):new Wb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nc(t,this.value)):null!==t&&Pc(this.value)===Pc(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends UI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yn(e,t)}matches(e){return Oc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Oc(n){return"and"===n.op}function V_(n){return function Ym(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}(n)&&Oc(n)}function nd(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Yh(n.value);if(V_(n))return n.filters.map(e=>nd(e)).join(",");{const e=n.filters.map(t=>nd(t)).join(",");return`${n.op}(${e})`}}function VI(n,e){return n instanceof qt?(t=n,(r=e)instanceof qt&&t.op===r.op&&t.field.isEqual(r.field)&&va(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&VI(u,r.filters[l]),!0)}(n,e):void rt();var t,r}function jI(n){return n instanceof qt?`${(e=n).field.canonicalString()} ${e.op} ${Yh(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(jI).join(" ,")+"}"}(n):"Filter";var e}class Qm extends qt{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class Jm extends qt{constructor(e,t){super(e,"in",t),this.keys=$I(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wb extends qt{constructor(e,t){super(e,"not-in",t),this.keys=$I(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $I(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class HI extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gp(t)&&Wm(t.arrayValue,this.value)}}class B_ extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wm(this.value.arrayValue,t)}}class j_ extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wm(this.value.arrayValue,t)}}class zI extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wm(this.value.arrayValue,r))}}class $_{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function qp(n,e=null,t=[],r=[],s=null,u=null,l=null){return new $_(n,e,t,r,s,u,l)}function kc(n){const e=Ye(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nd(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),jp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yh(r)).join(",")),e.dt=t}return e.dt}function rd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Gb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FI(n.startAt,e.startAt)&&FI(n.endAt,e.endAt)}function Xh(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class vu{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=w,this.wt=null,this._t=null}}function Lc(n){return new vu(n)}function z_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function G_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Kp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ey(n){return null!==n.collectionGroup}function id(n){const e=Ye(n);if(null===e.wt){e.wt=[];const t=Kp(e),r=G_(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Jh(t)),e.wt.push(new Jh(ar.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jh(ar.keyField(),u))}}}return e.wt}function Pi(n){const e=Ye(n);if(!e._t)if("F"===e.limitType)e._t=qp(e.path,e.collectionGroup,id(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of id(e))t.push(new Jh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new td(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new td(e.startAt.position,e.startAt.inclusive):null;e._t=qp(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function ty(n,e){e.getFirstInequalityField(),Kp(n);const t=n.filters.concat([e]);return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ny(n,e,t){return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ef(n,e){return rd(Pi(n),Pi(e))&&n.limitType===e.limitType}function qI(n){return`${kc(Pi(n))}|lt:${n.limitType}`}function li(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>jI(r)).join(", ")}]`),jp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yh(r)).join(",")),`Target(${t})`}(Pi(n))}; limitType=${n.limitType})`}function _a(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ke.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of id(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=LI(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,id(t),r)||t.endAt&&!function(s,u,l){const g=LI(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,id(t),r)));var t,r}function ZI(n){return(e,t)=>{let r=!1;for(const s of id(n)){const u=GS(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function GS(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),w=l.data.field(s);return null!==g&&null!==w?Nc(g,w):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return Jl(this.inner)}size(){return this.innerSize}}const YI=new Cn(Ke.comparator);function Ni(){return YI}const tf=new Cn(Ke.comparator);function Zp(...n){let e=tf;for(const t of n)e=e.insert(t.key,t);return e}function ry(n){let e=tf;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wa(){return Yp()}function W_(){return Yp()}function Yp(){return new Fc(n=>n.toString(),(n,e)=>n.isEqual(e))}const qb=new Cn(Ke.comparator),Kb=new Rn(Ke.comparator);function $t(...n){let e=Kb;for(const t of n)e=e.add(t);return e}const QI=new Rn(Ft);function Qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function sy(n){return{integerValue:""+n}}function Zb(n,e){return function P_(n){return"number"==typeof n&&Number.isInteger(n)&&!Kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?sy(e):Qp(n,e)}class Jp{constructor(){this._=void 0}}function Yb(n,e,t){return n instanceof nf?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&zm(s)&&(s=Gm(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Uc?oy(n,e):n instanceof rf?XI(n,e):function(r,s){const u=sd(r,s),l=eE(u)+eE(r.gt);return L_(u)&&L_(r.gt)?sy(l):Qp(r.serializer,l)}(n,e)}function JI(n,e,t){return n instanceof Uc?oy(n,e):n instanceof rf?XI(n,e):t}function sd(n,e){return n instanceof Xp?L_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class nf extends Jp{}class Uc extends Jp{constructor(e){super(),this.elements=e}}function oy(n,e){const t=tE(e);for(const r of n.elements)t.some(s=>va(s,r))||t.push(r);return{arrayValue:{values:t}}}class rf extends Jp{constructor(e){super(),this.elements=e}}function XI(n,e){let t=tE(e);for(const r of n.elements)t=t.filter(s=>!va(s,r));return{arrayValue:{values:t}}}class Xp extends Jp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function eE(n){return Yn(n.integerValue||n.doubleValue)}function tE(n){return Gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rE{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ng{}function iE(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new rg(n.key,$n.none()):new od(n.key,n.data,$n.none());{const t=n.data,r=Qr.empty();let s=new Rn(ar.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new Ia(n.key,r,new Mi(s.toArray()),$n.none())}}function Qb(n,e,t){n instanceof od?function(r,s,u){const l=r.value.clone(),g=sE(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ia?function(r,s,u){if(!tg(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=sE(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(K_(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sf(n,e,t,r){return n instanceof od?function(s,u,l,g){if(!tg(s.precondition,u))return l;const w=s.value.clone(),C=oE(s.fieldTransforms,g,u);return w.setAll(C),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ia?function(s,u,l,g){if(!tg(s.precondition,u))return l;const w=oE(s.fieldTransforms,g,u),C=u.data;return C.setAll(K_(s)),C.setAll(w),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,tg(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function Jb(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=sd(r.transform,s||null);null!=u&&(null===t&&(t=Qr.empty()),t.set(r.field,u))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Gh(t,r,(s,u)=>function nE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Uc&&r instanceof Uc||t instanceof rf&&r instanceof rf?Gh(t.elements,r.elements,va):t instanceof Xp&&r instanceof Xp?va(t.gt,r.gt):t instanceof nf&&r instanceof nf);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class od extends ng{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ia extends ng{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sE(n,e,t){const r=new Map;mt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,JI(l,g,t[s]))}return r}function oE(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,Yb(u,l,e))}return r}class rg extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ay extends ng{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aE{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&Qb(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W_();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const w=iE(l,g);null!==w&&r.set(s.key,w),l.isValidDocument()||l.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$t())}isEqual(e){return this.batchId===e.batchId&&Gh(this.mutations,e.mutations,(t,r)=>q_(t,r))&&Gh(this.baseMutations,e.baseMutations,(t,r)=>q_(t,r))}}class uE{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){mt(e.mutations.length===r.length);let s=qb;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new uE(e,t,r,s)}}class cE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qS{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lr,an;function ig(n){if(void 0===n)return or("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Lr.OK:return ce.OK;case Lr.CANCELLED:return ce.CANCELLED;case Lr.UNKNOWN:return ce.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return ce.INTERNAL;case Lr.UNAVAILABLE:return ce.UNAVAILABLE;case Lr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Lr.NOT_FOUND:return ce.NOT_FOUND;case Lr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Lr.ABORTED:return ce.ABORTED;case Lr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Lr.DATA_LOSS:return ce.DATA_LOSS;default:return rt()}}(an=Lr||(Lr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class lE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sg}static getOrCreateInstance(){return null===sg&&(sg=new lE),sg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sg=null;const dE=new Bh([4294967295,4294967295],0);function Z_(n){const e=function og(){return new TextEncoder}().encode(n),t=new bb;return t.update(e),new Uint8Array(t.digest())}function eC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Bh([t,r],0),new Bh([s,u],0)]}class ag{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new af(`Invalid padding: ${t}`);if(r<0)throw new af(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new af(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new af(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Bh.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Bh.fromNumber(r)));return 1===s.compare(dE)&&(s=new Bh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Z_(e),[r,s]=eC(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new ag(u,s,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=Z_(e),[r,s]=eC(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ug{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,uy.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ug(yt.min(),s,new Cn(Ft),Ni(),$t())}}class uy{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uy(r,t,$t(),$t(),$t())}}class Y_{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class hE{constructor(e,t){this.targetId=e,this.Vt=t}}class fE{constructor(e,t,r=mr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class cg{constructor(){this.St=0,this.Dt=rC(),this.Ct=mr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=$t(),t=$t(),r=$t();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new uy(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=rC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class tC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ni(),this.zt=nC(),this.Wt=new Cn(Ft)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Xh(l))if(0===s){const g=new Ke(l.path);this.Yt(r,g,kn.newNoDocument(g,yt.min()))}else mt(1===s);else{const g=this.ie(r);if(g!==s){const w=this.re(e,g);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=lE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,S,P){var B,W,ue,xe,ke,it;const Et={localCacheCount:S,existenceFilterCount:P.count},wt=P.unchangedNames;return wt&&(Et.bloomFilter={applied:0===C,hashCount:null!==(B=wt?.hashCount)&&void 0!==B?B:0,bitmapLength:null!==(xe=null===(ue=null===(W=wt?.bits)||void 0===W?void 0:W.bitmap)||void 0===ue?void 0:ue.length)&&void 0!==xe?xe:0,padding:null!==(it=null===(ke=wt?.bits)||void 0===ke?void 0:ke.padding)&&void 0!==it?it:0}),Et}(w,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let w,C;try{w=ya(u).toUint8Array()}catch(S){if(S instanceof SI)return xs("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{C=new ag(w,l,g)}catch(S){return xs(S instanceof af?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&Xh(g.target)){const w=new Ke(g.target.path);null!==this.jt.get(w)||this.ae(l,w)||this.Yt(l,w,kn.newNoDocument(w,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=$t();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(w=>{const C=this.se(w);return!C||"TargetPurposeLimboResolution"===C.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new ug(e,t,this.Wt,this.jt,r);return this.jt=Ni(),this.zt=nC(),this.Wt=new Cn(Ft),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cg,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Rn(Ft),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cg),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function nC(){return new Cn(Ke.comparator)}function rC(){return new Cn(Ke.comparator)}const KS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),iC=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sC=(()=>({and:"AND",or:"OR"}))();class oC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pE(n,e){return n.useProto3Json||jp(e)?e:{value:e}}function uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gE(n,e){return uf(n,e.toTimestamp())}function Er(n){return mt(!!n),yt.fromTimestamp(function(e){const t=mu(e);return new On(t.seconds,t.nanos)}(n))}function Rs(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mE(n){const e=nn.fromString(n);return mt(bE(e)),e}function ad(n,e){return Rs(n.databaseId,e.path)}function Ea(n,e){const t=mE(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(cy(t))}function yE(n,e){return Rs(n.databaseId,e)}function lg(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cy(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vE(n,e,t){return{name:ad(n,e),fields:t.value.mapValue.fields}}function e0(n,e){return{documents:[yE(n,e.path)]}}function t0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=yE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return DE(yn.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(C=>{return{field:Da((S=C).field),direction:_u(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=pE(n,e.limit);var g,w;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function n0(n){let e=function Ms(n){const e=mE(n);return 4===e.length?nn.emptyPath():cy(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){mt(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const P=ly(S);return P instanceof yn&&V_(P)?P.getFilters():[P]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new Jh(ud((P=S).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let g=null;t.limit&&(g=function(S){let P;return P="object"==typeof S?S.value:S,jp(P)?null:P}(t.limit));let w=null;var S;t.startAt&&(w=new td((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new td(S.values||[],!S.before)}(t.endAt)),function H_(n,e,t,r,s,u,l,g){return new vu(n,e,t,r,s,u,l,g)}(e,s,l,u,g,"F",w,C)}function ly(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ud(e.unaryFilter.field);return qt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ud(e.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ud(e.unaryFilter.field);return qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ud(e.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?qt.create(ud((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>ly(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function _u(n){return KS[n]}function Vc(n){return iC[n]}function EE(n){return sC[n]}function Da(n){return{fieldPath:n.canonicalString()}}function ud(n){return ar.fromServerFormat(n.fieldPath)}function DE(n){return n instanceof qt?function(e){if("=="===e.op){if(PI(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NAN"}};if(MI(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PI(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NOT_NAN"}};if(MI(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(e.field),op:Vc(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>DE(r));return 1===t.length?t[0]:{compositeFilter:{op:EE(e.op),filters:t}}}(n):rt()}function ZS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class wu{constructor(e,t,r,s,u=yt.min(),l=yt.min(),g=mr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=w}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CE{constructor(e){this.fe=e}}function fy(n){const e=n0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ny(e,e.limit,"L"):e}class ld{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Kh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ya(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Qh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Ke.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ld.Ve=new ld;class l0{constructor(){this.rn=new yg}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ci.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class yg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Rn(nn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rn(nn.comparator)).toArray()}}class di{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(41943040,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class pd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pd(0)}static Mn(){return new pd(-1)}}class PE{constructor(){this.changes=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class DC{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&sf(r.mutation,s,Mi.empty(),On.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$t()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$t()){const s=wa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=Zp();return u.forEach((g,w)=>{l=l.insert(g,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$t()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=Ni();const l=Yp(),g=Yp();return t.forEach((w,C)=>{const S=r.get(C.key);s.has(C.key)&&(void 0===S||S.mutation instanceof Ia)?u=u.insert(C.key,C):void 0!==S?(l.set(C.key,S.mutation.getFieldMask()),sf(S.mutation,C,S.mutation.getFieldMask(),On.now())):l.set(C.key,Mi.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((C,S)=>l.set(C,S)),t.forEach((C,S)=>{var P;return g.set(C,new nA(S,null!==(P=l.get(C))&&void 0!==P?P:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Yp();let s=new Cn((l,g)=>l-g),u=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(w=>{const C=t.get(w);if(null===C)return;let S=r.get(w)||Mi.empty();S=g.applyToLocalView(C,S),r.set(w,S);const P=(s.get(g.batchId)||$t()).add(w);s=s.insert(g.batchId,P)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const w=g.getNext(),C=w.key,S=w.value,P=W_();S.forEach(B=>{if(!u.has(B)){const W=iE(t.get(B),r.get(B));null!==W&&P.set(B,W),u=u.add(B)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,P))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ey(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ee.resolve(wa());let g=-1,w=u;return l.next(C=>ee.forEach(C,(S,P)=>(g<P.largestBatchId&&(g=P.largestBatchId),u.get(S)?ee.resolve():this.remoteDocumentCache.getEntry(e,S).next(B=>{w=w.insert(S,B)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,w,C,$t())).next(S=>({batchId:g,changes:ry(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let s=Zp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Zp();return this.indexManager.getCollectionParents(e,s).next(l=>ee.forEach(l,g=>{const w=(C=t,S=g.child(s),new vu(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(C=>{C.forEach((S,P)=>{u=u.insert(S,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,w)=>{const C=w.getKey();null===u.get(C)&&(u=u.insert(C,kn.newInvalidDocument(C)))});let l=Zp();return u.forEach((g,w)=>{const C=s.get(g);void 0!==C&&sf(C.mutation,w,Mi.empty(),On.now()),_a(t,w)&&(l=l.insert(g,w))}),l})}}class rA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Er(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:fy(r.bundledQuery),readTime:Er(r.readTime)}),ee.resolve();var r}}class iA{constructor(){this.overlays=new Cn(Ke.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wa();return ee.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const s=wa(),u=t.length+1,l=new Ke(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const w=g.getNext().value,C=w.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Cn((C,S)=>C-S);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=u.get(C.largestBatchId);null===S&&(S=wa(),u=u.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const g=wa(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((C,S)=>g.set(C,S)),!(g.size()>=s)););return ee.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cE(t,r));let u=this.ls.get(t);void 0===u&&(u=$t(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class i{constructor(){this.fs=new Rn(o.ds),this.ws=new Rn(o._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new o(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new o(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ke(new nn([])),r=new o(t,e),s=new o(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ke(new nn([])),r=new o(t,e),s=new o(t,e+1);let u=$t();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new o(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class o{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ke.comparator(e.key,t.key)||Ft(e.As,t.As)}static _s(e,t){return Ft(e.As,t.As)||Ke.comparator(e.key,t.key)}}class a{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Rn(o.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new aE(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.Rs=this.Rs.add(new o(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new o(t,0),s=new o(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const g=this.Ps(l.As);u.push(g)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rn(Ft);return t.forEach(s=>{const u=new o(s,0),l=new o(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const l=new o(new Ke(u),0);let g=new Rn(Ft);return this.Rs.forEachWhile(w=>{const C=w.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(g=g.add(w.As)),!0)},l),ee.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,s=>{const u=new o(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new o(t,0),s=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c{constructor(e){this.Ds=e,this.docs=new Cn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=Ni();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():kn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=Ni();const l=t.path,g=new Ke(l.child("")),w=this.docs.getIteratorFrom(g);for(;w.hasNext();){const{key:C,value:{document:S}}=w.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||x_(A_(S),r)<=0||(s.has(S.key)||_a(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,s){rt()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d(this)}getSize(e){return ee.resolve(this.size)}}class d extends PE{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class p{constructor(e){this.persistence=e,this.xs=new Fc(t=>kc(t),rd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new i,this.targetCount=0,this.Ms=pd.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new pd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),ee.waitFor(u).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class y{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ki(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new p(this),this.indexManager=new l0,this.remoteDocumentCache=new c(r=>this.referenceDelegate.Ls(r)),this.serializer=new CE(t),this.qs=new rA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new a(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const s=new E(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class E extends mI{constructor(e){super(),this.currentSequenceNumber=e}}class b{constructor(e){this.persistence=e,this.Qs=new i,this.js=null}static zs(e){return new b(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const s=Ke.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class ut{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=$t(),s=$t();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new ut(e,t.fromCache,r,s)}}class St{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(z_(t))return ee.resolve(null);let r=Pi(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=ny(t,null,"F"),r=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=$t(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(w=>{const C=this.ji(t,g);return this.zi(t,C,l,w.readTime)?this.Ki(e,ny(t,null,"F")):this.Wi(e,C,t,w)}))})))}Gi(e,t,r,s){return z_(t)||s.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):($h()<=_c.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),li(t)),this.Wi(e,l,t,function pI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=yt.fromTimestamp(1e9===r?new On(t+1,0):new On(t,r));return new ci(s,Ke.empty(),e)}(s,-1)))})}ji(e,t){let r=new Rn(ZI(e));return t.forEach((s,u)=>{_a(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return $h()<=_c.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",li(t)),this.Ui.getDocumentsMatchingQuery(e,t,ci.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class Re{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Cn(Ft),this.Yi=new Fc(u=>kc(u),rd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ln(n,e){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,_e.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let w=$t();for(const C of s){l.push(C.batchId);for(const S of C.mutations)w=w.add(S.key)}for(const C of u){g.push(C.batchId);for(const S of C.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(C=>({er:C,removedBatchIds:l,addedBatchIds:g}))})})}),Qn.apply(this,arguments)}function oA(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function AR(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function by(n,e,t){return bC.apply(this,arguments)}function bC(){return bC=(0,_e.Z)(function*(n,e,t){const r=Ye(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Rc(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),bC.apply(this,arguments)}function NE(n,e,t){const r=Ye(n);let s=yt.min(),u=$t();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,w,C){const S=Ye(g),P=S.Yi.get(C);return void 0!==P?ee.resolve(S.Ji.get(P)):S.Bs.getTargetData(w,C)}(r,l,Pi(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:yt.min(),t?u:$t())).next(g=>(function lA(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function KI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class xC{constructor(){this.activeTargetIds=function iy(){return QI}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fA{constructor(){this.Hr=new xC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MR{Yr(e){}shutdown(){}}class pA{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let LE=null;function MC(){return null===LE?LE=268435456+Math.round(2147483648*Math.random()):LE++,"0x"+LE.toString(16)}const PR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const us="WebChannelConnection";class OR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=MC(),g=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const w={};return this.Eo(w,s,u),this.Ao(e,g,w,r).then(C=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw xs("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",g,"request:",r),C})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${PR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=MC();return new Promise((l,g)=>{const w=new Tt;w.setWithCredentials(!0),w.listenOnce(E_.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case sI.NO_ERROR:const S=w.getResponseJson();Ue(us,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case sI.TIMEOUT:Ue(us,`RPC '${e}' ${u} timed out`),g(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case sI.HTTP_ERROR:const P=w.getStatus();if(Ue(us,`RPC '${e}' ${u} failed with status:`,P,"response text:",w.getResponseText()),P>0){let B=w.getResponseJson();Array.isArray(B)&&(B=B[0]);const W=B?.error;if(W&&W.status&&W.message){const ue=function(xe){const ke=xe.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(ke)>=0?ke:ce.UNKNOWN}(W.status);g(new Te(ue,W.message))}else g(new Te(ce.UNKNOWN,"Server responded with status "+w.getStatus()))}else g(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(us,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);Ue(us,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=MC(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Db(),g=Vh(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(w.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(w.xmlHttpFactory=new oI({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const S=u.join("");Ue(us,`Creating RPC '${e}' stream ${s}: ${S}`,w);const P=l.createWebChannel(S,w);let B=!1,W=!1;const ue=new NR({ro:ke=>{W?Ue(us,`Not sending because RPC '${e}' stream ${s} is closed:`,ke):(B||(Ue(us,`Opening RPC '${e}' stream ${s} transport.`),P.open(),B=!0),Ue(us,`RPC '${e}' stream ${s} sending:`,ke),P.send(ke))},oo:()=>P.close()}),xe=(ke,it,Et)=>{ke.listen(it,wt=>{try{Et(wt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return xe(P,b_.EventType.OPEN,()=>{W||Ue(us,`RPC '${e}' stream ${s} transport opened.`)}),xe(P,b_.EventType.CLOSE,()=>{W||(W=!0,Ue(us,`RPC '${e}' stream ${s} transport closed`),ue.wo())}),xe(P,b_.EventType.ERROR,ke=>{W||(W=!0,xs(us,`RPC '${e}' stream ${s} transport errored:`,ke),ue.wo(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),xe(P,b_.EventType.MESSAGE,ke=>{var it;if(!W){const Et=ke.data[0];mt(!!Et);const Pt=Et.error||(null===(it=Et[0])||void 0===it?void 0:it.error);if(Pt){Ue(us,`RPC '${e}' stream ${s} received error:`,Pt);const Gt=Pt.status;let un=function(Tg){const TR=Lr[Tg];if(void 0!==TR)return ig(TR)}(Gt),cs=Pt.message;void 0===un&&(un=ce.INTERNAL,cs="Unknown error status: "+Gt+" with message "+Pt.message),W=!0,ue.wo(new Te(un,cs)),P.close()}else Ue(us,`RPC '${e}' stream ${s} received:`,Et),ue._o(Et)}}),xe(g,$S.STAT_EVENT,ke=>{ke.stat===D_.PROXY?Ue(us,`RPC '${e}' stream ${s} detected buffering proxy`):ke.stat===D_.NOPROXY&&Ue(us,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ue.fo()},0),ue}}function FE(){return typeof document<"u"?document:null}function y0(n){return new oC(n,!0)}class PC{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class mA{constructor(e,t,r,s,u,l,g,w){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new PC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Te(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kR extends mA{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function wE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:rt(),s=e.targetChange.targetIds||[],u=function(w,C){return w.useProto3Json?(mt(void 0===C||"string"==typeof C),mr.fromBase64String(C||"")):(mt(void 0===C||C instanceof Uint8Array),mr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(w){const C=void 0===w.code?ce.UNKNOWN:ig(w.code);return new Te(C,w.message||"")}(l);t=new fE(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=Ea(n,r.document.name),u=Er(r.document.updateTime),l=r.document.createTime?Er(r.document.createTime):yt.min(),g=new Qr({mapValue:{fields:r.document.fields}}),w=kn.newFoundDocument(s,u,l,g);t=new Y_(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=Ea(n,r.document),u=r.readTime?Er(r.readTime):yt.min(),l=kn.newNoDocument(s,u);t=new Y_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Ea(n,r.document);t=new Y_([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new qS(s,u);t=new hE(r.targetId,l)}}var w;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return yt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?Er(u.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=lg(this.serializer),t.addTarget=function(s,u){let l;const g=u.target;if(l=Xh(g)?{documents:e0(s,g)}:{query:t0(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=Q_(s,u.resumeToken);const w=pE(s,u.expectedCount);null!==w&&(l.expectedCount=w)}else if(u.snapshotVersion.compareTo(yt.min())>0){l.readTime=uf(s,u.snapshotVersion.toTimestamp());const w=pE(s,u.expectedCount);null!==w&&(l.expectedCount=w)}return l}(this.serializer,e);const r=function aC(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=lg(this.serializer),t.removeTarget=e,this.Wo(t)}}class LR extends mA{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function IE(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(r,s){let u=Er(r.updateTime?r.updateTime:s);return u.isEqual(yt.min())&&(u=Er(s)),new rE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.cu(r,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=lg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function cf(n,e){let t;if(e instanceof od)t={update:vE(n,e.key,e.value)};else if(e instanceof rg)t={delete:ad(n,e.key)};else if(e instanceof Ia)t={update:vE(n,e.key,e.data),updateMask:ZS(e.fieldMask)};else{if(!(e instanceof ay))return rt();t={verify:ad(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof nf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Uc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof rf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xp)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:gE(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}(this.serializer,r))};this.Wo(t)}}class FR extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ce.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ce.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class VR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(or(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class BR{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,_e.Z)(function*(){var w;hf(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,_e.Z)(function*(C){const S=Ye(C);S.vu.add(4),yield Cy(S),S.bu.set("Unknown"),S.vu.delete(4),yield v0(S)}),function(C){return w.apply(this,arguments)})(l))}))}),this.bu=new VR(r,s)}}function v0(n){return OC.apply(this,arguments)}function OC(){return OC=(0,_e.Z)(function*(n){if(hf(n))for(const e of n.Ru)yield e(!0)}),OC.apply(this,arguments)}function Cy(n){return kC.apply(this,arguments)}function kC(){return kC=(0,_e.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),kC.apply(this,arguments)}function UE(n,e){const t=Ye(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),UC(t)?FC(t):Sy(t).Ko()&&LC(t,e))}function _0(n,e){const t=Ye(n),r=Sy(t);t.Au.delete(e),r.Ko()&&yA(t,e),0===t.Au.size&&(r.Ko()?r.jo():hf(t)&&t.bu.set("Unknown"))}function LC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sy(n).su(e)}function yA(n,e){n.Vu.qt(e),Sy(n).iu(e)}function FC(n){n.Vu=new tC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Sy(n).start(),n.bu.gu()}function UC(n){return hf(n)&&!Sy(n).Uo()&&n.Au.size>0}function hf(n){return 0===Ye(n).vu.size}function vA(n){n.Vu=void 0}function jR(n){return VC.apply(this,arguments)}function VC(){return VC=(0,_e.Z)(function*(n){n.Au.forEach((e,t)=>{LC(n,e)})}),VC.apply(this,arguments)}function $R(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,_e.Z)(function*(n,e){vA(n),UC(n)?(n.bu.Iu(e),FC(n)):n.bu.set("Unknown")}),BC.apply(this,arguments)}function HR(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,_e.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof fE&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VE(n,r)}else if(e instanceof Y_?n.Vu.Ht(e):e instanceof hE?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield oA(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const C=s.Au.get(w);C&&s.Au.set(w,C.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,w)=>{const C=s.Au.get(g);if(!C)return;s.Au.set(g,C.withResumeToken(mr.EMPTY_BYTE_STRING,C.snapshotVersion)),yA(s,g);const S=new wu(C.target,g,w,C.sequenceNumber);LC(s,S)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield VE(n,r)}var r}),jC.apply(this,arguments)}function VE(n,e,t){return $C.apply(this,arguments)}function $C(){return $C=(0,_e.Z)(function*(n,e,t){if(!Rc(e))throw e;n.vu.add(1),yield Cy(n),n.bu.set("Offline"),t||(t=()=>oA(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield v0(n)}))}),$C.apply(this,arguments)}function _A(n,e){return e().catch(t=>VE(n,t,e))}function Ty(n){return HC.apply(this,arguments)}function HC(){return HC=(0,_e.Z)(function*(n){const e=Ye(n),t=ff(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;zR(e);)try{const s=yield AR(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,GR(e,s)}catch(s){yield VE(e,s)}wA(e)&&IA(e)}),HC.apply(this,arguments)}function zR(n){return hf(n)&&n.Eu.length<10}function GR(n,e){n.Eu.push(e);const t=ff(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function wA(n){return hf(n)&&!ff(n).Uo()&&n.Eu.length>0}function IA(n){ff(n).start()}function WR(n){return zC.apply(this,arguments)}function zC(){return zC=(0,_e.Z)(function*(n){ff(n).hu()}),zC.apply(this,arguments)}function qR(n){return GC.apply(this,arguments)}function GC(){return GC=(0,_e.Z)(function*(n){const e=ff(n);for(const t of n.Eu)e.uu(t.mutations)}),GC.apply(this,arguments)}function KR(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=(0,_e.Z)(function*(n,e,t){const r=n.Eu.shift(),s=uE.from(r,e,t);yield _A(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Ty(n)}),WC.apply(this,arguments)}function ZR(n,e){return qC.apply(this,arguments)}function qC(){return qC=(0,_e.Z)(function*(n,e){var t;e&&ff(n).ou&&(yield(t=(0,_e.Z)(function*(r,s){if(function Xb(n){switch(n){default:return rt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}(u=s.code)&&u!==ce.ABORTED){const l=r.Eu.shift();ff(r).Qo(),yield _A(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield Ty(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),wA(n)&&IA(n)}),qC.apply(this,arguments)}function EA(n,e){return KC.apply(this,arguments)}function KC(){return KC=(0,_e.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=hf(t);t.vu.add(3),yield Cy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield v0(t)}),KC.apply(this,arguments)}function YC(){return YC=(0,_e.Z)(function*(n,e){const t=Ye(n);e?(t.vu.delete(2),yield v0(t)):e||(t.vu.add(2),yield Cy(t),t.bu.set("Unknown"))}),YC.apply(this,arguments)}function Sy(n){return n.Su||(n.Su=function(e,t,r){const s=Ye(e);return s.fu(),new kR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:jR.bind(null,n),ao:$R.bind(null,n),nu:HR.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Su.Qo(),UC(n)?FC(n):n.bu.set("Unknown")):(yield n.Su.stop(),vA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ff(n){return n.Du||(n.Du=function(e,t,r){const s=Ye(e);return s.fu(),new LR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:WR.bind(null,n),ao:ZR.bind(null,n),au:qR.bind(null,n),cu:KR.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Du.Qo(),yield Ty(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class QC{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new QC(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(n,e){if(or("AsyncQueue",`${e}: ${n}`),Rc(n))return new Te(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class xy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=Zp(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new xy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class DA{constructor(){this.Cu=new Cn(Ke.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ry{constructor(e,t,r,s,u,l,g,w,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=w,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new Ry(e,t,xy.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class YR{constructor(){this.Nu=void 0,this.listeners=[]}}class QR{constructor(){this.queries=new Fc(e=>qI(e),ef),this.onlineState="Unknown",this.ku=new Set}}function JC(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,_e.Z)(function*(n,e){const t=Ye(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new YR),s)try{u.Nu=yield t.onListen(r)}catch(l){const g=Ay(l,`Initialization of query '${li(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&nT(t)}),XC.apply(this,arguments)}function eT(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,_e.Z)(function*(n,e){const t=Ye(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),tT.apply(this,arguments)}function JR(n,e){const t=Ye(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.$u(s)&&(r=!0);l.Nu=s}}r&&nT(t)}function XR(n,e,t){const r=Ye(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function nT(n){n.ku.forEach(e=>{e.next()})}class rT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Ry(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class TA{constructor(e){this.key=e}}class SA{constructor(e){this.key=e}}class AA{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=$t(),this.mutatedKeys=$t(),this.tc=ZI(e),this.ec=new xy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new DA,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,P)=>{const B=s.get(S),W=_a(this.query,P)?P:null,ue=!!B&&this.mutatedKeys.has(B.key),xe=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let ke=!1;B&&W?B.data.isEqual(W.data)?ue!==xe&&(r.track({type:3,doc:W}),ke=!0):this.rc(B,W)||(r.track({type:2,doc:W}),ke=!0,(w&&this.tc(W,w)>0||C&&this.tc(W,C)<0)&&(g=!0)):!B&&W?(r.track({type:0,doc:W}),ke=!0):B&&!W&&(r.track({type:1,doc:B}),ke=!0,(w||C)&&(g=!0)),ke&&(W?(l=l.add(W),u=xe?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,S)=>function(P,B){const W=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return W(P)-W(B)}(C.type,S.type)||this.tc(C.doc,S.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,w=g!==this.Xu;return this.Xu=g,0!==u.length||w?{snapshot:new Ry(this.query,e.ec,s,u,e.mutatedKeys,0===g,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new DA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=$t(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new SA(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new TA(r))}),t}hc(e){this.Yu=e.ir,this.Zu=$t();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ry.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class nM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rM{constructor(e){this.key=e,this.fc=!1}}class iM{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Fc(g=>qI(g),ef),this._c=new Map,this.mc=new Set,this.gc=new Cn(Ke.comparator),this.yc=new Map,this.Ic=new i,this.Tc={},this.Ec=new Map,this.Ac=pd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sM(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,_e.Z)(function*(n,e){const t=function ST(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uM.bind(null,e),e.dc.nu=JR.bind(null,e.eventManager),e.dc.Pc=XR.bind(null,e.eventManager),e}(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield function Dy(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,ee.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new wu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Pi(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield function sT(n,e,t,r,s){return oT.apply(this,arguments)}(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&UE(t.remoteStore,l)}return s}),iT.apply(this,arguments)}function oT(){return oT=(0,_e.Z)(function*(n,e,t,r,s){n.Rc=(P,B,W)=>{return(ue=(0,_e.Z)(function*(xe,ke,it,Et){let wt=ke.view.sc(it);wt.zi&&(wt=yield NE(xe.localStore,ke.query,!1).then(({documents:un})=>ke.view.sc(un,wt)));const Pt=Et&&Et.targetChanges.get(ke.targetId),Gt=ke.view.applyChanges(wt,xe.isPrimaryClient,Pt);return mT(xe,ke.targetId,Gt.cc),Gt.snapshot}),function(xe,ke,it,Et){return ue.apply(this,arguments)})(n,P,B,W);var ue};const u=yield NE(n.localStore,e,!0),l=new AA(e,u.ir),g=l.sc(u.documents),w=uy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=l.applyChanges(g,n.isPrimaryClient,w);mT(n,t,C.cc);const S=new nM(e,t,l);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),oT.apply(this,arguments)}function oM(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,_e.Z)(function*(n,e){const t=Ye(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!ef(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield by(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_0(t.remoteStore,r.targetId),My(t,r.targetId)}).catch(xc))):(My(t,r.targetId),yield by(t.localStore,r.targetId,!0))}),aT.apply(this,arguments)}function uT(){return uT=(0,_e.Z)(function*(n,e,t){const r=function AT(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lM.bind(null,e),e}(n);try{const s=yield function(u,l){const g=Ye(u),w=On.now(),C=l.reduce((B,W)=>B.add(W.key),$t());let S,P;return g.persistence.runTransaction("Locally write mutations","readwrite",B=>{let W=Ni(),ue=$t();return g.Zi.getEntries(B,C).next(xe=>{W=xe,W.forEach((ke,it)=>{it.isValidDocument()||(ue=ue.add(ke))})}).next(()=>g.localDocuments.getOverlayedDocuments(B,W)).next(xe=>{S=xe;const ke=[];for(const it of l){const Et=Jb(it,S.get(it.key).overlayedDocument);null!=Et&&ke.push(new Ia(it.key,Et,kI(Et.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(B,w,ke,l)}).next(xe=>{P=xe;const ke=xe.applyToLocalDocumentSet(S,ue);return g.documentOverlayCache.saveOverlays(B,xe.batchId,ke)})}).then(()=>({batchId:P.batchId,changes:ry(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let w=u.Tc[u.currentUser.toKey()];w||(w=new Cn(Ft)),w=w.insert(l,g),u.Tc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield yd(r,s.changes),yield Ty(r.remoteStore)}catch(s){const u=Ay(s,"Failed to persist write");t.reject(u)}}),uT.apply(this,arguments)}function xA(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,_e.Z)(function*(n,e){const t=Ye(n);try{const r=yield function SR(n,e){const t=Ye(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((S,P)=>{const B=s.get(P);if(!B)return;g.push(t.Bs.removeMatchingKeys(u,S.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(u,S.addedDocuments,P)));let W=B.withSequenceNumber(u.currentSequenceNumber);var ue,xe,ke;null!==e.targetMismatches.get(P)?W=W.withResumeToken(mr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(S.resumeToken,r)),s=s.insert(P,W),xe=W,ke=S,(0===(ue=B).resumeToken.approximateByteSize()||xe.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,W))});let w=Ni(),C=$t();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(function aA(n,e,t){let r=$t(),s=$t();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Ni();return t.forEach((g,w)=>{const C=u.get(g);w.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(g)),w.isNoDocument()&&w.version.isEqual(yt.min())?(e.removeEntry(g,w.readTime),l=l.insert(g,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(w),l=l.insert(g,w)):Ue("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",w.version)}),{nr:l,sr:s}})}(u,l,e.documentUpdates).next(S=>{w=S.nr,C=S.sr})),!r.isEqual(yt.min())){const S=t.Bs.getLastRemoteSnapshotVersion(u).next(P=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(S)}return ee.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,C)).next(()=>w)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?mt(l.fc):s.removedDocuments.size>0&&(mt(l.fc),l.fc=!1))}),yield yd(t,r,e)}catch(r){yield xc(r)}}),cT.apply(this,arguments)}function RA(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=Ye(u);g.onlineState=l;let w=!1;g.queries.forEach((C,S)=>{for(const P of S.listeners)P.Mu(l)&&(w=!0)}),w&&nT(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uM(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,_e.Z)(function*(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new Cn(Ke.comparator);l=l.insert(u,kn.newNoDocument(u,yt.min()));const g=$t().add(u),w=new ug(yt.min(),new Map,new Cn(Ft),l,g);yield xA(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),yT(r)}else yield by(r.localStore,e,!1).then(()=>My(r,e,t)).catch(xc)}),lT.apply(this,arguments)}function cM(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,_e.Z)(function*(n,e){const t=Ye(n),r=e.batch.batchId;try{const s=yield function sA(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,w,C){const S=w.batch,P=S.keys();let B=ee.resolve();return P.forEach(W=>{B=B.next(()=>C.getEntry(g,W)).next(ue=>{const xe=w.docVersions.get(W);mt(null!==xe),ue.version.compareTo(xe)<0&&(S.applyToRemoteDocument(ue,w),ue.isValidDocument()&&(ue.setReadTime(w.commitVersion),C.addEntry(ue)))})}),B.next(()=>l.mutationQueue.removeMutationBatch(g,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=$t();for(let w=0;w<l.mutationResults.length;++w)l.mutationResults[w].transformResults.length>0&&(g=g.add(l.batch.mutations[w].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);gT(t,r,null),pT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yd(t,s)}catch(s){yield xc(s)}}),dT.apply(this,arguments)}function lM(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,_e.Z)(function*(n,e,t){const r=Ye(n);try{const s=yield function(u,l){const g=Ye(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let C;return g.mutationQueue.lookupMutationBatch(w,l).next(S=>(mt(null!==S),C=S.keys(),g.mutationQueue.removeMutationBatch(w,S))).next(()=>g.mutationQueue.performConsistencyCheck(w)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(w,C,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,C)).next(()=>g.localDocuments.getDocuments(w,C))})}(r.localStore,e);gT(r,e,t),pT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yd(r,s)}catch(s){yield xc(s)}}),hT.apply(this,arguments)}function pT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function gT(n,e,t){const r=Ye(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function My(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||MA(n,r)})}function MA(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(_0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),yT(n))}function mT(n,e,t){for(const r of t)r instanceof TA?(n.Ic.addReference(r.key,e),hM(n,r)):r instanceof SA?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||MA(n,r.key)):rt()}function hM(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),yT(n))}function yT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ke(nn.fromString(e)),r=n.Ac.next();n.yc.set(r,new rM(t)),n.gc=n.gc.insert(t,r),UE(n.remoteStore,new wu(Pi(Lc(t.path)),r,"TargetPurposeLimboResolution",Ki.ct))}}function yd(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=(0,_e.Z)(function*(n,e,t){const r=Ye(n),s=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,w)=>{l.push(r.Rc(w,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const S=ut.Li(w.targetId,C);u.push(S)}}))}),yield Promise.all(l),r.dc.nu(s),yield(g=(0,_e.Z)(function*(w,C){const S=Ye(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ee.forEach(C,B=>ee.forEach(B.Fi,W=>S.persistence.referenceDelegate.addReference(P,B.targetId,W)).next(()=>ee.forEach(B.Bi,W=>S.persistence.referenceDelegate.removeReference(P,B.targetId,W)))))}catch(P){if(!Rc(P))throw P;Ue("LocalStore","Failed to update sequence numbers: "+P)}for(const P of C){const B=P.targetId;if(!P.fromCache){const W=S.Ji.get(B),xe=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);S.Ji=S.Ji.insert(B,xe)}}}),function(w,C){return g.apply(this,arguments)})(r.localStore,u))}),vT.apply(this,arguments)}function fM(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,_e.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield Ln(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new Te(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yd(t,r.er)}var s}),_T.apply(this,arguments)}function pM(n,e){const t=Ye(n),r=t.yc.get(e);if(r&&r.fc)return $t().add(r.key);{let s=$t();const u=t._c.get(e);if(!u)return s;for(const l of u){const g=t.wc.get(l);s=s.unionWith(g.view.nc)}return s}}class w0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=y0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Ut(n,e,t,r){return new Re(n,e,t,r)}(this.persistence,new St,e.initialUser,this.serializer)}createPersistence(e){return new y(b.zs,this.serializer)}createSharedClientState(e){return new fA}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Py{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>RA(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=fM.bind(null,r.syncEngine),yield function ZC(n,e){return YC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QR}createDatastore(e){const t=y0(e.databaseInfo.databaseId),r=new OR(e.databaseInfo);return new FR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>RA(this.syncEngine,g,0),l=pA.D()?new pA:new MR,new BR(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,w,C){const S=new iM(r,s,u,l,g,w);return C&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Ye(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Cy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class BE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SM{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=zh.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,_e.Z)(function*(g){Ue("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Ay(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function jE(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,_e.Z)(function*(u){r.isEqual(u)||(yield Ln(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),RT.apply(this,arguments)}function MT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NT(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>EA(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>EA(e.remoteStore,u)),n._onlineComponents=e}),PT.apply(this,arguments)}function NT(n){return OT.apply(this,arguments)}function OT(){return OT=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function LA(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),yield jE(n,new w0)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield jE(n,new w0);return n._offlineComponents}),OT.apply(this,arguments)}function $E(n){return kT.apply(this,arguments)}function kT(){return kT=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield MT(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield MT(n,new Py))),n._onlineComponents}),kT.apply(this,arguments)}function HE(n){return NT(n).then(e=>e.localStore)}function Ny(n){return FT.apply(this,arguments)}function FT(){return FT=(0,_e.Z)(function*(n){const e=yield $E(n),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=oM.bind(null,e.syncEngine),t}),FT.apply(this,arguments)}function BA(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,u,l,g,w){const C=new BE({next:P=>{u.enqueueAndForget(()=>eT(s,S));const B=P.docs.has(l);!B&&P.fromCache?w.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&P.fromCache&&g&&"server"===g.source?w.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new rT(Lc(l.path),C,{includeMetadataChanges:!0,Ku:!0});return JC(s,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function jA(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,u,l,g,w){const C=new BE({next:P=>{u.enqueueAndForget(()=>eT(s,S)),P.fromCache&&"server"===g.source?w.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new rT(l,C,{includeMetadataChanges:!0,Ku:!0});return JC(s,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function $A(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const HA=new Map;function UT(n,e,t){if(!t)throw new Te(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GA(n){if(!Ke.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WA(n){if(Ke.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zE(n);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qA(n,e){if(e<=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class KA{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function zA(n,e,t,r){if(!0===e&&!0===r)throw new Te(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$A(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Cb;switch(t.type){case"firstParty":return new cI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HA.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),HA.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Zi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class zc extends Zi{constructor(e,t,r){super(e,t,Lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Ke(e))}withConverter(e){return new zc(this.firestore,e,this._path)}}function GE(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=zh.A()),UT("doc","path",e),n instanceof I0){const r=nn.fromString(e,...t);return GA(r),new Jn(n,null,new Ke(r))}{if(!(n instanceof Jn||n instanceof zc))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return GA(r),new Jn(n.firestore,n instanceof zc?n.converter:null,new Ke(r))}}function QA(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof Jn||n instanceof zc)&&(e instanceof Jn||e instanceof zc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function VT(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&ef(n._query,e._query)&&n.converter===e.converter}class FM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new PC(this,"async_queue_retry"),this.Xc=()=>{const t=FE();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=FE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=FE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new kr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Rc(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,or("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=QC.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function BT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Xn extends I0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new FM,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JA(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||JA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JA(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zb(n._databaseId,g,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,$A(C.experimentalLongPollingOptions),C.useFetchStreams));var g,C;n._firestoreClient=new SM(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class Gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gc(mr.fromBase64String(e))}catch(t){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gc(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _g{constructor(e){this._methodName=e}}class WE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const ZM=/^__.*__$/;class YM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new od(e,this.data,t,this.fieldTransforms)}}class tx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class qE{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new qE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return YE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(nx(this.ca)&&ZM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class QM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||y0(e)}ya(e,t,r,s=!1){return new qE({ca:e,methodName:t,ga:r,path:ar.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wg(n){const e=n._freezeSettings(),t=y0(n._databaseId);return new QM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KE(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);zT("Data must be an object, but it was:",l,r);const g=sx(r,l);let w,C;if(u.merge)w=new Mi(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const P of u.mergeFields){const B=b0(e,P,t);if(!l.contains(B))throw new Te(ce.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);ax(S,B)||S.push(B)}w=new Mi(S),C=l.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,C=l.fieldTransforms;return new YM(new Qr(g),w,C)}class D0 extends _g{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function ix(n,e,t,r=!1){return Ig(t,n.ya(r?4:3,e))}function Ig(n,e){if(ox(n=(0,on.m9)(n)))return zT("Unsupported field value:",e,n),sx(n,e);if(n instanceof _g)return function(t,r){if(!nx(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=Ig(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zb(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=On.fromDate(t);return{timestampValue:uf(r.serializer,s)}}if(t instanceof On){const s=new On(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uf(r.serializer,s)}}if(t instanceof WE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gc)return{bytesValue:Q_(r.serializer,t._byteString)};if(t instanceof Jn){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rs(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${zE(t)}`)}(n,e)}function sx(n,e){const t={};return Jl(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mc(n,(r,s)=>{const u=Ig(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ox(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof On||n instanceof WE||n instanceof Gc||n instanceof Jn||n instanceof _g)}function zT(n,e,t){if(!ox(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function b0(n,e,t){if((e=(0,on.m9)(e))instanceof vd)return e._internalPath;if("string"==typeof e)return ZE(n,e);throw YE("Field path arguments must be of type string or ",n,!1,void 0,t)}const tP=new RegExp("[~\\*/\\[\\]]");function ZE(n,e,t){if(e.search(tP)>=0)throw YE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vd(...e.split("."))._internalPath}catch{throw YE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function YE(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let w="";return(u||l)&&(w+=" (found",u&&(w+=` in field ${r}`),l&&(w+=` in document ${s}`),w+=")"),new Te(ce.INVALID_ARGUMENT,g+n+w)}function ax(n,e){return n.some(t=>t.isEqual(e))}class C0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class nP extends C0{data(){return super.data()}}function QE(n,e){return"string"==typeof e?ZE(n,e):e instanceof vd?e._internalPath:e._delegate._internalPath}function ux(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GT{}class T0 extends GT{}function pf(n,e,...t){let r=[];e instanceof GT&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof Oy).length,l=s.filter(g=>g instanceof S0).length;if(u>1||u>0&&l>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class S0 extends T0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new S0(e,t,r)}_apply(e){const t=this._parse(e);return hx(e._query,t),new Zi(e.firestore,e.converter,ty(e._query,t))}_parse(e){const t=wg(e.firestore);return function(s,u,l,g,w,C,S){let P;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){dx(S,C);const B=[];for(const W of S)B.push(lx(g,s,W));P={arrayValue:{values:B}}}else P=lx(g,s,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||dx(S,C),P=ix(l,"where",S,"in"===C||"not-in"===C);return qt.create(w,C,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Oy extends GT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const g of l)hx(u,g),u=ty(u,g)}(e._query,t),new Zi(e.firestore,e.converter,ty(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WT extends T0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WT(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Jh(s,u);return function(g,w){if(null===G_(g)){const C=Kp(g);null!==C&&fx(0,C,w.field)}}(r,l),l}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new vu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class JE extends T0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new JE(e,t,r)}_apply(e){return new Zi(e.firestore,e.converter,ny(e._query,this._limit,this._limitType))}}class XE extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new XE(e,t,r)}_apply(e){const t=cx(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(s=t,new vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class eD extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new eD(e,t,r)}_apply(e){const t=cx(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(s=t,new vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function cx(n,e,t,r){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof C0)return function(s,u,l,g,w){if(!g)throw new Te(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const S of id(s))if(S.field.isKeyField())C.push(ed(u,g.key));else{const P=g.data.field(S.field);if(zm(P))throw new Te(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const B=S.field.canonicalString();throw new Te(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}C.push(P)}return new td(C,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=wg(n.firestore);return function(u,l,g,w,C,S){const P=u.explicitOrderBy;if(C.length>P.length)throw new Te(ce.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let W=0;W<C.length;W++){const ue=C[W];if(P[W].field.isKeyField()){if("string"!=typeof ue)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ue}`);if(!ey(u)&&-1!==ue.indexOf("/"))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ue}' contains a slash.`);const xe=u.path.child(nn.fromString(ue));if(!Ke.isDocumentKey(xe))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${xe}' is not because it contains an odd number of segments.`);const ke=new Ke(xe);B.push(ed(l,ke))}else{const xe=ix(g,w,ue);B.push(xe)}}return new td(B,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function lx(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ey(e)&&-1!==t.indexOf("/"))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!Ke.isDocumentKey(r))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ed(n,new Ke(r))}if(t instanceof Jn)return ed(n,t._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zE(t)}.`)}function dx(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hx(n,e){if(e.isInequality()){const r=Kp(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=G_(n);null!==u&&fx(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function fx(n,e,t){if(!t.isEqual(e))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qT{convertValue(e,t="none"){switch(Pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mc(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new WE(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hp(e));default:return null}}convertTimestamp(e){const t=mu(e);return new On(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);mt(bE(r));const s=new yu(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return s.isEqual(t)||or(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Eg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _d extends C0{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(QE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class A0 extends _d{data(e={}){return super.data(e)}}class gf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Eg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new A0(this._firestore,this._userDataWriter,r.key,r,new Eg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Eg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Eg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,C=-1;return 0!==l.type&&(w=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:fP(l.type),doc:g,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function gx(n,e){return n instanceof _d&&e instanceof _d?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gf&&e instanceof gf&&n._firestore===e._firestore&&VT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class mf extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function mx(n,e,t){n=rn(n,Jn);const r=rn(n.firestore,Xn),s=tD(n.converter,e,t);return ky(r,[KE(wg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,$n.none())])}function yx(n,e,t,...r){n=rn(n,Jn);const s=rn(n.firestore,Xn),u=wg(s);let l;return l="string"==typeof(e=(0,on.m9)(e))||e instanceof vd?function HT(n,e,t,r,s,u){const l=n.ya(1,e,t),g=[b0(e,r,t)],w=[s];if(u.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<u.length;B+=2)g.push(b0(e,u[B])),w.push(u[B+1]);const C=[],S=Qr.empty();for(let B=g.length-1;B>=0;--B)if(!ax(C,g[B])){const W=g[B];let ue=w[B];ue=(0,on.m9)(ue);const xe=l.da(W);if(ue instanceof D0)C.push(W);else{const ke=Ig(ue,xe);null!=ke&&(C.push(W),S.set(W,ke))}}const P=new Mi(C);return new tx(S,P,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function $T(n,e,t,r){const s=n.ya(1,e,t);zT("Data must be an object, but it was:",s,r);const u=[],l=Qr.empty();Mc(r,(w,C)=>{const S=ZE(e,w,t);C=(0,on.m9)(C);const P=s.da(S);if(C instanceof D0)u.push(S);else{const B=Ig(C,P);null!=B&&(u.push(S),l.set(S,B))}});const g=new Mi(u);return new tx(l,g,s.fieldTransforms)}(u,"updateDoc",n._key,e),ky(s,[l.toMutation(n._key,$n.exists(!0))])}function vx(n,...e){var t,r,s;n=(0,on.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||BT(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(BT(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let w,C,S;if(n instanceof Jn)C=rn(n.firestore,Xn),S=Lc(n._key.path),w={next:P=>{e[l]&&e[l](KT(C,n,P))},error:e[l+1],complete:e[l+2]};else{const P=rn(n,Zi);C=rn(P.firestore,Xn),S=P._query;const B=new mf(C);w={next:W=>{e[l]&&e[l](new gf(C,B,P,W))},error:e[l+1],complete:e[l+2]},ux(n._query)}return function(P,B,W,ue){const xe=new BE(ue),ke=new rT(B,xe,W);return P.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return JC(yield Ny(P),ke)})),()=>{xe.Dc(),P.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return eT(yield Ny(P),ke)}))}}(Fr(C),S,g,w)}function ky(n,e){return function(t,r){const s=new kr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function aM(n,e,t){return uT.apply(this,arguments)}(yield function LT(n){return $E(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(Fr(n),e)}function KT(n,e,t){const r=t.docs.get(e._key),s=new mf(n);return new _d(n,s,e._key,r,new Eg(t.hasPendingWrites,t.fromCache),e.converter)}function Ix(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function Ex(){if(!function AI(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class x0{constructor(e){this._delegate=e}static fromBase64String(e){return Ex(),new x0(Gc.fromBase64String(e))}static fromUint8Array(e){return Ix(),new x0(Gc.fromUint8Array(e))}toBase64(){return Ex(),this._delegate.toBase64()}toUint8Array(){return Ix(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YT(n){return function jP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class nD extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new Gc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ba.forKey(t,this.firestore,null)}}class Dg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new A0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Dg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Dg(e,new nD(e),t),s.set(t,u)),u}}Dg.INSTANCES=new WeakMap;class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ba(t,new Jn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new ba(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ly(this.firestore,function YA(n,e,...t){if(n=(0,on.m9)(n),UT("collection","path",e),n instanceof I0){const r=nn.fromString(e,...t);return WA(r),new zc(n,null,r)}{if(!(n instanceof Jn||n instanceof zc))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return WA(r),new zc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw Ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof Jn&&QA(this._delegate,e)}set(e,t){t=function ZT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?mx(this._delegate,e,t):mx(this._delegate,e)}catch(r){throw Ps(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?yx(this._delegate,e):yx(this._delegate,e,t,...r)}catch(s){throw Ps(s,"updateDoc()","DocumentReference.update()")}}delete(){return function wP(n){return ky(rn(n.firestore,Xn),[new rg(n._key,$n.none())])}(this._delegate)}onSnapshot(...e){const t=Tx(e),r=Sx(e,s=>new R0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return vx(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function gP(n){n=rn(n,Jn);const e=rn(n.firestore,Xn),t=Fr(e),r=new mf(e);return function RM(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,u,l){try{const g=yield function(w,C){const S=Ye(w);return S.persistence.runTransaction("read document","readonly",P=>S.localDocuments.getDocument(P,C))}(s,u);g.isFoundDocument()?l.resolve(g):g.isNoDocument()?l.resolve(null):l.reject(new Te(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const w=Ay(g,`Failed to get document '${u} from cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield HE(n),e,t);var r})),t.promise}(t,n._key).then(s=>new _d(e,r,n._key,s,new Eg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function mP(n){n=rn(n,Jn);const e=rn(n.firestore,Xn);return BA(Fr(e),n._key,{source:"server"}).then(t=>KT(e,n,t))}(this._delegate):function pP(n){n=rn(n,Jn);const e=rn(n.firestore,Xn);return BA(Fr(e),n._key).then(t=>KT(e,n,t))}(this._delegate),t.then(r=>new R0(this.firestore,new _d(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?Dg.getInstance(this.firestore,e):null))}}function Ps(n,e,t){return n.message=n.message.replace(e,t),n}function Tx(n){for(const e of n)if("object"==typeof e&&!YT(e))return e;return{}}function Sx(n,e){var t,r;let s;return s=YT(n[0])?n[0]:YT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class R0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gx(this._delegate,e._delegate)}}class M0 extends R0{data(e){const t=this._delegate.data(e);return function uI(n,e){n||rt()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}where(e,t,r){try{return new Ns(this.firestore,pf(this._delegate,function rP(n,e,t){const r=e,s=QE("where",n);return S0._create(s,r,t)}(e,t,r)))}catch(s){throw Ps(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,pf(this._delegate,function iP(n,e="asc"){const t=e,r=QE("orderBy",n);return WT._create(r,t)}(e,t)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,pf(this._delegate,function sP(n){return qA("limit",n),JE._create("limit",n,"F")}(e)))}catch(t){throw Ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,pf(this._delegate,function oP(n){return qA("limitToLast",n),JE._create("limitToLast",n,"L")}(e)))}catch(t){throw Ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,pf(this._delegate,function aP(...n){return XE._create("startAt",n,!0)}(...e)))}catch(t){throw Ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,pf(this._delegate,function uP(...n){return XE._create("startAfter",n,!1)}(...e)))}catch(t){throw Ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,pf(this._delegate,function cP(...n){return eD._create("endBefore",n,!1)}(...e)))}catch(t){throw Ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,pf(this._delegate,function lP(...n){return eD._create("endAt",n,!0)}(...e)))}catch(t){throw Ps(t,"endAt()","Query.endAt()")}}isEqual(e){return VT(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function vP(n){n=rn(n,Zi);const e=rn(n.firestore,Xn),t=Fr(e),r=new mf(e);return function MM(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,u,l){try{const g=yield NE(s,u,!0),w=new AA(u,g.ir),C=w.sc(g.documents),S=w.applyChanges(C,!1);l.resolve(S.snapshot)}catch(g){const w=Ay(g,`Failed to execute query '${u} against cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield HE(n),e,t);var r})),t.promise}(t,n._query).then(s=>new gf(e,r,n,s))}(this._delegate):"server"===e?.source?function _P(n){n=rn(n,Zi);const e=rn(n.firestore,Xn),t=Fr(e),r=new mf(e);return jA(t,n._query,{source:"server"}).then(s=>new gf(e,r,n,s))}(this._delegate):function yP(n){n=rn(n,Zi);const e=rn(n.firestore,Xn),t=Fr(e),r=new mf(e);return ux(n._query),jA(t,n._query).then(s=>new gf(e,r,n,s))}(this._delegate),t.then(r=>new QT(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Tx(e),r=Sx(e,s=>new QT(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return vx(this._delegate,t,r)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?Dg.getInstance(this.firestore,e):null))}}class zP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new zP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new M0(this._firestore,r))})}isEqual(e){return gx(this._delegate,e._delegate)}}class Ly extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ba(this.firestore,e):null}doc(e){try{return new ba(this.firestore,void 0===e?GE(this._delegate):GE(this._delegate,e))}catch(t){throw Ps(t,"doc()","CollectionReference.doc()")}}add(e){return function IP(n,e){const t=rn(n.firestore,Xn),r=GE(n),s=tD(n.converter,e);return ky(t,[KE(wg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ba(this.firestore,t))}isEqual(e){return QA(this._delegate,e._delegate)}withConverter(e){return new Ly(this.firestore,this._delegate.withConverter(e?Dg.getInstance(this.firestore,e):null))}}var KP=k(6451),rD=k(5363),ZP=k(6063);class YP extends Ar.x{constructor(e=1/0,t=1/0,r=ZP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let w=1;w<r.length&&r[w]<=l;w+=2)g=w;g&&r.splice(0,g+1)}}}var QP=k(3099);function Ax(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,QP.B)({connector:()=>new YP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function xx(n,e){return(0,Xa.m)(e)?Kn(()=>n,e):Kn(()=>n)}var XT=k(9468);k(8140);const tS=new Map,Mx={activated:!1,tokenObservers:[]},nN={initialized:!1,enabled:!1};function Dr(n){return tS.get(n)||Object.assign({},Mx)}function sD(){return nN}const nS="https://content-firebaseappcheck.googleapis.com/v1",oN="exchangeDebugToken",Px={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class uN{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function cN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Yi=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rS(n){if(!Dr(n).activated)throw Yi.create("use-before-activation",{appName:n.name})}function uD(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const P=yield s.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(P){throw Yi.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==l.status)throw Yi.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(P){throw Yi.create("fetch-parse-error",{originalErrorMessage:P?.message})}const w=g.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(w[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+C,issuedAtTimeMillis:S}}),sS.apply(this,arguments)}function Nx(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${nS}/projects/${t}/apps/${r}:${oN}?key=${s}`,body:{debug_token:e}}}const fN="firebase-app-check-database",pN=1,P0="firebase-app-check-store";let cD=null;function oS(){return oS=(0,_e.Z)(function*(n,e){const r=(yield function kx(){return cD||(cD=new Promise((n,e)=>{try{const t=indexedDB.open(fN,pN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Yi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(P0,{keyPath:"compositeKey"})}}catch(t){e(Yi.create("storage-open",{originalErrorMessage:t?.message}))}}),cD)}()).transaction(P0,"readwrite"),u=r.objectStore(P0).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=w=>{l()},r.onerror=w=>{var C;g(Yi.create("storage-set",{originalErrorMessage:null===(C=w.target.error)||void 0===C?void 0:C.message}))}})}),oS.apply(this,arguments)}const N0=new _c.Yd("@firebase/app-check");function cS(n,e){return(0,on.hl)()?function mN(n,e){return function Lx(n,e){return oS.apply(this,arguments)}(function Ux(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{N0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dS(){return sD().enabled}function hS(){return fS.apply(this,arguments)}function fS(){return fS=(0,_e.Z)(function*(){const n=sD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),fS.apply(this,arguments)}const EN={error:"UNKNOWN_ERROR"};function DN(n){return on.US.encodeString(JSON.stringify(n),!1)}function lD(n){return pS.apply(this,arguments)}function pS(){return pS=(0,_e.Z)(function*(n,e=!1){const t=n.app;rS(t);const r=Dr(t);let u,s=r.token;if(s&&!Fy(s)&&(r.token=void 0,s=void 0),!s){const w=yield r.cachedTokenPromise;w&&(Fy(w)?s=w:yield cS(t,void 0))}if(!e&&s&&Fy(s))return{token:s.token};let g,l=!1;if(dS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uD(Nx(t,yield hS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const w=yield r.exchangeTokenPromise;return yield cS(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Dr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?N0.warn(w.message):N0.error(w),u=w}return s?u?g=Fy(s)?{token:s.token,internalError:u}:$x(u):(g={token:s.token},r.token=s,yield cS(t,s)):g=$x(u),l&&function jx(n,e){const t=Dr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),pS.apply(this,arguments)}function gS(){return gS=(0,_e.Z)(function*(n){const e=n.app;rS(e);const{provider:t}=Dr(e);if(dS()){const r=yield hS(),{token:s}=yield uD(Nx(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),gS.apply(this,arguments)}function yS(n,e){const t=Dr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Bx(n){const{app:e}=n,t=Dr(e);let r=t.tokenRefresher;r||(r=function bN(n){const{app:e}=n;return new uN((0,_e.Z)(function*(){let r;if(r=Dr(e).token?yield lD(n,!0):yield lD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Dr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Px.RETRIAL_MIN_WAIT,Px.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Fy(n){return n.expireTimeMillis-Date.now()>0}function $x(n){return{token:DN(EN),error:n}}class CN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Dr(this.app);for(const t of e)yS(this.app,t.next);return Promise.resolve()}}const Yx="app-check-internal";!function VN(){(0,Vl._registerComponent)(new pp.wA("app-check",n=>function TN(n,e){return new CN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Yx).initialize()})),(0,Vl._registerComponent)(new pp.wA(Yx,n=>function SN(n){return{getToken:e=>lD(n,e),getLimitedUseToken:()=>function Vx(n){return gS.apply(this,arguments)}(n),addTokenListener:e=>function mS(n,e,t,r){const{app:s}=n,u=Dr(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Fy(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),Bx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Bx(n))}(n,"INTERNAL",e),removeTokenListener:e=>yS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vl.registerVersion)("@firebase/app-check","0.8.0")}();class IS{constructor(){return(0,Nr.vb)("app-check")}}typeof window<"u"&&window,k(1274);const Jx=new v.OlP("angularfire2.auth.use-emulator"),Xx=new v.OlP("angularfire2.auth.settings"),eR=new v.OlP("angularfire2.auth.tenant-id"),tR=new v.OlP("angularfire2.auth.langugage-code"),nR=new v.OlP("angularfire2.auth.use-device-language"),rR=new v.OlP("angularfire.auth.persistence"),iR=(n,e,t,r,s,u,l,g)=>(0,bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),l)for(const[C,S]of Object.entries(l))w.settings[C]=S;return g&&w.setPersistence(g),w},[t,r,s,u,l,g]);let sR=(()=>{class n{constructor(t,r,s,u,l,g,w,C,S,P,B,W){const ue=new Ar.x,xe=ot(void 0).pipe((0,rD.Q)(l.outsideAngular),Kn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8463)))),(0,_t.U)(()=>(0,bs.on)(t,u,r)),(0,_t.U)(ke=>iR(ke,u,g,C,S,P,w,B)),Ax({bufferSize:1,refCount:!1}));if(fs(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{xe.pipe($i()).subscribe();const it=xe.pipe(Kn(Pt=>Pt.getRedirectResult().then(Gt=>Gt,()=>null)),Nr.iC,Ax({bufferSize:1,refCount:!1})),Et=xe.pipe(Kn(Pt=>new Ii.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Pt.onAuthStateChanged(un=>Gt.next(un),un=>Gt.error(un),()=>Gt.complete()))})))),wt=xe.pipe(Kn(Pt=>new Ii.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Pt.onIdTokenChanged(un=>Gt.next(un),un=>Gt.error(un),()=>Gt.complete()))}))));this.authState=it.pipe(xx(Et),(0,XT.R)(l.outsideAngular),(0,rD.Q)(l.insideAngular)),this.user=it.pipe(xx(wt),(0,XT.R)(l.outsideAngular),(0,rD.Q)(l.insideAngular)),this.idToken=this.user.pipe(Kn(Pt=>Pt?(0,ln.D)(Pt.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(Kn(Pt=>Pt?(0,ln.D)(Pt.getIdTokenResult()):ot(null))),this.credential=(0,KP.T)(it,ue,this.authState.pipe(Wr(Pt=>!Pt))).pipe((0,_t.U)(Pt=>Pt?.user?Pt:null),(0,XT.R)(l.outsideAngular),(0,rD.Q)(l.insideAngular))}return(0,bs.pX)(this,xe,u,{spy:{apply:(ke,it,Et)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&Et.then(wt=>ue.next(wt))}}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(bs.Dh),v.LFG(bs.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Nr.HU),v.LFG(Jx,8),v.LFG(Xx,8),v.LFG(eR,8),v.LFG(tR,8),v.LFG(nR,8),v.LFG(rR,8),v.LFG(IS,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function oR(n,e){return function GN(n,e=Rv.z){return new Ii.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function DS(n,e){return oR(n,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function hD(n,e){return DS(n,e).pipe(xo(void 0),im(),(0,_t.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const w=s.find(S=>S.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(l.metadata)||!w&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),u}))}function aR(n,e,t){return hD(n,t).pipe(sc((r,s)=>function qN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function KN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return bS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return bS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function Mv(n,e=zs.y){return n=n??Pv,(0,Rr.e)((t,r)=>{let s,u=!0;t.subscribe((0,xr.x)(r,l=>{const g=e(l);(u||!n(s,g))&&(u=!1,s=g,r.next(l))}))})}(),(0,_t.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function bS(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function uR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=hD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_t.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(xo(void 0),im(),Wr(([r,s])=>s.length>0||!r),(0,_t.U)(([r,s])=>s),Nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(sc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uR(e);return aR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}valueChanges(e={}){return DS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Nr.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Nr.iC)}add(e){return this.ref.add(e)}doc(e){return new lR(this.ref.doc(e),this.afs)}}class lR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=dR(r,t);return new cR(s,u,this.afs)}snapshotChanges(){return function WN(n,e){return oR(n,e).pipe(xo(void 0),im(),(0,_t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ln.D)(this.ref.get(e)).pipe(Nr.iC)}}class ZN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?hD(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Wr(t=>t.length>0),Nr.iC):hD(this.query,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(sc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uR(e);return aR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}valueChanges(e={}){return DS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Nr.iC)}get(e){return(0,ln.D)(this.query.get(e)).pipe(Nr.iC)}}const YN=new v.OlP("angularfire2.enableFirestorePersistence"),QN=new v.OlP("angularfire2.firestore.persistenceSettings"),JN=new v.OlP("angularfire2.firestore.settings"),XN=new v.OlP("angularfire2.firestore.use-emulator");function dR(n,e=(t=>t)){return{query:e(n),ref:n}}let eO=(()=>{class n{constructor(t,r,s,u,l,g,w,C,S,P,B,W,ue,xe,ke,it,Et){this.schedulers=w;const wt=(0,bs.on)(t,g,r),Pt=S;P&&iR(wt,g,B,ue,xe,ke,W,it),[this.firestore,this.persistenceEnabled$]=(0,bs.cc)(`${wt.name}.firestore`,"AngularFirestore",wt.name,()=>{const Gt=g.runOutsideAngular(()=>wt.firestore());if(u&&Gt.settings(u),Pt&&Gt.useEmulator(...Pt),s&&!fs(l)){const un=()=>{try{return(0,ln.D)(Gt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(cs){return typeof console<"u"&&console.warn(cs),ot(!1)}};return[Gt,g.runOutsideAngular(un)]}return[Gt,ot(!1)]},[u,Pt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=dR(s,r),g=this.schedulers.ngZone.run(()=>u);return new cR(g,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new ZN(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new lR(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(bs.Dh),v.LFG(bs.xv,8),v.LFG(YN,8),v.LFG(JN,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Nr.HU),v.LFG(QN,8),v.LFG(XN,8),v.LFG(sR,8),v.LFG(Jx,8),v.LFG(Xx,8),v.LFG(eR,8),v.LFG(tR,8),v.LFG(nR,8),v.LFG(rR,8),v.LFG(IS,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tO=(()=>{var n;class e{constructor(r){this.firestore=r,this.room=this.getDataChange("room"),this.game=this.getDataChange("game"),this.roles=this.getDataChange("roles")}getDataChange(r){return this.firestore.collection(r).snapshotChanges().pipe((0,_t.U)(s=>s.map(u=>{const l=u.payload.doc.data();return{id:u.payload.doc.id,...l}})))}addData(r,s){this.firestore.collection(r).add(s)}addNewData(r,s,u){this.firestore.doc(r+`/${s}`).set(u)}deleteAllData(r){this.firestore.doc(r).delete()}deleteData(r,s){this.firestore.doc(r+`/${s}`).delete()}getAllData(r){return new Promise(s=>{this.firestore.collection(r).valueChanges({idField:"id"}).subscribe(u=>s(u))})}updateData(r,s,u){this.firestore.doc(r+`/${s}`).update(u)}getRoom(){return this.room}getGame(){return this.game}getRoles(){return this.roles}}return(n=e).\u0275fac=function(r){return new(r||n)(v.LFG(eO))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class fD{}class CS{}class wd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let s;if(s="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),s.length>0){const u=t.toLowerCase();this.headers.set(u,s),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===u.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class nO{encodeKey(e){return hR(e)}encodeValue(e){return hR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const iO=/%(\d[a-f0-9])/gi,sO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hR(n){return encodeURIComponent(n).replace(iO,(e,t)=>sO[t]??e)}function pD(n){return`${n}`}class vf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new nO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rO(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,g]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],w=t.get(l)||[];w.push(g),t.set(l,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(pD):[pD(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(pD(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class oO{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pR(n){return typeof Blob<"u"&&n instanceof Blob}function gR(n){return typeof FormData<"u"&&n instanceof FormData}class O0{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function aO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new wd),this.context||(this.context=new oO),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new vf,this.urlWithParams=t}serializeBody(){return null===this.body?null:fR(this.body)||pR(this.body)||gR(this.body)||function uO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gR(this.body)?null:pR(this.body)?this.body.type||null:fR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,C=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((P,B)=>P.set(B,e.setHeaders[B]),w)),e.setParams&&(C=Object.keys(e.setParams).reduce((P,B)=>P.set(B,e.setParams[B]),C)),new O0(t,r,u,{params:C,headers:w,context:S,reportProgress:g,responseType:s,withCredentials:l})}}var Jr=(()=>((Jr=Jr||{})[Jr.Sent=0]="Sent",Jr[Jr.UploadProgress=1]="UploadProgress",Jr[Jr.ResponseHeader=2]="ResponseHeader",Jr[Jr.DownloadProgress=3]="DownloadProgress",Jr[Jr.Response=4]="Response",Jr[Jr.User=5]="User",Jr))();class TS{constructor(e,t=200,r="OK"){this.headers=e.headers||new wd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class SS extends TS{constructor(e={}){super(e),this.type=Jr.ResponseHeader}clone(e={}){return new SS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gD extends TS{constructor(e={}){super(e),this.type=Jr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mR extends TS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function AS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yR=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof O0)u=t;else{let w,C;w=s.headers instanceof wd?s.headers:new wd(s.headers),s.params&&(C=s.params instanceof vf?s.params:new vf({fromObject:s.params})),u=new O0(t,r,void 0!==s.body?s.body:null,{headers:w,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=ot(u).pipe(is(w=>this.handler.handle(w)));if(t instanceof O0||"events"===s.observe)return l;const g=l.pipe(Wr(w=>w instanceof gD));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,_t.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return g.pipe((0,_t.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return g.pipe((0,_t.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return g.pipe((0,_t.U)(w=>w.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new vf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,AS(s,r))}post(t,r,s={}){return this.request("POST",t,AS(s,r))}put(t,r,s={}){return this.request("PUT",t,AS(s,r))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(fD))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function vR(n,e){return e(n)}function cO(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const dO=new v.OlP("HTTP_INTERCEPTORS"),k0=new v.OlP("HTTP_INTERCEPTOR_FNS");function hO(){let n=null;return(e,t)=>(null===n&&(n=((0,v.f3M)(dO,{optional:!0})??[]).reduceRight(cO,vR)),n(e,t))}let _R=(()=>{class n extends fD{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(k0)));this.chain=r.reduceRight((s,u)=>function lO(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(s,u,this.injector),vR)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(CS),v.LFG(v.lqb))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const mO=/^\)\]\}',?\n/;let IR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ii.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((W,ue)=>s.setRequestHeader(W,ue.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const W=t.detectContentTypeHeader();null!==W&&s.setRequestHeader("Content-Type",W)}if(t.responseType){const W=t.responseType.toLowerCase();s.responseType="json"!==W?W:"text"}const u=t.serializeBody();let l=null;const g=()=>{if(null!==l)return l;const W=s.statusText||"OK",ue=new wd(s.getAllResponseHeaders()),xe=function yO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new SS({headers:ue,status:s.status,statusText:W,url:xe}),l},w=()=>{let{headers:W,status:ue,statusText:xe,url:ke}=g(),it=null;204!==ue&&(it=typeof s.response>"u"?s.responseText:s.response),0===ue&&(ue=it?200:0);let Et=ue>=200&&ue<300;if("json"===t.responseType&&"string"==typeof it){const wt=it;it=it.replace(mO,"");try{it=""!==it?JSON.parse(it):null}catch(Pt){it=wt,Et&&(Et=!1,it={error:Pt,text:it})}}Et?(r.next(new gD({body:it,headers:W,status:ue,statusText:xe,url:ke||void 0})),r.complete()):r.error(new mR({error:it,headers:W,status:ue,statusText:xe,url:ke||void 0}))},C=W=>{const{url:ue}=g(),xe=new mR({error:W,status:s.status||0,statusText:s.statusText||"Unknown Error",url:ue||void 0});r.error(xe)};let S=!1;const P=W=>{S||(r.next(g()),S=!0);let ue={type:Jr.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(ue.total=W.total),"text"===t.responseType&&s.responseText&&(ue.partialText=s.responseText),r.next(ue)},B=W=>{let ue={type:Jr.UploadProgress,loaded:W.loaded};W.lengthComputable&&(ue.total=W.total),r.next(ue)};return s.addEventListener("load",w),s.addEventListener("error",C),s.addEventListener("timeout",C),s.addEventListener("abort",C),t.reportProgress&&(s.addEventListener("progress",P),null!==u&&s.upload&&s.upload.addEventListener("progress",B)),s.send(u),r.next({type:Jr.Sent}),()=>{s.removeEventListener("error",C),s.removeEventListener("abort",C),s.removeEventListener("load",w),s.removeEventListener("timeout",C),t.reportProgress&&(s.removeEventListener("progress",P),null!==u&&s.upload&&s.upload.removeEventListener("progress",B)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Pa))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const xS=new v.OlP("XSRF_ENABLED"),ER=new v.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),DR=new v.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bR{}let wO=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=no(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(re),v.LFG(v.Lbi),v.LFG(ER))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function IO(n,e){const t=n.url.toLowerCase();if(!(0,v.f3M)(xS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,v.f3M)(bR).getToken(),s=(0,v.f3M)(DR);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var Ur=(()=>((Ur=Ur||{})[Ur.Interceptors=0]="Interceptors",Ur[Ur.LegacyInterceptors=1]="LegacyInterceptors",Ur[Ur.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ur[Ur.NoXsrfProtection=3]="NoXsrfProtection",Ur[Ur.JsonpSupport=4]="JsonpSupport",Ur[Ur.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ur))();function Uy(n,e){return{\u0275kind:n,\u0275providers:e}}function EO(...n){const e=[yR,IR,_R,{provide:fD,useExisting:_R},{provide:CS,useExisting:IR},{provide:k0,useValue:IO,multi:!0},{provide:xS,useValue:!0},{provide:bR,useClass:wO}];for(const t of n)e.push(...t.\u0275providers);return(0,v.MR2)(e)}const CR=new v.OlP("LEGACY_INTERCEPTOR_FN");let bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[EO(Uy(Ur.LegacyInterceptors,[{provide:CR,useFactory:hO},{provide:k0,useExisting:CR,multi:!0}]))]}),n})();function CO(n,e){if(1&n&&(v.TgZ(0,"strong",6),v._uU(1),v.qZA()),2&n){const t=v.oxw();v.xp6(1),v.Oqu(t.alert)}}function TO(n,e){if(1&n&&(v.TgZ(0,"h2"),v._uU(1),v.qZA()),2&n){const t=v.oxw();v.xp6(1),v.AsE("",t.went+1,"/",t.inRoom.length,"")}}const SO=function(n){return{"background-color":n}};function AO(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",7),v.NdJ("click",function(){v.CHM(t);const s=v.oxw();return v.KtG(s.ready())}),v._uU(1),v.qZA()}if(2&n){const t=v.oxw();v.Q6J("ngStyle",v.VKq(2,SO,t.button.color)),v.xp6(1),v.hij(" ",t.button.title," ")}}function xO(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"span",8),v.NdJ("click",function(){v.CHM(t);const s=v.oxw();return v.KtG(s.startGame())}),v._uU(1,"Ti\xea\u0301p tu\u0323c"),v.qZA()}}let RO=(()=>{var n;class e{constructor(r,s){this.crud=r,this.http=s,this.title="spy",this.id="",this.button={title:"S\u0102\u0303N S\u0102\u0300NG",color:"rgb(54, 162, 235)"},this.leader=!1,this.inRoom=[],this.ip="",this.me={},this.went=0,this.roles=[],this.alert="",this.unsub=[]}ngOnInit(){this.getIPAddress(),this.getRoom()}getRoles(){this.unsub[1]=this.crud.getRoles().subscribe(r=>{this.roles=r})}getIPAddress(){this.http.get("http://api.ipify.org/?format=json").subscribe(r=>{this.ip=r.ip})}getRoom(){this.unsub[0]=this.crud.getRoom().subscribe(r=>{let s=!1,u=-1;this.went=0;for(let g of r)g.id==this.ip&&(s=!0,this.me=g),g.status&&!g.leader&&this.went++;console.log(s),s||(this.crud.addNewData("room",this.ip,{leader:!1,status:!1,role:""}),this.getRoom());let l=!1;for(let g of r)if(1==g.leader){l=!0;break}r.length>0&&(l||(u=this.randomLeader(r),this.crud.updateData("room",r[0].id,{leader:!0})),this.me.leader?(this.leader=!0,console.log("s",this.me.status),this.me.status?(this.button.title="K\xca\u0301T THU\u0301C",this.button.color="rgb(255, 99, 132)"):(this.button.title="B\u0102\u0301T \u0110\xc2\u0300U",this.button.color="rgb(54, 162, 235)")):(this.leader=!1,this.me.status?(this.button.title="HU\u0309Y",this.button.color="rgb(255, 99, 132)"):(this.button.title="S\u0102\u0303N SA\u0300NG",this.button.color="rgb(54, 162, 235)"))),this.me.leader&&this.getRoles(),this.inRoom=r})}ngOnDestroy(){for(let r of this.unsub)r.unsubscribe();this.crud.deleteData("room",this.id)}getRandomInt(r,s){return r=Math.ceil(r),s=Math.floor(s),Math.floor(Math.random()*(s-r)+r)}randomLeader(r){return this.getRandomInt(0,r.length)}ready(){this.me.leader?this.me.status?(this.button.title="B\u0102\u0301T \u0110\xc2\u0300U",this.button.color="rgb(54, 162, 235)",this.cancel()):(this.button.title="K\xca\u0301T THU\u0301C",this.button.color="rgb(255, 99, 132)",this.startGame(),this.crud.updateData("room",this.ip,{status:!0})):this.me.status?(this.button.title="S\u0102\u0303N SA\u0300NG",this.button.color="rgb(54, 162, 235)",this.crud.updateData("room",this.ip,{status:!1})):(this.button.title="HU\u0309Y",this.button.color="rgb(255, 99, 132)",this.crud.updateData("room",this.ip,{status:!0}))}cancel(){for(let r of this.inRoom)r.id!=this.ip?this.crud.deleteData("room",r.id):this.crud.updateData("room",r.id,{status:!1,role:""})}resetGame(){for(let r of this.inRoom)this.crud.updateData("room",r.id,{status:!1,role:""})}startGame(){let r=!0;for(let s of this.inRoom)if(0==s.status){r=!1;break}if(r=!0,r){let s=this.getRandomInt(0,this.roles.length),u=this.roles[s],l=this.getRandomInt(0,this.inRoom.length),g=this.inRoom[l].id;for(let w of this.inRoom)this.crud.updateData("room",w.id,w.id!=g?{role:u.role}:{role:u.spy+" (GIA\u0301N \u0110I\xca\u0323P)"})}else this.createAlert("Co\u0301 ng\u01b0\u01a1\u0300i ch\u01b0a s\u0103\u0303n sa\u0300ng")}createAlert(r){this.alert=r,setTimeout(()=>{this.alert=""},3e3)}}return(n=e).\u0275fac=function(r){return new(r||n)(v.Y36(tO),v.Y36(yR))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:5,consts:[[1,"main"],["style","color: rgb(255, 99, 132);",4,"ngIf"],[4,"ngIf"],[1,"role"],["class","button",3,"ngStyle","click",4,"ngIf"],[3,"click",4,"ngIf"],[2,"color","rgb(255, 99, 132)"],[1,"button",3,"ngStyle","click"],[3,"click"]],template:function(r,s){1&r&&(v.TgZ(0,"div",0),v.YNc(1,CO,2,1,"strong",1),v.YNc(2,TO,2,2,"h2",2),v.TgZ(3,"h1",3),v._uU(4),v.qZA(),v.YNc(5,AO,2,4,"div",4),v.YNc(6,xO,2,0,"span",5),v.qZA()),2&r&&(v.xp6(1),v.Q6J("ngIf",""!=s.alert),v.xp6(1),v.Q6J("ngIf",""!=s.me.role||1==s.me.leader),v.xp6(2),v.Oqu(s.me.role),v.xp6(1),v.Q6J("ngIf",""!=s.me.role||1==s.me.leader),v.xp6(1),v.Q6J("ngIf",1==s.me.leader&&1==s.me.status))},dependencies:[Ls,Fs],styles:[".main[_ngcontent-%COMP%]{padding-top:100px;display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}.main[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:100px}.main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:20px 40px;background-color:#36a2eb;font-weight:600;cursor:pointer;margin-bottom:20px}"]}),e})();const MO_firebase={apiKey:"AIzaSyD0MVQqtj7_aLD0ikx6madgMd7_pThjx6k",authDomain:"spyy-78ecc.firebaseapp.com",projectId:"spyy-78ecc",storageBucket:"spyy-78ecc.appspot.com",messagingSenderId:"163846304138",appId:"1:163846304138:web:614c449ebf53fbb9919873",measurementId:"G-NC8YRLKLPX"};let PO=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=v.oAB({type:n,bootstrap:[RO]}),n.\u0275inj=v.cJS({imports:[ia,fp,bO,bs.hO.initializeApp(MO_firebase)]}),e})();ul().bootstrapModule(PO).catch(n=>console.error(n))},9751:(vt,Se,k)=>{k.d(Se,{y:()=>we});var v=k(2961),Q=k(727),O=k(8822),ie=k(9635),se=k(2416),re=k(576),me=k(2806);let we=(()=>{class q{constructor(be){be&&(this._subscribe=be)}lift(be){const We=new q;return We.source=this,We.operator=be,We}subscribe(be,We,ct){const pe=function j(q){return q&&q instanceof v.Lv||function $(q){return q&&(0,re.m)(q.next)&&(0,re.m)(q.error)&&(0,re.m)(q.complete)}(q)&&(0,Q.Nn)(q)}(be)?be:new v.Hp(be,We,ct);return(0,me.x)(()=>{const{operator:Me,source:Pe}=this;pe.add(Me?Me.call(pe,Pe):Pe?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(be){try{return this._subscribe(be)}catch(We){be.error(We)}}forEach(be,We){return new(We=fe(We))((ct,pe)=>{const Me=new v.Hp({next:Pe=>{try{be(Pe)}catch(Be){pe(Be),Me.unsubscribe()}},error:pe,complete:ct});this.subscribe(Me)})}_subscribe(be){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(be)}[O.L](){return this}pipe(...be){return(0,ie.U)(be)(this)}toPromise(be){return new(be=fe(be))((We,ct)=>{let pe;this.subscribe(Me=>pe=Me,Me=>ct(Me),()=>We(pe))})}}return q.create=je=>new q(je),q})();function fe(q){var je;return null!==(je=q??se.v.Promise)&&void 0!==je?je:Promise}},7579:(vt,Se,k)=>{k.d(Se,{x:()=>me});var v=k(9751),Q=k(727);const ie=(0,k(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(8737),re=k(2806);let me=(()=>{class fe extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new we(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new ie}next(j){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:je,observers:be}=this;return q||je?Q.Lc:(this.currentObservers=null,be.push(j),new Q.w0(()=>{this.currentObservers=null,(0,se.P)(be,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:je,isStopped:be}=this;q?j.error(je):be&&j.complete()}asObservable(){const j=new v.y;return j.source=this,j}}return fe.create=($,j)=>new we($,j),fe})();class we extends me{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,$)}error($){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==q?q:Q.Lc}}},2961:(vt,Se,k)=>{k.d(Se,{Hp:()=>ct,Lv:()=>q});var v=k(576),Q=k(727),O=k(2416),ie=k(7849);function se(){}const re=fe("C",void 0,void 0);function fe(Ne,Ie,Ee){return{kind:Ne,value:Ie,error:Ee}}var $=k(3410),j=k(2806);class q extends Q.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,Q.Nn)(Ie)&&Ie.add(this)):this.destination=Be}static create(Ie,Ee,ze){return new ct(Ie,Ee,ze)}next(Ie){this.isStopped?Pe(function we(Ne){return fe("N",Ne,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Pe(function me(Ne){return fe("E",void 0,Ne)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Pe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function be(Ne,Ie){return je.call(Ne,Ie)}class We{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ie)}catch(ze){pe(ze)}}error(Ie){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ie)}catch(ze){pe(ze)}else pe(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ee){pe(Ee)}}}class ct extends q{constructor(Ie,Ee,ze){let Le;if(super(),(0,v.m)(Ie)||!Ie)Le={next:Ie??void 0,error:Ee??void 0,complete:ze??void 0};else{let tt;this&&O.v.useDeprecatedNextContext?(tt=Object.create(Ie),tt.unsubscribe=()=>this.unsubscribe(),Le={next:Ie.next&&be(Ie.next,tt),error:Ie.error&&be(Ie.error,tt),complete:Ie.complete&&be(Ie.complete,tt)}):Le=Ie}this.destination=new We(Le)}}function pe(Ne){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ne):(0,ie.h)(Ne)}function Pe(Ne,Ie){const{onStoppedNotification:Ee}=O.v;Ee&&$.z.setTimeout(()=>Ee(Ne,Ie))}const Be={closed:!0,next:se,error:function Me(Ne){throw Ne},complete:se}},727:(vt,Se,k)=>{k.d(Se,{Lc:()=>re,w0:()=>se,Nn:()=>me});var v=k(576);const O=(0,k(3888).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,je)=>`${je+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ie=k(8737);class se{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const be of j)be.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,v.m)(q))try{q()}catch(be){$=be instanceof O?be.errors:[be]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const be of je)try{we(be)}catch(We){$=$??[],We instanceof O?$=[...$,...We.errors]:$.push(We)}}if($)throw new O($)}}add($){var j;if($&&$!==this)if(this.closed)we($);else{if($ instanceof se){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,ie.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,ie.P)(j,$),$ instanceof se&&$._removeParent(this)}}se.EMPTY=(()=>{const fe=new se;return fe.closed=!0,fe})();const re=se.EMPTY;function me(fe){return fe instanceof se||fe&&"closed"in fe&&(0,v.m)(fe.remove)&&(0,v.m)(fe.add)&&(0,v.m)(fe.unsubscribe)}function we(fe){(0,v.m)(fe)?fe():fe.unsubscribe()}},2416:(vt,Se,k)=>{k.d(Se,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,k)=>{k.d(Se,{E:()=>Q});const Q=new(k(9751).y)(se=>se.complete())},8996:(vt,Se,k)=>{k.d(Se,{D:()=>Ie});var v=k(8421),Q=k(5363),O=k(9468),re=k(9751),we=k(2202),fe=k(576),$=k(9672);function q(Ee,ze){if(!Ee)throw new Error("Iterable cannot be null");return new re.y(Le=>{(0,$.f)(Le,ze,()=>{const tt=Ee[Symbol.asyncIterator]();(0,$.f)(Le,ze,()=>{tt.next().then(ne=>{ne.done?Le.complete():Le.next(ne.value)})},0,!0)})})}var je=k(3670),be=k(8239),We=k(1144),ct=k(6495),pe=k(2206),Me=k(4532),Pe=k(3260);function Ie(Ee,ze){return ze?function Ne(Ee,ze){if(null!=Ee){if((0,je.c)(Ee))return function ie(Ee,ze){return(0,v.Xf)(Ee).pipe((0,O.R)(ze),(0,Q.Q)(ze))}(Ee,ze);if((0,We.z)(Ee))return function me(Ee,ze){return new re.y(Le=>{let tt=0;return ze.schedule(function(){tt===Ee.length?Le.complete():(Le.next(Ee[tt++]),Le.closed||this.schedule())})})}(Ee,ze);if((0,be.t)(Ee))return function se(Ee,ze){return(0,v.Xf)(Ee).pipe((0,O.R)(ze),(0,Q.Q)(ze))}(Ee,ze);if((0,pe.D)(Ee))return q(Ee,ze);if((0,ct.T)(Ee))return function j(Ee,ze){return new re.y(Le=>{let tt;return(0,$.f)(Le,ze,()=>{tt=Ee[we.h](),(0,$.f)(Le,ze,()=>{let ne,bt;try{({value:ne,done:bt}=tt.next())}catch(Je){return void Le.error(Je)}bt?Le.complete():Le.next(ne)},0,!0)}),()=>(0,fe.m)(tt?.return)&&tt.return()})}(Ee,ze);if((0,Pe.L)(Ee))return function Be(Ee,ze){return q((0,Pe.Q)(Ee),ze)}(Ee,ze)}throw(0,Me.z)(Ee)}(Ee,ze):(0,v.Xf)(Ee)}},8421:(vt,Se,k)=>{k.d(Se,{Xf:()=>je});var v=k(7582),Q=k(1144),O=k(8239),ie=k(9751),se=k(3670),re=k(2206),me=k(4532),we=k(6495),fe=k(3260),$=k(576),j=k(7849),q=k(8822);function je(Ne){if(Ne instanceof ie.y)return Ne;if(null!=Ne){if((0,se.c)(Ne))return function be(Ne){return new ie.y(Ie=>{const Ee=Ne[q.L]();if((0,$.m)(Ee.subscribe))return Ee.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,Q.z)(Ne))return function We(Ne){return new ie.y(Ie=>{for(let Ee=0;Ee<Ne.length&&!Ie.closed;Ee++)Ie.next(Ne[Ee]);Ie.complete()})}(Ne);if((0,O.t)(Ne))return function ct(Ne){return new ie.y(Ie=>{Ne.then(Ee=>{Ie.closed||(Ie.next(Ee),Ie.complete())},Ee=>Ie.error(Ee)).then(null,j.h)})}(Ne);if((0,re.D)(Ne))return Me(Ne);if((0,we.T)(Ne))return function pe(Ne){return new ie.y(Ie=>{for(const Ee of Ne)if(Ie.next(Ee),Ie.closed)return;Ie.complete()})}(Ne);if((0,fe.L)(Ne))return function Pe(Ne){return Me((0,fe.Q)(Ne))}(Ne)}throw(0,me.z)(Ne)}function Me(Ne){return new ie.y(Ie=>{(function Be(Ne,Ie){var Ee,ze,Le,tt;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,v.KL)(Ne);!(ze=yield Ee.next()).done;)if(Ie.next(ze.value),Ie.closed)return}catch(ne){Le={error:ne}}finally{try{ze&&!ze.done&&(tt=Ee.return)&&(yield tt.call(Ee))}finally{if(Le)throw Le.error}}Ie.complete()})})(Ne,Ie).catch(Ee=>Ie.error(Ee))})}},6451:(vt,Se,k)=>{k.d(Se,{T:()=>re});var v=k(8189),Q=k(8421),O=k(515),ie=k(7669),se=k(8996);function re(...me){const we=(0,ie.yG)(me),fe=(0,ie._6)(me,1/0),$=me;return $.length?1===$.length?(0,Q.Xf)($[0]):(0,v.J)(fe)((0,se.D)($,we)):O.E}},5403:(vt,Se,k)=>{k.d(Se,{x:()=>Q});var v=k(2961);function Q(ie,se,re,me,we){return new O(ie,se,re,me,we)}class O extends v.Lv{constructor(se,re,me,we,fe,$){super(se),this.onFinalize=fe,this.shouldUnsubscribe=$,this._next=re?function(j){try{re(j)}catch(q){se.error(q)}}:super._next,this._error=we?function(j){try{we(j)}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(j){se.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(vt,Se,k)=>{k.d(Se,{U:()=>O});var v=k(4482),Q=k(5403);function O(ie,se){return(0,v.e)((re,me)=>{let we=0;re.subscribe((0,Q.x)(me,fe=>{me.next(ie.call(se,fe,we++))}))})}},8189:(vt,Se,k)=>{k.d(Se,{J:()=>O});var v=k(5577),Q=k(4671);function O(ie=1/0){return(0,v.z)(Q.y,ie)}},5577:(vt,Se,k)=>{k.d(Se,{z:()=>we});var v=k(4004),Q=k(8421),O=k(4482),ie=k(9672),se=k(5403),me=k(576);function we(fe,$,j=1/0){return(0,me.m)($)?we((q,je)=>(0,v.U)((be,We)=>$(q,be,je,We))((0,Q.Xf)(fe(q,je))),j):("number"==typeof $&&(j=$),(0,O.e)((q,je)=>function re(fe,$,j,q,je,be,We,ct){const pe=[];let Me=0,Pe=0,Be=!1;const Ne=()=>{Be&&!pe.length&&!Me&&$.complete()},Ie=ze=>Me<q?Ee(ze):pe.push(ze),Ee=ze=>{be&&$.next(ze),Me++;let Le=!1;(0,Q.Xf)(j(ze,Pe++)).subscribe((0,se.x)($,tt=>{je?.(tt),be?Ie(tt):$.next(tt)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Me--;pe.length&&Me<q;){const tt=pe.shift();We?(0,ie.f)($,We,()=>Ee(tt)):Ee(tt)}Ne()}catch(tt){$.error(tt)}}))};return fe.subscribe((0,se.x)($,Ie,()=>{Be=!0,Ne()})),()=>{ct?.()}}(q,je,fe,j)))}},5363:(vt,Se,k)=>{k.d(Se,{Q:()=>ie});var v=k(9672),Q=k(4482),O=k(5403);function ie(se,re=0){return(0,Q.e)((me,we)=>{me.subscribe((0,O.x)(we,fe=>(0,v.f)(we,se,()=>we.next(fe),re),()=>(0,v.f)(we,se,()=>we.complete(),re),fe=>(0,v.f)(we,se,()=>we.error(fe),re)))})}},3099:(vt,Se,k)=>{k.d(Se,{B:()=>se});var v=k(8421),Q=k(7579),O=k(2961),ie=k(4482);function se(me={}){const{connector:we=(()=>new Q.x),resetOnError:fe=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=me;return q=>{let je,be,We,ct=0,pe=!1,Me=!1;const Pe=()=>{be?.unsubscribe(),be=void 0},Be=()=>{Pe(),je=We=void 0,pe=Me=!1},Ne=()=>{const Ie=je;Be(),Ie?.unsubscribe()};return(0,ie.e)((Ie,Ee)=>{ct++,!Me&&!pe&&Pe();const ze=We=We??we();Ee.add(()=>{ct--,0===ct&&!Me&&!pe&&(be=re(Ne,j))}),ze.subscribe(Ee),!je&&ct>0&&(je=new O.Hp({next:Le=>ze.next(Le),error:Le=>{Me=!0,Pe(),be=re(Be,fe,Le),ze.error(Le)},complete:()=>{pe=!0,Pe(),be=re(Be,$),ze.complete()}}),(0,v.Xf)(Ie).subscribe(je))})(q)}}function re(me,we,...fe){if(!0===we)return void me();if(!1===we)return;const $=new O.Hp({next:()=>{$.unsubscribe(),me()}});return(0,v.Xf)(we(...fe)).subscribe($)}},9468:(vt,Se,k)=>{k.d(Se,{R:()=>Q});var v=k(4482);function Q(O,ie=0){return(0,v.e)((se,re)=>{re.add(O.schedule(()=>se.subscribe(re),ie))})}},8505:(vt,Se,k)=>{k.d(Se,{b:()=>se});var v=k(576),Q=k(4482),O=k(5403),ie=k(4671);function se(re,me,we){const fe=(0,v.m)(re)||me||we?{next:re,error:me,complete:we}:re;return fe?(0,Q.e)(($,j)=>{var q;null===(q=fe.subscribe)||void 0===q||q.call(fe);let je=!0;$.subscribe((0,O.x)(j,be=>{var We;null===(We=fe.next)||void 0===We||We.call(fe,be),j.next(be)},()=>{var be;je=!1,null===(be=fe.complete)||void 0===be||be.call(fe),j.complete()},be=>{var We;je=!1,null===(We=fe.error)||void 0===We||We.call(fe,be),j.error(be)},()=>{var be,We;je&&(null===(be=fe.unsubscribe)||void 0===be||be.call(fe)),null===(We=fe.finalize)||void 0===We||We.call(fe)}))}):ie.y}},4408:(vt,Se,k)=>{k.d(Se,{o:()=>se});var v=k(727);class Q extends v.w0{constructor(me,we){super()}schedule(me,we=0){return this}}const O={setInterval(re,me,...we){const{delegate:fe}=O;return fe?.setInterval?fe.setInterval(re,me,...we):setInterval(re,me,...we)},clearInterval(re){const{delegate:me}=O;return(me?.clearInterval||clearInterval)(re)},delegate:void 0};var ie=k(8737);class se extends Q{constructor(me,we){super(me,we),this.scheduler=me,this.work=we,this.pending=!1}schedule(me,we=0){var fe;if(this.closed)return this;this.state=me;const $=this.id,j=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(j,$,we)),this.pending=!0,this.delay=we,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(j,this.id,we),this}requestAsyncId(me,we,fe=0){return O.setInterval(me.flush.bind(me,this),fe)}recycleAsyncId(me,we,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(me,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(me,we);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,we){let $,fe=!1;try{this.work(me)}catch(j){fe=!0,$=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:me,scheduler:we}=this,{actions:fe}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(fe,this),null!=me&&(this.id=this.recycleAsyncId(we,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,k)=>{k.d(Se,{v:()=>O});var v=k(6063);class Q{constructor(se,re=Q.now){this.schedulerActionCtor=se,this.now=re}schedule(se,re=0,me){return new this.schedulerActionCtor(this,se).schedule(me,re)}}Q.now=v.l.now;class O extends Q{constructor(se,re=Q.now){super(se,re),this.actions=[],this._active=!1}flush(se){const{actions:re}=this;if(this._active)return void re.push(se);let me;this._active=!0;do{if(me=se.execute(se.state,se.delay))break}while(se=re.shift());if(this._active=!1,me){for(;se=re.shift();)se.unsubscribe();throw me}}}},4986:(vt,Se,k)=>{k.d(Se,{z:()=>O});var v=k(4408);const O=new(k(7565).v)(v.o)},6063:(vt,Se,k)=>{k.d(Se,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,k)=>{k.d(Se,{z:()=>v});const v={setTimeout(Q,O,...ie){const{delegate:se}=v;return se?.setTimeout?se.setTimeout(Q,O,...ie):setTimeout(Q,O,...ie)},clearTimeout(Q){const{delegate:O}=v;return(O?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(vt,Se,k)=>{k.d(Se,{h:()=>Q});const Q=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,k)=>{k.d(Se,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(vt,Se,k)=>{k.d(Se,{_6:()=>re,jO:()=>ie,yG:()=>se});var v=k(576);function O(me){return me[me.length-1]}function ie(me){return(0,v.m)(O(me))?me.pop():void 0}function se(me){return function Q(me){return me&&(0,v.m)(me.schedule)}(O(me))?me.pop():void 0}function re(me,we){return"number"==typeof O(me)?me.pop():we}},8737:(vt,Se,k)=>{function v(Q,O){if(Q){const ie=Q.indexOf(O);0<=ie&&Q.splice(ie,1)}}k.d(Se,{P:()=>v})},3888:(vt,Se,k)=>{function v(Q){const ie=Q(se=>{Error.call(se),se.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}k.d(Se,{d:()=>v})},2806:(vt,Se,k)=>{k.d(Se,{O:()=>ie,x:()=>O});var v=k(2416);let Q=null;function O(se){if(v.v.useDeprecatedSynchronousErrorHandling){const re=!Q;if(re&&(Q={errorThrown:!1,error:null}),se(),re){const{errorThrown:me,error:we}=Q;if(Q=null,me)throw we}}else se()}function ie(se){v.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=se)}},9672:(vt,Se,k)=>{function v(Q,O,ie,se=0,re=!1){const me=O.schedule(function(){ie(),re?Q.add(this.schedule(null,se)):this.unsubscribe()},se);if(Q.add(me),!re)return me}k.d(Se,{f:()=>v})},4671:(vt,Se,k)=>{function v(Q){return Q}k.d(Se,{y:()=>v})},1144:(vt,Se,k)=>{k.d(Se,{z:()=>v});const v=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(vt,Se,k)=>{k.d(Se,{D:()=>Q});var v=k(576);function Q(O){return Symbol.asyncIterator&&(0,v.m)(O?.[Symbol.asyncIterator])}},576:(vt,Se,k)=>{function v(Q){return"function"==typeof Q}k.d(Se,{m:()=>v})},3670:(vt,Se,k)=>{k.d(Se,{c:()=>O});var v=k(8822),Q=k(576);function O(ie){return(0,Q.m)(ie[v.L])}},6495:(vt,Se,k)=>{k.d(Se,{T:()=>O});var v=k(2202),Q=k(576);function O(ie){return(0,Q.m)(ie?.[v.h])}},8239:(vt,Se,k)=>{k.d(Se,{t:()=>Q});var v=k(576);function Q(O){return(0,v.m)(O?.then)}},3260:(vt,Se,k)=>{k.d(Se,{L:()=>ie,Q:()=>O});var v=k(7582),Q=k(576);function O(se){return(0,v.FC)(this,arguments,function*(){const me=se.getReader();try{for(;;){const{value:we,done:fe}=yield(0,v.qq)(me.read());if(fe)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(we)}}finally{me.releaseLock()}})}function ie(se){return(0,Q.m)(se?.getReader)}},4482:(vt,Se,k)=>{k.d(Se,{A:()=>Q,e:()=>O});var v=k(576);function Q(ie){return(0,v.m)(ie?.lift)}function O(ie){return se=>{if(Q(se))return se.lift(function(re){try{return ie(re,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(vt,Se,k)=>{k.d(Se,{U:()=>O,z:()=>Q});var v=k(4671);function Q(...ie){return O(ie)}function O(ie){return 0===ie.length?v.y:1===ie.length?ie[0]:function(re){return ie.reduce((me,we)=>we(me),re)}}},7849:(vt,Se,k)=>{k.d(Se,{h:()=>O});var v=k(2416),Q=k(3410);function O(ie){Q.z.setTimeout(()=>{const{onUnhandledError:se}=v.v;if(!se)throw ie;se(ie)})}},4532:(vt,Se,k)=>{function v(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>v})},4650:(vt,Se,k)=>{k.d(Se,{$8M:()=>ra,$WT:()=>lr,$Z:()=>dw,AFp:()=>dE,AaK:()=>we,AsE:()=>Pm,CHM:()=>La,CRH:()=>ey,CZH:()=>og,CqO:()=>kw,D6c:()=>vC,EJc:()=>tC,EpF:()=>n_,F4k:()=>r_,FYo:()=>mv,FiY:()=>Qa,GfV:()=>G0,JOm:()=>It,KtG:()=>Fa,LFG:()=>tn,Lbi:()=>ug,Lck:()=>$m,MMx:()=>Mi,MR2:()=>mD,NdJ:()=>Gl,OlP:()=>Zt,Oqu:()=>Mm,P3R:()=>ah,PXZ:()=>wu,Q6J:()=>Ep,QGY:()=>Dm,Qsj:()=>bD,R0b:()=>Ms,RDi:()=>jg,Rgc:()=>nd,SBq:()=>fh,Sil:()=>sC,Suo:()=>Kp,TTD:()=>Yc,TgZ:()=>zl,VKq:()=>qm,X6Q:()=>ld,XFs:()=>pt,Xpm:()=>Li,Xts:()=>ov,Y36:()=>vh,YKP:()=>Cn,YNc:()=>e_,Yjl:()=>jt,Yz7:()=>dt,Z0I:()=>In,ZZ4:()=>Iy,_UZ:()=>Im,_Vd:()=>hh,_c5:()=>Ey,_uU:()=>Qw,aQg:()=>g0,c2e:()=>hE,cJS:()=>ft,cg1:()=>E_,dDg:()=>t0,dqk:()=>Jt,eFA:()=>Bc,eJc:()=>Ni,eoX:()=>n0,f3M:()=>Pn,g9A:()=>af,h0i:()=>Jl,hGG:()=>PE,hij:()=>Sc,iGM:()=>z_,ifc:()=>ve,ip1:()=>sg,jDz:()=>AI,kL8:()=>D_,lG2:()=>Dt,lqb:()=>Fl,lri:()=>IE,n5z:()=>Zu,oAB:()=>X,oxw:()=>Lw,q4F:()=>W0,qLn:()=>op,qZA:()=>bc,rWj:()=>e0,sBO:()=>lC,s_b:()=>Jm,soG:()=>cg,tb:()=>ud,tp0:()=>_t,uIk:()=>wm,vHH:()=>pe,vpe:()=>eo,wAp:()=>Tt,xp6:()=>rw,z2F:()=>dg,zSh:()=>vc,zs3:()=>gh});var v=k(7579),Q=k(727),O=k(9751),ie=k(6451),se=k(3099);function re(i){for(let o in i)if(i[o]===re)return o;throw Error("Could not find renamed property on target object.")}function we(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(we).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function fe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $=re({__forward_ref__:re});function j(i){return i.__forward_ref__=j,i.toString=function(){return we(this())},i}function q(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===j}function be(i){return i&&!!i.\u0275providers}const ct="https://g.co/ng/security#xss";class pe extends Error{constructor(o,a){super(Me(o,a)),this.code=o}}function Me(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function Pe(i){return"string"==typeof i?i:null==i?"":String(i)}function ze(i,o){throw new pe(-201,!1)}function ge(i,o){null==i&&function oe(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function dt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ft(i){return{providers:i.providers||[],imports:i.imports||[]}}function Wt(i){return pn(i,Mn)||pn(i,ei)}function In(i){return null!==Wt(i)}function pn(i,o){return i.hasOwnProperty(o)?i[o]:null}function ur(i){return i&&(i.hasOwnProperty(Vr)||i.hasOwnProperty(br))?i[Vr]:null}const Mn=re({\u0275prov:re}),Vr=re({\u0275inj:re}),ei=re({ngInjectableDef:re}),br=re({ngInjectorDef:re});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let ti;function yr(i){const o=ti;return ti=i,o}function Br(i,o,a){const c=Wt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&pt.Optional?null:void 0!==o?o:void ze(we(i))}const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hi={},ni="__NG_DI_FLAG__",cr="ngTempTokenPath",jr="ngTokenPath",Tn=/\n/gm,ri="\u0275",dn="__source";let ks;function Kt(i){const o=ks;return ks=i,o}function Xi(i,o=pt.Default){if(void 0===ks)throw new pe(-203,!1);return null===ks?Br(i,void 0,o):ks.get(i,o&pt.Optional?null:void 0,o)}function tn(i,o=pt.Default){return(function Wc(){return ti}()||Xi)(q(i),o)}function Pn(i,o=pt.Default){return tn(i,Hn(o))}function Hn(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Oi(i){const o=[];for(let a=0;a<i.length;a++){const c=q(i[a]);if(Array.isArray(c)){if(0===c.length)throw new pe(900,!1);let d,p=pt.Default;for(let y=0;y<c.length;y++){const E=c[y],b=ki(E);"number"==typeof b?-1===b?d=E.token:p|=b:d=E}o.push(tn(d,p))}else o.push(tn(c))}return o}function _n(i,o){return i[ni]=o,i.prototype[ni]=o,i}function ki(i){return i[ni]}function F(i){return{toString:i}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),ve=(()=>{return(i=ve||(ve={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ve;var i})();const J={},Fe=[],Ct=re({\u0275cmp:re}),Yt=re({\u0275dir:re}),Un=re({\u0275pipe:re}),En=re({\u0275mod:re}),sn=re({\u0275fac:re}),zt=re({__NG_ELEMENT_ID__:re});let Cr=0;function Li(i){return F(()=>{const o=Eu(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||ve.Emulated,id:"c"+Cr++,styles:i.styles||Fe,_:null,schemas:i.schemas||null,tView:null};_f(a);const c=i.dependencies;return a.directiveDefs=no(c,!1),a.pipeDefs=no(c,!0),a})}function Ca(i){return gt(i)||Xt(i)}function de(i){return null!==i}function X(i){return F(()=>({type:i.type,bootstrap:i.bootstrap||Fe,declarations:i.declarations||Fe,imports:i.imports||Fe,exports:i.exports||Fe,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ht(i,o){if(null==i)return J;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function Dt(i){return F(()=>{const o=Eu(i);return _f(o),o})}function jt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function gt(i){return i[Ct]||null}function Xt(i){return i[Yt]||null}function Qt(i){return i[Un]||null}function lr(i){const o=gt(i)||Xt(i)||Qt(i);return null!==o&&o.standalone}function zn(i,o){const a=i[En]||null;if(!a&&!0===o)throw new Error(`Type ${we(i)} does not have '\u0275mod' property.`);return a}function Eu(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Fe,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ht(i.inputs,o),outputs:ht(i.outputs)}}function _f(i){i.features?.forEach(o=>o(i))}function no(i,o){if(!i)return null;const a=o?Qt:Ca;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(de)}const pi=0,qe=1,Ot=2,wn=3,gi=4,cn=5,Gn=6,Ta=7,Nn=8,Sa=9,Ls=10,Vt=11,Aa=12,ro=13,ls=14,io=15,Vn=16,Go=17,ds=18,Fi=19,Fs=20,vr=21,gn=22,xa=1,qc=2,Wo=7,Us=8,so=9,dr=10;function si(i){return Array.isArray(i)&&"object"==typeof i[xa]}function oi(i){return Array.isArray(i)&&!0===i[xa]}function Ra(i){return 0!=(4&i.flags)}function qo(i){return i.componentOffset>-1}function Kc(i){return 1==(1&i.flags)}function mi(i){return!!i.template}function bu(i){return 0!=(256&i[Ot])}function ts(i,o){return i.hasOwnProperty(sn)?i[sn]:null}class oo{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Yc(){return Ma}function Ma(i){return i.type.prototype.ngOnChanges&&(i.setInput=Qc),Cd}function Cd(){const i=Df(this),o=i?.current;if(o){const a=i.previous;if(a===J)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Qc(i,o,a,c){const d=this.declaredInputs[a],p=Df(i)||function Pa(i,o){return i[Vs]=o}(i,{previous:J,current:null}),y=p.current||(p.current={}),E=p.previous,b=E[d];y[d]=new oo(b&&b.currentValue,o,E===J),i[c]=o}Yc.ngInherit=!0;const Vs="__ngSimpleChanges__";function Df(i){return i[Vs]||null}const Hr=function(i,o,a){};function hr(i){for(;Array.isArray(i);)i=i[pi];return i}function fr(i,o){return hr(o[i.index])}function Sd(i,o){return i.data[o]}function er(i,o){const a=o[i];return si(a)?a:a[pi]}function gs(i){return 64==(64&i[Ot])}function js(i,o){return null==o?null:i[o]}function Yo(i){i[ds]=0}function Oa(i,o){i[cn]+=o;let a=i,c=i[wn];for(;null!==c&&(1===o&&1===a[cn]||-1===o&&0===a[cn]);)c[cn]+=o,a=c,c=c[wn]}const Mt={lFrame:el(null),bindingsEnabled:!0};function Ru(){return Mt.bindingsEnabled}function he(){return Mt.lFrame.lView}function kt(){return Mt.lFrame.tView}function La(i){return Mt.lFrame.contextLView=i,i[Nn]}function Fa(i){return Mt.lFrame.contextLView=null,i}function tr(){let i=ao();for(;null!==i&&64===i.type;)i=i.parent;return i}function ao(){return Mt.lFrame.currentTNode}function zr(i,o){const a=Mt.lFrame;a.currentTNode=i,a.isParent=o}function Pd(){return Mt.lFrame.isParent}function uo(){return Mt.lFrame.bindingIndex++}function Nu(i,o){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,qn(o)}function qn(i){Mt.lFrame.currentDirectiveIndex=i}function Xc(){return Mt.lFrame.currentQueryIndex}function Ou(i){Mt.lFrame.currentQueryIndex=i}function Od(i){const o=i[qe];return 2===o.type?o.declTNode:1===o.type?i[Gn]:null}function ku(i,o,a){if(a&pt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&pt.Host||(d=Od(p),null===d||(p=p[io],10&d.type))););if(null===d)return!1;o=d,i=p}const c=Mt.lFrame=Ba();return c.currentTNode=o,c.lView=i,!0}function Lu(i){const o=Ba(),a=i[qe];Mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ba(){const i=Mt.lFrame,o=null===i?null:i.child;return null===o?el(i):o}function el(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function ja(){const i=Mt.lFrame;return Mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const kd=ja;function Fu(){const i=ja();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function _r(){return Mt.lFrame.selectedIndex}function ys(i){Mt.lFrame.selectedIndex=i}function Dn(){const i=Mt.lFrame;return Sd(i.tView,i.selectedIndex)}function Bu(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:x,ngOnDestroy:M}=p;y&&(i.contentHooks??(i.contentHooks=[])).push(-a,y),E&&((i.contentHooks??(i.contentHooks=[])).push(a,E),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,E)),b&&(i.viewHooks??(i.viewHooks=[])).push(-a,b),x&&((i.viewHooks??(i.viewHooks=[])).push(a,x),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,x)),null!=M&&(i.destroyHooks??(i.destroyHooks=[])).push(a,M)}}function tl(i,o,a){rl(i,o,3,a)}function nl(i,o,a,c){(3&i[Ot])===a&&rl(i,o,a,c)}function Fd(i,o){let a=i[Ot];(3&a)===o&&(a&=2047,a+=1,i[Ot]=a)}function rl(i,o,a,c){const p=c??-1,y=o.length-1;let E=0;for(let b=void 0!==c?65535&i[ds]:0;b<y;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=c&&E>=c)break}else o[b]<0&&(i[ds]+=65536),(E<p||-1==p)&&(Jo(i,a,o,b),i[ds]=(4294901760&i[ds])+b+2),b++}function Jo(i,o,a,c){const d=a[c]<0,p=a[c+1],E=i[d?-a[c]:a[c]];if(d){if(i[Ot]>>11<i[ds]>>16&&(3&i[Ot])===o){i[Ot]+=2048,Hr(4,E,p);try{p.call(E)}finally{Hr(5,E,p)}}}else{Hr(4,E,p);try{p.call(E)}finally{Hr(5,E,p)}}}const Xo=-1;class vs{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ea(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],y=a[c++],E=a[c++];i.setAttribute(o,y,E,p)}else{const p=d,y=a[++c];fo(p)?i.setProperty(o,p,y):i.setAttribute(o,p,y),c++}}return c}function il(i){return 3===i||4===i||6===i}function fo(i){return 64===i.charCodeAt(0)}function po(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Hu(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Hu(i,o,a,c,d){let p=0,y=i.length;if(-1===o)y=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(i.splice(y,0,o),p=y+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function go(i){return i!==Xo}function $s(i){return 32767&i}function mo(i,o){let a=function Ud(i){return i>>16}(i),c=o;for(;a>0;)c=c[io],a--;return c}let zu=!0;function Ha(i){const o=zu;return zu=i,o}const Gu=255,Vd=5;let yo=0;const Vi={};function sl(i,o){const a=na(i,o);if(-1!==a)return a;const c=o[qe];c.firstCreatePass&&(i.injectorIndex=o.length,ta(c.data,i),ta(o,null),ta(c.blueprint,null));const d=Bd(i,o),p=i.injectorIndex;if(go(d)){const y=$s(d),E=mo(d,o),b=E[qe].data;for(let x=0;x<8;x++)o[p+x]=E[y+x]|b[y+x]}return o[p+8]=d,p}function ta(i,o){i.push(0,0,0,0,0,0,0,0,o)}function na(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Bd(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=Wa(d),null===c)return Xo;if(a++,d=d[io],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Xo}function hn(i,o,a){!function _s(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(zt)&&(c=a[zt]),null==c&&(c=a[zt]=yo++);const d=c&Gu;o.data[i+(d>>Vd)]|=1<<d}(i,o,a)}function Wu(i,o,a){if(a&pt.Optional||void 0!==i)return i;ze()}function ol(i,o,a,c){if(a&pt.Optional&&void 0===c&&(c=null),!(a&(pt.Self|pt.Host))){const d=i[Sa],p=yr(void 0);try{return d?d.get(o,c,a&pt.Optional):Br(o,c,a&pt.Optional)}finally{yr(p)}}return Wu(c,0,a)}function qu(i,o,a,c=pt.Default,d){if(null!==i){if(1024&o[Ot]){const y=function ul(i,o,a,c,d){let p=i,y=o;for(;null!==p&&null!==y&&1024&y[Ot]&&!(256&y[Ot]);){const E=Ku(p,y,a,c|pt.Self,Vi);if(E!==Vi)return E;let b=p.parent;if(!b){const x=y[vr];if(x){const M=x.get(a,Vi,c);if(M!==Vi)return M}b=Wa(y),y=y[io]}p=b}return d}(i,o,a,c,Vi);if(y!==Vi)return y}const p=Ku(i,o,a,c,Vi);if(p!==Vi)return p}return ol(o,a,c,d)}function Ku(i,o,a,c,d){const p=function al(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(zt)?i[zt]:void 0;return"number"==typeof o?o>=0?o&Gu:xf:o}(a);if("function"==typeof p){if(!ku(o,i,c))return c&pt.Host?Wu(d,0,c):ol(o,a,c,d);try{const y=p(c);if(null!=y||c&pt.Optional)return y;ze()}finally{kd()}}else if("number"==typeof p){let y=null,E=na(i,o),b=Xo,x=c&pt.Host?o[Vn][Gn]:null;for((-1===E||c&pt.SkipSelf)&&(b=-1===E?Bd(i,o):o[E+8],b!==Xo&&Ga(c,!1)?(y=o[qe],E=$s(b),o=mo(b,o)):E=-1);-1!==E;){const M=o[qe];if(za(p,E,M.data)){const L=nr(E,o,a,y,c,x);if(L!==Vi)return L}b=o[E+8],b!==Xo&&Ga(c,o[qe].data[E+8]===x)&&za(p,E,o)?(y=M,E=$s(b),o=mo(b,o)):E=-1}}return d}function nr(i,o,a,c,d,p){const y=o[qe],E=y.data[i+8],M=vo(E,y,a,null==c?qo(E)&&zu:c!=y&&0!=(3&E.type),d&pt.Host&&p===E);return null!==M?Bn(o,y,M,E):Vi}function vo(i,o,a,c,d){const p=i.providerIndexes,y=o.data,E=1048575&p,b=i.directiveStart,M=p>>20,z=d?E+M:i.directiveEnd;for(let Y=c?E:E+M;Y<z;Y++){const ye=y[Y];if(Y<b&&a===ye||Y>=b&&ye.type===a)return Y}if(d){const Y=y[b];if(Y&&mi(Y)&&Y.type===a)return b}return null}function Bn(i,o,a,c){let d=i[a];const p=o.data;if(function Og(i){return i instanceof vs}(d)){const y=d;y.resolving&&function Ne(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new pe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Pe(i)}(p[a]));const E=Ha(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?yr(y.injectImpl):null;ku(i,c,pt.Default);try{d=i[a]=y.factory(void 0,p,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Ng(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const y=Ma(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==b&&yr(b),Ha(E),y.resolving=!1,kd()}}return d}function za(i,o,a){return!!(a[o+(i>>Vd)]&1<<i)}function Ga(i,o){return!(i&pt.Self||i&pt.Host&&o)}class ws{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return qu(this._tNode,this._lView,o,Hn(c),a)}}function xf(){return new ws(tr(),he())}function Zu(i){return F(()=>{const o=i.prototype.constructor,a=o[sn]||_o(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[sn]||_o(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function _o(i){return je(i)?()=>{const o=_o(q(i));return o&&o()}:ts(i)}function Wa(i){const o=i[qe],a=o.type;return 2===a?o.declTNode:1===a?i[Gn]:null}function ra(i){return function jd(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(il(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(tr(),i)}const ia="__parameters__";function Io(i,o,a){return F(()=>{const c=function wo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return E.annotation=y,E;function E(b,x,M){const L=b.hasOwnProperty(ia)?b[ia]:Object.defineProperty(b,ia,{value:[]})[ia];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(y),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Zt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=dt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rs(i,o){i.forEach(a=>Array.isArray(a)?rs(a,o):o(a))}function Of(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Do(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}const Qa=_n(Io("Optional"),8),_t=_n(Io("SkipSelf"),4);var It=(()=>((It=It||{})[It.Important=1]="Important",It[It.DashCase=2]="DashCase",It))();const Wd=new Map;let zi=0;const K="__ngContext__";function te(i,o){si(o)?(i[K]=o[Fs],function Kd(i){Wd.set(i[Fs],i)}(o)):i[K]=o}let Gi;function Ws(i,o){return Gi(i,o)}function El(i){const o=i[wn];return oi(o)?o[wn]:o}function Dl(i){return Bf(i[ro])}function No(i){return Bf(i[gi])}function Bf(i){for(;null!==i&&!oi(i);)i=i[gi];return i}function Oo(i,o,a,c,d){if(null!=c){let p,y=!1;oi(c)?p=c:si(c)&&(y=!0,c=c[pi]);const E=hr(c);0===i&&null!==a?null==d?Cl(o,a,E):ua(o,a,E,d||null,!0):1===i&&null!==a?ua(o,a,E,d||null,!0):2===i?function zf(i,o,a){const c=ko(i,o);c&&function Tl(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,E,y):3===i&&o.destroyNode(E),null!=p&&function Rl(i,o,a,c,d){const p=a[Wo];p!==hr(a)&&Oo(o,i,c,p,d);for(let E=dr;E<a.length;E++){const b=a[E];xl(b[qe],b,i,o,c,p)}}(o,i,p,a,d)}}function $f(i,o,a){return i.createElement(o,a)}function Ug(i,o){const a=i[so],c=a.indexOf(o),d=o[wn];512&o[Ot]&&(o[Ot]&=-513,Oa(d,-1)),a.splice(c,1)}function bl(i,o){if(i.length<=dr)return;const a=dr+o,c=i[a];if(c){const d=c[Go];null!==d&&d!==i&&Ug(d,c),o>0&&(i[a-1][gi]=c[gi]);const p=Do(i,dr+o);!function Gy(i,o){xl(i,o,o[Vt],2,null,null),o[pi]=null,o[Gn]=null}(c[qe],c);const y=p[Fi];null!==y&&y.detachView(p[qe]),c[wn]=null,c[gi]=null,c[Ot]&=-65}return c}function Qd(i,o){if(!(128&o[Ot])){const a=o[Vt];a.destroyNode&&xl(i,o,a,3,null,null),function L0(i){let o=i[ro];if(!o)return aa(i[qe],i);for(;o;){let a=null;if(si(o))a=o[ro];else{const c=o[dr];c&&(a=c)}if(!a){for(;o&&!o[gi]&&o!==i;)si(o)&&aa(o[qe],o),o=o[wn];null===o&&(o=i),si(o)&&aa(o[qe],o),a=o&&o[gi]}o=a}}(o)}}function aa(i,o){if(!(128&o[Ot])){o[Ot]&=-65,o[Ot]|=128,function iu(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof vs)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=d[p[y]],b=p[y+1];Hr(4,E,b);try{b.call(E)}finally{Hr(5,E,b)}}else{Hr(4,d,p);try{p.call(d)}finally{Hr(5,d,p)}}}}}(i,o),function qy(i,o){const a=i.cleanup,c=o[Ta];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[d=y]():c[d=-y].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[Ta]=null}}(i,o),1===o[qe].type&&o[Vt].destroy();const a=o[Go];if(null!==a&&oi(o[wn])){a!==o[wn]&&Ug(a,o);const c=o[Fi];null!==c&&c.detachView(i)}!function I(i){Wd.delete(i[Fs])}(o)}}function dc(i,o,a){return function Ky(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[pi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===ve.None||p===ve.Emulated)return null}return fr(c,a)}}(i,o.parent,a)}function ua(i,o,a,c,d){i.insertBefore(o,a,c,d)}function Cl(i,o,a){i.appendChild(o,a)}function Vg(i,o,a,c,d){null!==c?ua(i,o,a,c,d):Cl(i,o,a)}function ko(i,o){return i.parentNode(o)}let Hf,Nl,fc,su=function Sl(i,o,a){return 40&i.type?fr(i,a):null};function ou(i,o,a,c){const d=dc(i,c,o),p=o[Vt],E=function Xd(i,o,a){return su(i,o,a)}(c.parent||o[Gn],c,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)Vg(p,d,a[b],E,!1);else Vg(p,d,a,E,!1);void 0!==Hf&&Hf(p,c,o,a,d)}function th(i,o){if(null!==o){const a=o.type;if(3&a)return fr(o,i);if(4&a)return Es(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return th(i,c);{const d=i[o.index];return oi(d)?Es(-1,d):hr(d)}}if(32&a)return Ws(o,i)()||hr(i[o.index]);{const c=nh(i,o);return null!==c?Array.isArray(c)?c[0]:th(El(i[Vn]),c):th(i,o.next)}}return null}function nh(i,o){return null!==o?i[Vn][Gn].projection[o.projection]:null}function Es(i,o){const a=dr+i+1;if(a<o.length){const c=o[a],d=c[qe].firstChild;if(null!==d)return th(c,d)}return o[Wo]}function Al(i,o,a,c,d,p,y){for(;null!=a;){const E=c[a.index],b=a.type;if(y&&0===o&&(E&&te(hr(E),c),a.flags|=2),32!=(32&a.flags))if(8&b)Al(i,o,a.child,c,d,p,!1),Oo(o,i,d,E,p);else if(32&b){const x=Ws(a,c);let M;for(;M=x();)Oo(o,i,d,M,p);Oo(o,i,d,E,p)}else 16&b?Wf(i,o,c,a,d,p):Oo(o,i,d,E,p);a=y?a.projectionNext:a.next}}function xl(i,o,a,c,d,p){Al(a,c,i.firstChild,o,d,p,!1)}function Wf(i,o,a,c,d,p){const y=a[Vn],b=y[Gn].projection[c.projection];if(Array.isArray(b))for(let x=0;x<b.length;x++)Oo(o,i,d,b[x],p);else Al(i,o,b,y[wn],d,p,!0)}function ss(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Ml(i,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&ea(i,o,c),null!==d&&ss(i,o,d),null!==p&&function qf(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function jg(i){Nl=i}function Yf(i){return function Zf(){if(void 0===fc&&(fc=null,Jt.trustedTypes))try{fc=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return fc}()?.createScriptURL(i)||i}class Hg{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function Pr(i){return i instanceof Hg?i.changingThisBreaksApplicationSecurity:i}function Ci(i,o){const a=function pc(i){return i instanceof Hg&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ct})`)}return a===o}const np=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function sh(i){const o=rp();return o?o.sanitize(An.URL,i)||"":Ci(i,"URL")?Pr(i):function gc(i){return(i=String(i)).match(np)?i:"unsafe:"+i}(Pe(i))}function kl(i){const o=rp();if(o)return Yf(o.sanitize(An.RESOURCE_URL,i)||"");if(Ci(i,"ResourceURL"))return Yf(Pr(i));throw new pe(904,!1)}function ah(i,o,a){return function rv(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?kl:sh}(o,a)(i)}function rp(){const i=he();return i&&i[Aa]}const ov=new Zt("ENVIRONMENT_INITIALIZER"),Ll=new Zt("INJECTOR",-1),uh=new Zt("INJECTOR_DEF_TYPES");class F0{get(o,a=hi){if(a===hi){const c=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw c.name="NullInjectorError",c}return a}}function mD(i){return{\u0275providers:i}}function ip(...i){return{\u0275providers:ch(0,i),\u0275fromNgModule:!0}}function ch(i,...o){const a=[],c=new Set;let d;return rs(o,p=>{const y=p;av(y,a,[],c)&&(d||(d=[]),d.push(y))}),void 0!==d&&U0(d,a),a}function U0(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];uv(d,p=>{o.push(p)})}}function av(i,o,a,c){if(!(i=q(i)))return!1;let d=null,p=ur(i);const y=!p&&gt(i);if(p||y){if(y&&!y.standalone)return!1;d=i}else{const b=i.ngModule;if(p=ur(b),!p)return!1;d=b}const E=c.has(d);if(y){if(E)return!1;if(c.add(d),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const x of b)av(x,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let x;c.add(d);try{rs(p.imports,M=>{av(M,o,a,c)&&(x||(x=[]),x.push(M))})}finally{}void 0!==x&&U0(x,o)}if(!E){const x=ts(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:Fe},{provide:uh,useValue:d,multi:!0},{provide:ov,useValue:()=>tn(d),multi:!0})}const b=p.providers;null==b||E||uv(b,M=>{o.push(M)})}}return d!==i&&void 0!==i.providers}function uv(i,o){for(let a of i)be(a)&&(a=a.\u0275providers),Array.isArray(a)?uv(a,o):o(a)}const yD=re({provide:String,useValue:re});function cv(i){return null!==i&&"object"==typeof i&&yD in i}function lu(i){return"function"==typeof i}const vc=new Zt("Set Injector scope."),Yg={},_D={};let lv;function Qg(){return void 0===lv&&(lv=new F0),lv}class Fl{}class B0 extends Fl{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dh(o,y=>this.processProvider(y)),this.records.set(Ll,lh(void 0,this)),d.has("environment")&&this.records.set(Fl,lh(void 0,this));const p=this.records.get(vc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(uh.multi,Fe,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Kt(this),c=yr(void 0);try{return o()}finally{Kt(a),yr(c)}}get(o,a=hi,c=pt.Default){this.assertNotDestroyed(),c=Hn(c);const d=Kt(this),p=yr(void 0);try{if(!(c&pt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function pv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Zt}(o)&&Wt(o);E=b&&this.injectableDefInScope(b)?lh(dv(o),Yg):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&pt.Self?Qg():this.parent).get(o,a=c&pt.Optional&&a===hi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[cr]=y[cr]||[]).unshift(we(o)),d)throw y;return function $r(i,o,a,c){const d=i[cr];throw o[dn]&&d.unshift(o[dn]),i.message=function V(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==ri?i.slice(2):i;let d=we(o);if(Array.isArray(o))d=o.map(we).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):we(E)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Tn,"\n  ")}`}("\n"+i.message,d,a,c),i[jr]=d,i[cr]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{yr(p),Kt(d)}}resolveInjectorInitializers(){const o=Kt(this),a=yr(void 0);try{const c=this.get(ov.multi,Fe,pt.Self);for(const d of c)d()}finally{Kt(o),yr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(we(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(o){let a=lu(o=q(o))?o:q(o&&o.provide);const c=function ID(i){return cv(i)?lh(void 0,i.useValue):lh(function hv(i,o,a){let c;if(lu(i)){const d=q(i);return ts(d)||dv(d)}if(cv(i))c=()=>q(i.useValue);else if(function V0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Oi(i.deps||[]));else if(function vD(i){return!(!i||!i.useExisting)}(i))c=()=>tn(q(i.useExisting));else{const d=q(i&&(i.useClass||i.provide));if(!function fv(i){return!!i.deps}(i))return ts(d)||dv(d);c=()=>new d(...Oi(i.deps))}return c}(i),Yg)}(o);if(lu(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=lh(void 0,Yg,!0),d.factory=()=>Oi(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Yg&&(a.value=_D,a.value=a.factory()),"object"==typeof a.value&&a.value&&function j0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function dv(i){const o=Wt(i),a=null!==o?o.factory:ts(i);if(null!==a)return a;if(i instanceof Zt)throw new pe(204,!1);if(i instanceof Function)return function wD(i){const o=i.length;if(o>0)throw function Qu(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new pe(204,!1);const a=function Fn(i){return i&&(i[Mn]||i[ei])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new pe(204,!1)}function lh(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function dh(i,o){for(const a of i)Array.isArray(a)?dh(a,o):a&&be(a)?dh(a.\u0275providers,o):o(a)}class ED{}class $0{}class z0{resolveComponentFactory(o){throw function DD(i){const o=Error(`No component factory found for ${we(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let hh=(()=>{class i{}return i.NULL=new z0,i})();function Jg(){return du(tr(),he())}function du(i,o){return new fh(fr(i,o))}let fh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Jg,i})();function sp(i){return i instanceof fh?i.nativeElement:i}class mv{}let bD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function CD(){const i=he(),a=er(tr().index,i);return(si(a)?a:i)[Vt]}(),i})(),TD=(()=>{class i{}return i.\u0275prov=dt({token:i,providedIn:"root",factory:()=>null}),i})();class G0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const W0=new G0("15.2.9"),Xg={},yv="ngOriginalError";function vv(i){return i[yv]}class op{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&vv(o);for(;a&&vv(a);)a=vv(a);return a||null}}function la(i){return i instanceof Function?i():i}function J0(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const _v="ng-template";function wv(i,o,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const y=i[c++];if(a&&"class"===p&&-1!==J0(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Iv(i){return 4===i.type&&i.value!==_v}function ph(i,o,a){return o===(4!==i.type||a?i.value:_v)}function Ev(i,o,a){let c=4;const d=i.attrs||[],p=function ew(i){for(let o=0;o<i.length;o++)if(il(i[o]))return o;return i.length}(d);let y=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!ph(i,b,a)||""===b&&1===o.length){if(Lo(c))return!1;y=!0}}else{const x=8&c?b:o[++E];if(8&c&&null!==i.attrs){if(!wv(i.attrs,x,a)){if(Lo(c))return!1;y=!0}continue}const L=X0(8&c?"class":b,d,Iv(i),a);if(-1===L){if(Lo(c))return!1;y=!0;continue}if(""!==x){let z;z=L>p?"":d[L+1].toLowerCase();const Y=8&c?z:null;if(Y&&-1!==J0(Y,x,0)||2&c&&x!==z){if(Lo(c))return!1;y=!0}}}}else{if(!y&&!Lo(c)&&!Lo(b))return!1;if(y&&Lo(b))continue;y=!1,c=b|1&c}}return Lo(c)||y}function Lo(i){return 0==(1&i)}function X0(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function tw(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function up(i,o,a=!1){for(let c=0;c<o.length;c++)if(Ev(i,o[c],a))return!0;return!1}function nw(i,o){return i?":not("+o.trim()+")":o}function OD(i){let o=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const E=i[++a];d+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Lo(y)&&(o+=nw(p,d),d=""),c=y,p=p||!Lo(c);a++}return""!==d&&(o+=nw(p,d)),o}const Lt={};function rw(i){iw(kt(),he(),_r()+i,!1)}function iw(i,o,a,c){if(!c)if(3==(3&o[Ot])){const p=i.preOrderCheckHooks;null!==p&&tl(o,p,a)}else{const p=i.preOrderHooks;null!==p&&nl(o,p,0,a)}ys(a)}function ow(i,o=null,a=null,c){const d=bv(i,o,a,c);return d.resolveInjectorInitializers(),d}function bv(i,o=null,a=null,c,d=new Set){const p=[a||Fe,ip(i)];return c=c||("object"==typeof i?void 0:we(i)),new B0(p,o||Qg(),c||null,d)}let gh=(()=>{class i{static create(a,c){if(Array.isArray(a))return ow({name:""},c,a,"");{const d=a.name??"";return ow({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=hi,i.NULL=new F0,i.\u0275prov=dt({token:i,providedIn:"any",factory:()=>tn(Ll)}),i.__NG_ELEMENT_ID__=-1,i})();function vh(i,o=pt.Default){const a=he();return null===a?tn(i,o):qu(tr(),a,q(i),o)}function dw(){throw new Error("invalid")}function hw(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=i.data[p];Ou(a[c]),y.contentQueries(2,o[p],p)}}}function rm(i,o,a,c,d,p,y,E,b,x,M){const L=o.blueprint.slice();return L[pi]=d,L[Ot]=76|c,(null!==M||i&&1024&i[Ot])&&(L[Ot]|=1024),Yo(L),L[wn]=L[io]=i,L[Nn]=a,L[Ls]=y||i&&i[Ls],L[Vt]=E||i&&i[Vt],L[Aa]=b||i&&i[Aa]||null,L[Sa]=x||i&&i[Sa]||null,L[Gn]=p,L[Fs]=function qd(){return zi++}(),L[vr]=M,L[Vn]=2==o.type?i[Vn]:L,L}function hp(i,o,a,c,d){let p=i.data[o];if(null===p)p=function xv(i,o,a,c,d){const p=ao(),y=Pd(),b=i.data[o]=function _c(i,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b,b.prev=p)),b}(i,o,a,c,d),function Nd(){return Mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function Mu(){const i=Mt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return zr(p,!0),p}function fp(i,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Rv(i,o,a){Lu(o);try{const c=i.viewQuery;null!==c&&mp(1,c,a);const d=i.template;null!==d&&im(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hw(i,o),i.staticViewQueries&&mp(2,i.viewQuery,a);const p=i.components;null!==p&&function fw(i,o){for(let a=0;a<o.length;a++)Lv(i,o[a])}(o,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[Ot]&=-5,Fu()}}function Nr(i,o,a,c){const d=o[Ot];if(128!=(128&d)){Lu(o);try{Yo(o),function ns(i){return Mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&im(i,o,a,2,c);const y=3==(3&d);if(y){const x=i.preOrderCheckHooks;null!==x&&tl(o,x,null)}else{const x=i.preOrderHooks;null!==x&&nl(o,x,0,null),Fd(o,0)}if(function sb(i){for(let o=Dl(i);null!==o;o=No(o)){if(!o[qc])continue;const a=o[so];for(let c=0;c<a.length;c++){const d=a[c];512&d[Ot]||Oa(d[wn],1),d[Ot]|=512}}}(o),function ib(i){for(let o=Dl(i);null!==o;o=No(o))for(let a=dr;a<o.length;a++){const c=o[a],d=c[qe];gs(c)&&Nr(d,c,d.template,c[Nn])}}(o),null!==i.contentQueries&&hw(i,o),y){const x=i.contentCheckHooks;null!==x&&tl(o,x)}else{const x=i.contentHooks;null!==x&&nl(o,x,1),Fd(o,1)}!function QD(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ys(~d);else{const p=d,y=a[++c],E=a[++c];Nu(y,p),E(2,o[p])}}}finally{ys(-1)}}(i,o);const E=i.components;null!==E&&function JD(i,o){for(let a=0;a<o.length;a++)_h(i,o[a])}(o,E);const b=i.viewQuery;if(null!==b&&mp(2,b,c),y){const x=i.viewCheckHooks;null!==x&&tl(o,x)}else{const x=i.viewHooks;null!==x&&nl(o,x,2),Fd(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Ot]&=-41,512&o[Ot]&&(o[Ot]&=-513,Oa(o[wn],-1))}finally{Fu()}}}function im(i,o,a,c,d){const p=_r(),y=2&c;try{ys(-1),y&&o.length>gn&&iw(i,o,gn,!1),Hr(y?2:0,d),a(c,d)}finally{ys(p),Hr(y?3:1,d)}}function Mv(i,o,a){if(Ra(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=i.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Pv(i,o,a){Ru()&&(function nb(i,o,a,c){const d=a.directiveStart,p=a.directiveEnd;qo(a)&&function Ti(i,o,a){const c=fr(o,i),d=XD(a),p=i[Ls],y=hm(i,rm(i,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));i[o.index]=y}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||sl(a,o),te(c,o);const y=a.initialInputs;for(let E=d;E<p;E++){const b=i.data[E],x=Bn(o,i,E,a);te(x,o),null!==y&&cm(0,E-d,x,b,0,y),mi(b)&&(er(a.index,o)[Nn]=Bn(o,i,E,a))}}(i,o,a,fr(a,o)),64==(64&a.flags)&&ai(i,o,a))}function bs(i,o,a=fr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],E=-1===y?a(o,i):i[y];i[d++]=E}}}function XD(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Nv(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Nv(i,o,a,c,d,p,y,E,b,x){const M=gn+c,L=M+d,z=function _e(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Lt);return a}(M,L),Y="function"==typeof x?x():x;return z[qe]={type:i,blueprint:z,template:a,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:Y,incompleteFirstPass:!1}}function pp(i,o,a,c){const d=fm(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&Fv(i).push(c,d.length-1))}function on(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?pw(a,o,d,p):c.hasOwnProperty(d)&&pw(a,o,c[d],p)}return a}function pw(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Ov(i,o,a,c){if(Ru()){const d=null===c?null:{"":-1},p=function qr(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(up(o,y.selectors,!1))if(c||(c=[]),mi(y))if(null!==y.findHostDirectiveDefs){const E=[];d=d||new Map,y.findHostDirectiveDefs(y,E,d),c.unshift(...E,y),da(i,o,E.length)}else c.unshift(y),da(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&am(i,o,a,y,d,E),d&&function rb(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new pe(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=po(a.mergedAttrs,a.attrs)}function am(i,o,a,c,d,p){for(let x=0;x<c.length;x++)hn(sl(a,o),i,c[x].type);!function kv(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let x=0;x<c.length;x++){const M=c[x];M.providersResolver&&M.providersResolver(M)}let y=!1,E=!1,b=fp(i,o,c.length,null);for(let x=0;x<c.length;x++){const M=c[x];a.mergedAttrs=po(a.mergedAttrs,M.hostAttrs),mw(i,a,o,b,M),gw(b,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const L=M.type.prototype;!y&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),y=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),E=!0),b++}!function Fo(i,o,a){const d=o.directiveEnd,p=i.data,y=o.attrs,E=[];let b=null,x=null;for(let M=o.directiveStart;M<d;M++){const L=p[M],z=a?a.get(L):null,ye=z?z.outputs:null;b=on(L.inputs,M,b,z?z.inputs:null),x=on(L.outputs,M,x,ye);const Ve=null===b||null===y||Iv(o)?null:fa(b,M,y);E.push(Ve)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=b,o.outputs=x}(i,a,p)}function ai(i,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,y=function Pg(){return Mt.lFrame.currentDirectiveIndex}();try{ys(p);for(let E=c;E<d;E++){const b=i.data[E],x=o[E];qn(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&um(b,x)}}finally{ys(-1),qn(y)}}function um(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function da(i,o,a){o.componentOffset=a,(i.components??(i.components=[])).push(o.index)}function gw(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;mi(o)&&(a[""]=i)}}function mw(i,o,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=ts(d.type)),y=new vs(p,mi(d),vh);i.blueprint[c]=y,a[c]=y,function eb(i,o,a,c,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~o.index;(function tb(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,c,p)}}(i,o,c,fp(i,a,d.hostVars,Lt),d)}function ha(i,o,a,c,d,p){const y=fr(i,o);!function Bl(i,o,a,c,d,p,y){if(null==p)i.removeAttribute(o,d,a);else{const E=null==y?Pe(p):y(p,c||"",d);i.setAttribute(o,d,E,a)}}(o[Vt],y,p,i.value,a,c,d)}function cm(i,o,a,c,d,p){const y=p[o];if(null!==y){const E=c.setInput;for(let b=0;b<y.length;){const x=y[b++],M=y[b++],L=y[b++];null!==E?c.setInput(a,L,x,M):a[M]=L}}}function fa(i,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const y=i[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){c.push(p,y[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function lm(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null]}function _h(i,o){const a=er(o,i);if(gs(a)){const c=a[qe];48&a[Ot]?Nr(c,a,c.template,a[Nn]):a[cn]>0&&dm(a)}}function dm(i){for(let c=Dl(i);null!==c;c=No(c))for(let d=dr;d<c.length;d++){const p=c[d];if(gs(p))if(512&p[Ot]){const y=p[qe];Nr(y,p,y.template,p[Nn])}else p[cn]>0&&dm(p)}const a=i[qe].components;if(null!==a)for(let c=0;c<a.length;c++){const d=er(a[c],i);gs(d)&&d[cn]>0&&dm(d)}}function Lv(i,o){const a=er(o,i),c=a[qe];(function yw(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Rv(c,a,a[Nn])}function hm(i,o){return i[ro]?i[ls][gi]=o:i[ro]=o,i[ls]=o,o}function gp(i){for(;i;){i[Ot]|=32;const o=El(i);if(bu(i)&&!o)return i;i=o}return null}function wh(i,o,a,c=!0){const d=o[Ls];d.begin&&d.begin();try{Nr(i,o,i.template,a)}catch(y){throw c&&Ih(o,y),y}finally{d.end&&d.end()}}function mp(i,o,a){Ou(0),o(i,a)}function fm(i){return i[Ta]||(i[Ta]=[])}function Fv(i){return i.cleanup||(i.cleanup=[])}function Ih(i,o){const a=i[Sa],c=a?a.get(op,null):null;c&&c.handleError(o)}function Uv(i,o,a,c,d){for(let p=0;p<a.length;){const y=a[p++],E=a[p++],b=o[y],x=i.data[y];null!==x.setInput?x.setInput(b,d,c,E):b[E]=d}}function Cs(i,o,a){const c=function ps(i,o){return hr(o[i])}(o,i);!function jf(i,o,a){i.setValue(o,a)}(i[Vt],c,a)}function pm(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?d=fe(d,E):2==p&&(c=fe(c,E+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function gm(i,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(hr(p)),oi(p))for(let E=dr;E<p.length;E++){const b=p[E],x=b[qe].firstChild;null!==x&&gm(b[qe],b,x,c)}const y=a.type;if(8&y)gm(i,o,a.child,c);else if(32&y){const E=Ws(a,o);let b;for(;b=E();)c.push(b)}else if(16&y){const E=nh(o,a);if(Array.isArray(E))c.push(...E);else{const b=El(o[Vn]);gm(b[qe],b,E,c,!0)}}a=d?a.projectionNext:a.next}return c}class wc{get rootNodes(){const o=this._lView,a=o[qe];return gm(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(o){this._lView[Nn]=o}get destroyed(){return 128==(128&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[wn];if(oi(o)){const a=o[Us],c=a?a.indexOf(this):-1;c>-1&&(bl(o,c),Do(a,c))}this._attachedToViewContainer=!1}Qd(this._lView[qe],this._lView)}onDestroy(o){pp(this._lView[qe],this._lView,null,o)}markForCheck(){gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-65}reattach(){this._lView[Ot]|=64}detectChanges(){wh(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yd(i,o){xl(i,o,o[Vt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=o}}class Vv extends wc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;wh(o[qe],o,o[Nn],!1)}checkNoChanges(){}get context(){return null}}class Iw extends hh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=gt(o);return new Ic(a,this.ngModule)}}function Bv(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Dw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Hn(c);const d=this.injector.get(o,Xg,c);return d!==Xg||a===Xg?d:this.parentInjector.get(o,a,c)}}class Ic extends $0{get inputs(){return Bv(this.componentDef.inputs)}get outputs(){return Bv(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function kD(i){return i.map(OD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Fl?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new Dw(o,p):o,E=y.get(mv,null);if(null===E)throw new pe(407,!1);const b=y.get(TD,null),x=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=c?function Vl(i,o,a){return i.selectRootElement(o,a===ve.ShadowDom)}(x,c,this.componentDef.encapsulation):$f(x,M,function Ew(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),z=this.componentDef.onPush?288:272,Y=Nv(0,null,null,1,0,null,null,null,null,null),ye=rm(null,Y,null,z,null,null,E,x,b,y,null);let Ve,Ze;Lu(ye);try{const ut=this.componentDef;let St,Re=null;ut.findHostDirectiveDefs?(St=[],Re=new Map,ut.findHostDirectiveDefs(ut,St,Re),St.push(ut)):St=[ut];const Ut=function $v(i,o){const a=i[qe],c=gn;return i[c]=o,hp(a,c,2,"#host",null)}(ye,L),Ln=function Hv(i,o,a,c,d,p,y,E){const b=d[qe];!function Cw(i,o,a,c){for(const d of i)o.mergedAttrs=po(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(pm(o,o.mergedAttrs,!0),null!==a&&Ml(c,a,o))}(c,i,o,y);const x=p.createRenderer(o,a),M=rm(d,XD(a),null,a.onPush?32:16,d[i.index],i,p,x,E||null,null,null);return b.firstCreatePass&&da(b,i,c.length-1),hm(d,M),d[i.index]=M}(Ut,L,ut,St,ye,E,x);Ze=Sd(Y,gn),L&&function ob(i,o,a,c){if(c)ea(i,a,["ng-version",W0.full]);else{const{attrs:d,classes:p}=function LD(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++c]):8===d&&a.push(p);else{if(!Lo(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ea(i,a,d),p&&p.length>0&&ss(i,a,p.join(" "))}}(x,ut,L,c),void 0!==a&&function Sw(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(Ze,this.ngContentSelectors,a),Ve=function Tw(i,o,a,c,d,p){const y=tr(),E=d[qe],b=fr(y,d);am(E,d,y,a,null,c);for(let M=0;M<a.length;M++)te(Bn(d,E,y.directiveStart+M,y),d);ai(E,d,y),b&&te(b,d);const x=Bn(d,E,y.directiveStart+y.componentOffset,y);if(i[Nn]=d[Nn]=x,null!==p)for(const M of p)M(x,o);return Mv(E,y,i),x}(Ln,ut,St,Re,ye,[Aw]),Rv(Y,ye,null)}finally{Fu()}return new jv(this.componentType,Ve,du(Ze,ye),ye,Ze)}}class jv extends ED{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Vv(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;Uv(p[qe],p,d,o,a),gp(er(this._tNode.index,p))}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Aw(){const i=tr();Bu(he()[qe],i)}function Ec(i){return!!vm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function vm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Zr(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function wm(i,o,a,c){const d=he();return Zr(d,uo(),o)&&(kt(),ha(Dn(),d,i,o,a,c)),wm}function hu(i,o,a,c,d,p){const E=function Dc(i,o,a,c){const d=Zr(i,o,a);return Zr(i,o+1,c)||d}(i,function vi(){return Mt.lFrame.bindingIndex}(),a,d);return function _i(i){const o=Mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2),E?o+Pe(a)+c+Pe(d)+p:Lt}function e_(i,o,a,c,d,p,y,E){const b=he(),x=kt(),M=i+gn,L=x.firstCreatePass?function Xv(i,o,a,c,d,p,y,E,b){const x=o.consts,M=hp(o,i,4,y||null,js(x,E));Ov(o,a,M,js(x,b)),Bu(o,M);const L=M.tView=Nv(2,M,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,x,b,o,a,c,d,p,y):x.data[M];zr(L,!1);const z=b[Vt].createComment("");ou(x,b,z,L),te(z,b),hm(b,b[M]=lm(z,b,z,L)),Kc(L)&&Pv(x,b,L),null!=y&&bs(b,L,E)}function Ep(i,o,a){const c=he();return Zr(c,uo(),o)&&function qi(i,o,a,c,d,p,y,E){const b=fr(o,a);let M,x=o.inputs;!E&&null!=x&&(M=x[c])?(Uv(i,a,M,c,d),qo(o)&&function Bt(i,o){const a=er(o,i);16&a[Ot]||(a[Ot]|=32)}(a,o.index)):3&o.type&&(c=function Qe(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,p.setProperty(b,c,d))}(kt(),Dn(),c,i,o,c[Vt],a,!1),Ep}function Dp(i,o,a,c,d){const y=d?"class":"style";Uv(i,a,o.inputs[y],y,c)}function zl(i,o,a,c){const d=he(),p=kt(),y=gn+i,E=d[Vt],b=p.firstCreatePass?function t_(i,o,a,c,d,p){const y=o.consts,b=hp(o,i,2,c,js(y,d));return Ov(o,a,b,js(y,p)),null!==b.attrs&&pm(b,b.attrs,!1),null!==b.mergedAttrs&&pm(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(y,p,d,o,a,c):p.data[y],x=d[y]=$f(E,o,function Ld(){return Mt.lFrame.currentNamespace}()),M=Kc(b);return zr(b,!0),Ml(E,x,b),32!=(32&b.flags)&&ou(p,d,x,b),0===function xd(){return Mt.lFrame.elementDepthCount}()&&te(x,d),function xu(){Mt.lFrame.elementDepthCount++}(),M&&(Pv(p,d,b),Mv(p,b,d)),null!==c&&bs(d,b),zl}function bc(){let i=tr();Pd()?function Pu(){Mt.lFrame.isParent=!1}():(i=i.parent,zr(i,!1));const o=i;!function Rd(){Mt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(Bu(a,i),Ra(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function $a(i){return 0!=(8&i.flags)}(o)&&Dp(a,o,he(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function lo(i){return 0!=(16&i.flags)}(o)&&Dp(a,o,he(),o.stylesWithoutHost,!1),bc}function Im(i,o,a,c){return zl(i,o,a,c),bc(),Im}function n_(){return he()}function Dm(i){return!!i&&"function"==typeof i.then}function r_(i){return!!i&&"function"==typeof i.subscribe}const kw=r_;function Gl(i,o,a,c){const d=he(),p=kt(),y=tr();return function xh(i,o,a,c,d,p,y){const E=Kc(c),x=i.firstCreatePass&&Fv(i),M=o[Nn],L=fm(o);let z=!0;if(3&c.type||y){const Ve=fr(c,o),Ze=y?y(Ve):Ve,ut=L.length,St=y?Ut=>y(hr(Ut[c.index])):c.index;let Re=null;if(!y&&E&&(Re=function bm(i,o,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const E=o[Ta],b=d[p+2];return E.length>b?E[b]:null}"string"==typeof y&&(p+=2)}return null}(i,o,d,c.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=p,Re.__ngLastListenerFn__=p,z=!1;else{p=Cm(c,o,M,p,!1);const Ut=a.listen(Ze,d,p);L.push(p,Ut),x&&x.push(d,St,ut,ut+1)}}else p=Cm(c,o,M,p,!1);const Y=c.outputs;let ye;if(z&&null!==Y&&(ye=Y[d])){const Ve=ye.length;if(Ve)for(let Ze=0;Ze<Ve;Ze+=2){const Ln=o[ye[Ze]][ye[Ze+1]].subscribe(p),Qn=L.length;L.push(p,Ln),x&&x.push(d,c.index,Qn,-(Qn+1))}}}(p,d,d[Vt],y,i,o,c),Gl}function Cc(i,o,a,c){try{return Hr(6,o,a),!1!==a(c)}catch(d){return Ih(i,d),!1}finally{Hr(7,o,a)}}function Cm(i,o,a,c,d){return function p(y){if(y===Function)return c;gp(i.componentOffset>-1?er(i.index,o):o);let b=Cc(o,a,c,y),x=p.__ngNextListenerFn__;for(;x;)b=Cc(o,a,x,y)&&b,x=x.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Lw(i=1){return function bf(i){return(Mt.lFrame.contextLView=function Uu(i,o){for(;i>0;)o=o[io],i--;return o}(i,Mt.lFrame.contextLView))[Nn]}(i)}function Qw(i,o=""){const a=he(),c=kt(),d=i+gn,p=c.firstCreatePass?hp(c,d,1,o,null):c.data[d],y=a[d]=function lc(i,o){return i.createText(o)}(a[Vt],o);ou(c,a,y,p),zr(p,!1)}function Mm(i){return Sc("",i,""),Mm}function Sc(i,o,a){const c=he(),d=function Hl(i,o,a,c){return Zr(i,uo(),a)?o+Pe(a)+c:Lt}(c,i,o,a);return d!==Lt&&Cs(c,_r(),d),Sc}function Pm(i,o,a,c,d){const p=he(),y=hu(p,i,o,a,c,d);return y!==Lt&&Cs(p,_r(),y),Pm}const Ac=void 0;var Db=["en",[["a","p"],["AM","PM"],Ac],[["AM","PM"],Ac,Ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ac,"{1} 'at' {0}",Ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Uh(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Vh={};function E_(i){const o=function bb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=oI(o);if(a)return a;const c=o.split("-")[0];if(a=oI(c),a)return a;if("en"===c)return Db;throw new pe(701,!1)}function D_(i){return E_(i)[Tt.PluralCase]}function oI(i){return i in Vh||(Vh[i]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[i]),Vh[i]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Zn="en-US";let or=Zn;class Jl{}class Cn{}function $m(i,o){return new Rn(i,o??null)}class Rn extends Jl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iw(this);const c=zn(o);this._bootstrapComponents=la(c.bootstrap),this._r3Injector=bv(o,a,[{provide:Jl,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Hm extends Cn{constructor(o){super(),this.moduleType=o}create(o){return new Rn(this.moduleType,o)}}class Zh extends Jl{constructor(o,a,c){super(),this.componentFactoryResolver=new Iw(this),this.instance=null;const d=new B0([...o,{provide:Jl,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],a||Qg(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Mi(i,o,a=null){return new Zh(i,o,a).injector}let SI=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=ch(0,a.type),d=c.length>0?Mi([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=dt({token:i,providedIn:"environment",factory:()=>new i(tn(Fl))}),i})();function AI(i){i.getStandaloneInjector=o=>o.get(SI).getOrCreateStandaloneInjector(i)}function qm(i,o,a,c){return function NI(i,o,a,c,d,p){const y=o+a;return Zr(i,y,d)?function Ts(i,o,a){return i[o]=a}(i,y+1,p?c.call(p,d):c(d)):function Qh(i,o){const a=i[o];return a===Lt?void 0:a}(i,y+1)}(he(),function Wn(){const i=Mt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),i,o,a,c)}function Oc(i){return o=>{setTimeout(i,void 0,o)}}const eo=class yn extends v.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),y=c;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),p=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(p=Oc(p),d&&(d=Oc(d)),y&&(y=Oc(y)));const E=super.subscribe({next:d,error:p,complete:y});return o instanceof Q.w0&&o.add(E),E}};function V_(){return this._results[Symbol.iterator]()}class Ym{get changes(){return this._changes||(this._changes=new eo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ym.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=V_)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Bi(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function dl(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let nd=(()=>{class i{}return i.__NG_ELEMENT_ID__=jI,i})();const VI=nd,BI=class extends VI{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tView,d=rm(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[Go]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Fi];return null!==y&&(d[Fi]=y.createEmbeddedView(c)),Rv(c,d,o),new wc(d)}};function jI(){return Qm(tr(),he())}function Qm(i,o){return 4&i.type?new BI(o,i,du(i,o)):null}let Jm=(()=>{class i{}return i.__NG_ELEMENT_ID__=Wb,i})();function Wb(){return zI(tr(),he())}const $I=Jm,HI=class extends $I{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return du(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const o=Bd(this._hostTNode,this._hostLView);if(go(o)){const a=mo(o,this._hostLView),c=$s(o);return new ws(a[qe].data[c+8],a)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=B_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(o,a,c,d,p){const y=o&&!function Yu(i){return"function"==typeof i}(o);let E;if(y)E=a;else{const L=a||{};E=L.index,c=L.injector,d=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const b=y?o:new Ic(gt(o)),x=c||this.parentInjector;if(!p&&null==b.ngModule){const z=(y?x:this.parentInjector).get(Fl,null);z&&(p=z)}const M=b.create(x,d,void 0,p);return this.insert(M.hostView,E),M}insert(o,a){const c=o._lView,d=c[qe];if(function Jc(i){return oi(i[wn])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=c[wn],z=new HI(L,L[Gn],L[wn]);z.detach(z.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function ru(i,o,a,c){const d=dr+c,p=a.length;c>0&&(a[d-1][gi]=o),c<p-dr?(o[gi]=a[d],Of(a,dr+c,o)):(a.push(o),o[gi]=null),o[wn]=a;const y=o[Go];null!==y&&a!==y&&function Wy(i,o){const a=i[so];o[Vn]!==o[wn][wn][Vn]&&(i[qc]=!0),null===a?i[so]=[o]:a.push(o)}(y,o);const E=o[Fi];null!==E&&E.insertView(i),o[Ot]|=64}(d,c,y,p);const E=Es(p,y),b=c[Vt],x=ko(b,y[Wo]);return null!==x&&function Fg(i,o,a,c,d,p){c[pi]=d,c[Gn]=o,xl(i,c,a,1,d,p)}(d,y[Gn],b,c,x,E),o.attachToViewContainerRef(),Of(j_(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=B_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=bl(this._lContainer,a);c&&(Do(j_(this._lContainer),a),Qd(c[qe],c))}detach(o){const a=this._adjustIndex(o,-1),c=bl(this._lContainer,a);return c&&null!=Do(j_(this._lContainer),a)?new wc(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function B_(i){return i[Us]}function j_(i){return i[Us]||(i[Us]=[])}function zI(i,o){let a;const c=o[i.index];if(oi(c))a=c;else{let d;if(8&i.type)d=hr(c);else{const p=o[Vt];d=p.createComment("");const y=fr(i,o);ua(p,ko(p,y),d,function Bg(i,o){return i.nextSibling(o)}(p,y),!1)}o[i.index]=a=lm(c,o,d,i),hm(o,a)}return new HI(a,i,o)}class $_{constructor(o){this.queryList=o,this.matches=null}clone(){return new $_(this.queryList)}setDirty(){this.queryList.setDirty()}}class qp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new qp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ef(o,a).matches&&this.queries[a].setDirty()}}class kc{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class rd{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new rd(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Xh{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Xh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,Xm(a,p)),this.matchTNodeWithReadOption(o,a,vo(a,o,p,!1,!1))}else c===nd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,vo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===fh||d===Jm||d===nd&&4&a.type)this.addMatch(a.index,-2);else{const p=vo(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Xm(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function WI(i,o,a,c){return-1===a?function GI(i,o){return 11&i.type?du(i,o):4&i.type?Qm(i,o):null}(o,i):-2===a?function vu(i,o,a){return a===fh?du(o,i):a===nd?Qm(o,i):a===Jm?zI(o,i):void 0}(i,o,c):Bn(i,i[qe],a,o)}function H_(i,o,a,c){const d=o[Fi].queries[c];if(null===d.matches){const p=i.data,y=a.matches,E=[];for(let b=0;b<y.length;b+=2){const x=y[b];E.push(x<0?null:WI(o,p[x],y[b+1],a.metadata.read))}d.matches=E}return d.matches}function Lc(i,o,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const y=H_(i,o,d,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)c.push(y[E/2]);else{const x=p[E+1],M=o[-b];for(let L=dr;L<M.length;L++){const z=M[L];z[Go]===z[wn]&&Lc(z[qe],z,x,c)}if(null!==M[so]){const L=M[so];for(let z=0;z<L.length;z++){const Y=L[z];Lc(Y[qe],Y,x,c)}}}}}return c}function z_(i){const o=he(),a=kt(),c=Xc();Ou(c+1);const d=ef(a,c);if(i.dirty&&function Au(i){return 4==(4&i[Ot])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Lc(a,o,c,[]):H_(a,o,d,c);i.reset(p,sp),i.notifyOnChanges()}return!0}return!1}function Kp(i,o,a,c){const d=kt();if(d.firstCreatePass){const p=tr();(function ty(i,o,a){null===i.queries&&(i.queries=new rd),i.queries.track(new Xh(o,a))})(d,new kc(o,a,c),p.index),function ny(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Pi(i,o,a){const c=new Ym(4==(4&a));pp(i,o,c,c.destroy),null===o[Fi]&&(o[Fi]=new qp),o[Fi].queries.push(new $_(c))}(d,he(),a)}function ey(){return function id(i,o){return i[Fi].queries[o].queryList}(he(),Xc())}function ef(i,o){return i.queries.getByIndex(o)}function Ni(i){return!!zn(i)}function ig(...i){}const sg=new Zt("Application Initializer");let og=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ig,this.reject=ig,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Dm(p))a.push(p);else if(kw(p)){const y=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(tn(sg,8))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const dE=new Zt("AppId",{providedIn:"root",factory:function Z_(){return`${ag()}${ag()}${ag()}`}});function ag(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const af=new Zt("Platform Initializer"),ug=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let hE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const cg=new Zt("LocaleId",{providedIn:"root",factory:()=>Pn(cg,pt.Optional|pt.SkipSelf)||function fE(){return typeof $localize<"u"&&$localize.locale||Zn}()}),tC=new Zt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class iC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let sC=(()=>{class i{compileModuleSync(a){return new Hm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=la(zn(a).declarations).reduce((y,E)=>{const b=gt(E);return b&&y.push(new Ic(b)),y},[]);return new iC(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mE=(()=>Promise.resolve(0))();function ad(i){typeof Zone>"u"?mE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ms{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eo(!1),this.onMicrotaskEmpty=new eo(!1),this.onStable=new eo(!1),this.onError=new eo(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ea(){let i=Jt.requestAnimationFrame,o=Jt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _E(i){const o=()=>{!function vE(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Jt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,J_(i),i.isCheckStableRunning=!0,cy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),J_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,E)=>{try{return wE(i),a.invokeTask(d,p,y,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),cf(i)}},onInvoke:(a,c,d,p,y,E,b)=>{try{return wE(i),a.invoke(d,p,y,E,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),cf(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,J_(i),cy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ms.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Ms.isInAngularZone())throw new pe(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,lg,ig,ig);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const lg={};function cy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function J_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function wE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function cf(i){i._nesting--,cy(i)}class X_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eo,this.onMicrotaskEmpty=new eo,this.onStable=new eo,this.onError=new eo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const IE=new Zt(""),e0=new Zt("");let ly,t0=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ly||(function aC(i){ly=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ms.assertNotInAngularZone(),ad(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ad(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(tn(Ms),tn(n0),tn(e0))},i.\u0275prov=dt({token:i,factory:i.\u0275fac}),i})(),n0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return ly?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const _u=!1;let Vc=null;const EE=new Zt("AllowMultipleToken"),Da=new Zt("PlatformDestroyListeners"),ud=new Zt("appBootstrapListener");class wu{constructor(o,a){this.name=o,this.token=a}}function Bc(i,o,a=[]){const c=`Platform: ${o}`,d=new Zt(c);return(p=[])=>{let y=hy();if(!y||y.injector.get(EE,!1)){const E=[...a,...p,{provide:d,useValue:!0}];i?i(E):function CE(i){if(Vc&&!Vc.get(EE,!1))throw new pe(400,!1);Vc=i;const o=i.get(fy);(function r0(i){const o=i.get(af,null);o&&o.forEach(a=>a())})(i)}(function jc(i=[],o){return gh.create({name:o,providers:[{provide:vc,useValue:"platform"},{provide:Da,useValue:new Set([()=>Vc=null])},...i]})}(E,c))}return function cd(i){const o=hy();if(!o)throw new pe(401,!1);return o}()}}function hy(){return Vc?.get(fy)??null}let fy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function o0(i,o){let a;return a="noop"===i?new X_:("zone.js"===i?void 0:i)||new Ms(o),a}(c?.ngZone,function py(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Ms,useValue:d}];return d.run(()=>{const y=gh.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(y),b=E.injector.get(op,null);if(!b)throw new pe(402,!1);return d.runOutsideAngular(()=>{const x=d.onError.subscribe({next:M=>{b.handleError(M)}});E.onDestroy(()=>{hg(this._modules,E),x.unsubscribe()})}),function a0(i,o,a){try{const c=a();return Dm(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(b,d,()=>{const x=E.injector.get(og);return x.runInitializers(),x.donePromise.then(()=>(function xs(i){ge(i,"Expected localeId to be defined"),"string"==typeof i&&(or=i.toLowerCase().replace(/_/g,"-"))}(E.injector.get(cg,Zn)||Zn),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const d=TE({},c);return function DE(i,o,a){const c=new Hm(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(dg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new pe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Da,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(tn(gh))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function TE(i,o){return Array.isArray(o)?o.reduce(TE,i):{...i,...o}}let dg=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new O.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ms.assertNotInAngularZone(),ad(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,se.B)()))}bootstrap(a,c){const d=a instanceof $0;if(!this._injector.get(og).done){!d&&lr(a);throw new pe(405,_u)}let y;y=d?a:this._injector.get(hh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function bE(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Jl),x=y.create(gh.NULL,[],c||y.selector,E),M=x.location.nativeElement,L=x.injector.get(IE,null);return L?.registerApplication(M),x.onDestroy(()=>{this.detachView(x.hostView),hg(this.components,x),L?.unregisterApplication(M)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;hg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(ud,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>hg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new pe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(tn(Ms),tn(Fl),tn(op))},i.\u0275prov=dt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hg(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function ld(){return!1}let lC=(()=>{class i{}return i.__NG_ELEMENT_ID__=gg,i})();function gg(i){return function dd(i,o,a){if(qo(i)&&!a){const c=er(i.index,o);return new wc(c,c)}return 47&i.type?new wc(o[Vn],o):null}(tr(),he(),16==(16&i))}class di{constructor(){}supports(o){return Ec(o)}create(o){return new _y(o)}}const xE=(i,o)=>o;class _y{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xE}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<fd(c,d,p)?a:c,E=fd(y,d,p),b=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const x=E-d,M=b-d;if(x!=M){for(let z=0;z<x;z++){const Y=z<p.length?p[z]:p[z]=0,ye=Y+z;M<=ye&&ye<x&&(p[z]=Y+1)}p[y.previousIndex]=M-x}}E!==b&&o(y,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ec(o))throw new pe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),c=!0),a=a._next}else d=0,function Kv(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{y=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new wy(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Iu),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iu),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class wy{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Iu{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new RE,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fd(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class f0{constructor(){}supports(o){return o instanceof Map||vm(o)}create(){return new pd}}class pd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||vm(o)))throw new pe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new gC(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class gC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gd(){return new Iy([new di])}let Iy=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||gd()),deps:[[i,new _t,new Qa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new pe(901,!1)}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:gd}),i})();function p0(){return new g0([new f0])}let g0=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||p0()),deps:[[i,new _t,new Qa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new pe(901,!1)}}return i.\u0275prov=dt({token:i,providedIn:"root",factory:p0}),i})();const Ey=Bc(null,"core",[]);let PE=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(tn(dg))},i.\u0275mod=X({type:i}),i.\u0275inj=ft({}),i})();function vC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},8140:(vt,Se,k)=>{k.d(Se,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=k(6881)},1274:(vt,Se,k)=>{k.d(Se,{Z:()=>v.Z});var v=k(3942)},8463:(vt,Se,k)=>{k.r(Se);var v=k(5861),Q=k(3942),O=k(2090),ie=k(6881),se=k(7582),re=k(1877);k(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ct=be,pe=new O.LL("auth","Firebase",be()),Pe=new re.Yd("@firebase/auth");function Ne(m,...h){Pe.logLevel<=re.in.ERROR&&Pe.error(`Auth (${ie.SDK_VERSION}): ${m}`,...h)}function Ie(m,...h){throw tt(m,...h)}function Ee(m,...h){return tt(m,...h)}function ze(m,h,f){const _=Object.assign(Object.assign({},ct()),{[h]:f});return new O.LL("auth","Firebase",_).create(h,{appName:m.name})}function Le(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Ie(m,"argument-error"),ze(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(m,...h){if("string"!=typeof m){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return pe.create(m,...h)}function ne(m,h,...f){if(!m)throw tt(h,...f)}function bt(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Ne(h),new Error(h)}function Je(m,h){m||bt(h)}function Ht(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Os(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Qi{constructor(h,f){this.shortDelay=h,this.longDelay=f,Je(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Xr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function st(){return"http:"===Os()||"https:"===Os()}()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(m,h){Je(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class le{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oe=new Qi(3e4,6e4);function Ce(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function De(m,h,f,_){return lt.apply(this,arguments)}function lt(){return(lt=(0,v.Z)(function*(m,h,f,_,T={}){return dt(m,T,(0,v.Z)(function*(){let R={},U={};_&&("GET"===h?U=_:R={body:JSON.stringify(_)});const Z=(0,O.xO)(Object.assign({key:m.config.apiKey},U)).slice(1),Ae=yield m._getAdditionalHeaders();return Ae["Content-Type"]="application/json",m.languageCode&&(Ae["X-Firebase-Locale"]=m.languageCode),le.fetch()(In(m,m.config.apiHost,f,Z),Object.assign({method:h,headers:Ae,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function dt(m,h,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,v.Z)(function*(m,h,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},ge),h);try{const T=new pn(m),R=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const U=yield R.json();if("needConfirmation"in U)throw Fn(m,"account-exists-with-different-credential",U);if(R.ok&&!("errorMessage"in U))return U;{const Z=R.ok?U.errorMessage:U.error.message,[Ae,He]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Fn(m,"credential-already-in-use",U);if("EMAIL_EXISTS"===Ae)throw Fn(m,"email-already-in-use",U);if("USER_DISABLED"===Ae)throw Fn(m,"user-disabled",U);const Xe=_[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw ze(m,Xe,He);Ie(m,Xe)}}catch(T){if(T instanceof O.ZR)throw T;Ie(m,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function ft(m,h,f,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,v.Z)(function*(m,h,f,_,T={}){const R=yield De(m,h,f,_,T);return"mfaPendingCredential"in R&&Ie(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function In(m,h,f,_){const T=`${h}${f}?${_}`;return m.config.emulator?ae(m.config,T):`${m.config.apiScheme}://${T}`}class pn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(Ee(this.auth,"network-request-failed")),oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(m,h,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const T=Ee(m,h,_);return T.customData._tokenResponse=f,T}function Mn(){return(Mn=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function ei(){return(ei=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pt(){return(pt=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ti(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Br(){return(Br=(0,v.Z)(function*(m,h=!1){const f=(0,O.m9)(m),_=yield f.getIdToken(h),T=Jt(_);ne(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,U=R?.sign_in_provider;return{claims:T,token:_,authTime:ti(Ji(T.auth_time)),issuedAtTime:ti(Ji(T.iat)),expirationTime:ti(Ji(T.exp)),signInProvider:U||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Ji(m){return 1e3*Number(m)}function Jt(m){const[h,f,_]=m.split(".");if(void 0===h||void 0===f||void 0===_)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(f);return T?JSON.parse(T):(Ne("Failed to decode base64 JWT payload"),null)}catch(T){return Ne("Caught error parsing JWT payload as JSON",T?.toString()),null}}function nt(m,h){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,v.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof O.ZR&&function hi({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class ni{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,v.Z)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,v.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class cr{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(m){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,v.Z)(function*(m){var h;const f=m.auth,_=yield m.getIdToken(),T=yield nt(m,function br(m,h){return pt.apply(this,arguments)}(f,{idToken:_}));ne(T?.users.length,f,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const U=null!==(h=R.providerUserInfo)&&void 0!==h&&h.length?function Kt(m){return m.map(h=>{var{providerId:f}=h,_=(0,se._T)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(R.providerUserInfo):[],Z=function ks(m,h){return[...m.filter(_=>!h.some(T=>T.providerId===_.providerId)),...h]}(m.providerData,U),Xe=!!m.isAnonymous&&!(m.email&&R.passwordHash||Z?.length),et={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Z,metadata:new cr(R.createdAt,R.lastLoginAt),isAnonymous:Xe};Object.assign(m,et)}),Tn.apply(this,arguments)}function dn(){return(dn=(0,v.Z)(function*(m){const h=(0,O.m9)(m);yield jr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function tn(){return(tn=(0,v.Z)(function*(m,h){const f=yield dt(m,{},(0,v.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,U=In(m,T,"/v1/token",`key=${R}`),Z=yield m._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(U,{method:"POST",headers:Z,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class fi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ne(h.idToken,"internal-error"),ne(typeof h.idToken<"u","internal-error"),ne(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function en(m){const h=Jt(m);return ne(h,"internal-error"),ne(typeof h.exp<"u","internal-error"),ne(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var _=this;return(0,v.Z)(function*(){return ne(!_.accessToken||_.refreshToken,h,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,v.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:U}=yield function Xi(m,h){return tn.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(T,R,Number(U))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:T,expirationTime:R}=f,U=new fi;return _&&(ne("string"==typeof _,"internal-error",{appName:h}),U.refreshToken=_),T&&(ne("string"==typeof T,"internal-error",{appName:h}),U.accessToken=T),R&&(ne("number"==typeof R,"internal-error",{appName:h}),U.expirationTime=R),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new fi,this.toJSON())}_performRefresh(){return bt("not implemented")}}function Pn(m,h){ne("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class Hn{constructor(h){var{uid:f,auth:_,stsTokenManager:T}=h,R=(0,se._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new cr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,v.Z)(function*(){const _=yield nt(f,f.stsTokenManager.getToken(f.auth,h));return ne(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function yr(m){return Br.apply(this,arguments)}(this,h)}reload(){return function ri(m){return dn.apply(this,arguments)}(this)}_assign(h){this!==h&&(ne(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new Hn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,v.Z)(function*(){let T=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),T=!0),f&&(yield jr(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,v.Z)(function*(){const f=yield h.getIdToken();return yield nt(h,function ur(m,h){return Mn.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,T,R,U,Z,Ae,He,Xe;const et=null!==(_=f.displayName)&&void 0!==_?_:void 0,bn=null!==(T=f.email)&&void 0!==T?T:void 0,Zs=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,Ol=null!==(U=f.photoURL)&&void 0!==U?U:void 0,nv=null!==(Z=f.tenantId)&&void 0!==Z?Z:void 0,An=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,qg=null!==(He=f.createdAt)&&void 0!==He?He:void 0,Kg=null!==(Xe=f.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:sh,emailVerified:kl,isAnonymous:Wi,providerData:oh,stsTokenManager:yc}=f;ne(sh&&yc,h,"internal-error");const rv=fi.fromJSON(this.name,yc);ne("string"==typeof sh,h,"internal-error"),Pn(et,h.name),Pn(bn,h.name),ne("boolean"==typeof kl,h,"internal-error"),ne("boolean"==typeof Wi,h,"internal-error"),Pn(Zs,h.name),Pn(Ol,h.name),Pn(nv,h.name),Pn(An,h.name),Pn(qg,h.name),Pn(Kg,h.name);const ah=new Hn({uid:sh,auth:h,email:bn,emailVerified:kl,displayName:et,isAnonymous:Wi,photoURL:Ol,phoneNumber:Zs,tenantId:nv,stsTokenManager:rv,createdAt:qg,lastLoginAt:Kg});return oh&&Array.isArray(oh)&&(ah.providerData=oh.map(iv=>Object.assign({},iv))),An&&(ah._redirectEventId=An),ah}static _fromIdTokenResponse(h,f,_=!1){return(0,v.Z)(function*(){const T=new fi;T.updateFromServerResponse(f);const R=new Hn({uid:f.localId,auth:h,stsTokenManager:T,isAnonymous:_});return yield jr(R),R})()}}const Oi=new Map;function _n(m){Je(m instanceof Function,"Expected a class definition");let h=Oi.get(m);return h?(Je(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,Oi.set(m,h),h)}function V(m,h,f){return`firebase:${m}:${h}:${f}`}function J(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Yt(m=(0,O.z$)()){return/android/i.test(m)}function sn(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function es(m=(0,O.z$)()){return sn(m)||Yt(m)||function En(m=(0,O.z$)()){return/webos/i.test(m)}(m)||function Un(m=(0,O.z$)()){return/blackberry/i.test(m)}(m)||/windows phone/i.test(m)||function Ct(m=(0,O.z$)()){return/iemobile/i.test(m)}(m)}function cn(m){return(0,O.m9)(m)}class ls{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return bt("not implemented")}_getIdTokenResponse(h){return bt("not implemented")}_linkToIdToken(h,f){return bt("not implemented")}_getReauthenticationResolver(h){return bt("not implemented")}}function Go(m,h){return ds.apply(this,arguments)}function ds(){return(ds=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ii(m,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:sendOobCode",Ce(m,h))})).apply(this,arguments)}function Wo(){return(Wo=(0,v.Z)(function*(m,h){return ii(m,h)})).apply(this,arguments)}function oi(){return(oi=(0,v.Z)(function*(m,h){return ii(m,h)})).apply(this,arguments)}function Ui(m,h){return Id.apply(this,arguments)}function Id(){return(Id=(0,v.Z)(function*(m,h){return ft(m,"POST","/v1/accounts:signInWithIdp",Ce(m,h))})).apply(this,arguments)}class hs extends ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new hs(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Ie("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T}=f,R=(0,se._T)(f,["providerId","signInMethod"]);if(!_||!T)return null;const U=new hs(_,T);return U.idToken=R.idToken||void 0,U.accessToken=R.accessToken||void 0,U.secret=R.secret,U.nonce=R.nonce,U.pendingToken=R.pendingToken||null,U}_getIdTokenResponse(h){return Ui(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Ui(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ui(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Zc(){return(Zc=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:sendVerificationCode",Ce(m,h))})).apply(this,arguments)}function Ed(){return(Ed=(0,v.Z)(function*(m,h){return ft(m,"POST","/v1/accounts:signInWithPhoneNumber",Ce(m,h))})).apply(this,arguments)}function Cu(){return(Cu=(0,v.Z)(function*(m,h){const f=yield ft(m,"POST","/v1/accounts:signInWithPhoneNumber",Ce(m,h));if(f.temporaryProof)throw Fn(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Dd={USER_NOT_FOUND:"user-not-found"};function Tu(){return(Tu=(0,v.Z)(function*(m,h){return ft(m,"POST","/v1/accounts:signInWithPhoneNumber",Ce(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Dd)})).apply(this,arguments)}class yi extends ls{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new yi({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new yi({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Ag(m,h){return Ed.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function xg(m,h){return Cu.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Vy(m,h){return Tu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:T}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:T,temporaryProof:R}=h;return _||f||T||R?new yi({verificationId:f,verificationCode:_,phoneNumber:T,temporaryProof:R}):null}}class fs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ts extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class oo extends ts{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return ne("providerId"in f&&"signInMethod"in f,"argument-error"),hs._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ne(h.idToken||h.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return oo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return oo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:R,nonce:U,providerId:Z}=h;if(!_&&!T&&!f&&!R||!Z)return null;try{return new oo(Z)._credential({idToken:f,accessToken:_,nonce:U,pendingToken:R})}catch{return null}}}let Yc=(()=>{class m extends ts{constructor(){super("facebook.com")}static credential(f){return hs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Ma=(()=>{class m extends ts{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return hs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:T}=f;if(!_&&!T)return null;try{return m.credential(_,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Cd=(()=>{class m extends ts{constructor(){super("github.com")}static credential(f){return hs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Vs extends ls{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Ui(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Ui(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ui(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T,pendingToken:R}=f;return _&&T&&R&&_===T?new Vs(_,R):null}static _create(h,f){return new Vs(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Su=(()=>{class m extends ts{constructor(){super("twitter.com")}static credential(f,_){return hs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=f;if(!_||!T)return null;try{return m.credential(_,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();class Tr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,T=!1){return(0,v.Z)(function*(){const R=yield Hn._fromIdTokenResponse(h,_,T),U=Na(_);return new Tr({user:R,providerId:U,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,v.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const T=Na(_);return new Tr({user:h,providerId:T,_tokenResponse:_,operationType:f})})()}}function Na(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}class ps extends O.ZR{constructor(h,f,_,T){var R;super(f.code,f.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,ps.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,T){return new ps(h,f,_,T)}}function fr(m,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ps._fromErrorAndOperation(m,R,h,_):R})}function Td(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Sr(){return Sr=(0,v.Z)(function*(m,h){const f=(0,O.m9)(m);yield gs(!0,f,h);const{providerUserInfo:_}=yield function Vr(m,h){return ei.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),T=Td(_||[]);return f.providerData=f.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Sr.apply(this,arguments)}function er(m,h){return Au.apply(this,arguments)}function Au(){return(Au=(0,v.Z)(function*(m,h,f=!1){const _=yield nt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return Tr._forOperation(m,"link",_)})).apply(this,arguments)}function gs(m,h,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,v.Z)(function*(m,h,f){yield jr(h);const T=!1===m?"provider-already-linked":"no-such-provider";ne(Td(h.providerData).has(f)===m,h.auth,T)})).apply(this,arguments)}function js(m,h){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,v.Z)(function*(m,h,f=!1){const{auth:_}=m,T="reauthenticate";try{const R=yield nt(m,fr(_,T,h,m),f);ne(R.idToken,_,"internal-error");const U=Jt(R.idToken);ne(U,_,"internal-error");const{sub:Z}=U;return ne(m.uid===Z,_,"user-mismatch"),Tr._forOperation(m,T,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ie(_,"user-mismatch"),R}})).apply(this,arguments)}function Oa(m,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,v.Z)(function*(m,h,f=!1){const _="signIn",T=yield fr(m,_,h),R=yield Tr._fromIdTokenResponse(m,_,T);return f||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function xd(m,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,v.Z)(function*(m,h){const f=(0,O.m9)(m);return yield gs(!1,f,h.providerId),er(f,h)})).apply(this,arguments)}function Rd(m,h){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,v.Z)(function*(m,h){return js((0,O.m9)(m),h)})).apply(this,arguments)}class La{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Fa._fromServerResponse(h,f):"totpInfo"in f?tr._fromServerResponse(h,f):Ie(h,"internal-error")}}class Fa extends La{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Fa(f)}}class tr extends La{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new tr(f)}}function ao(m,h,f){var _;ne((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),ne(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ne(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(ne(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Ba(){return Ba=(0,v.Z)(function*(m,h){const f=(0,O.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&ao(f.auth,T,h);const{email:R}=yield function qc(m,h){return Wo.apply(this,arguments)}(f.auth,T);R!==m.email&&(yield m.reload())}),Ba.apply(this,arguments)}function ja(){return ja=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&ao(_.auth,R,f);const{email:U}=yield function si(m,h){return oi.apply(this,arguments)}(_.auth,R);U!==m.email&&(yield m.reload())}),ja.apply(this,arguments)}function Fu(){return(Fu=(0,v.Z)(function*(m,h){return De(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Uu(){return Uu=(0,v.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,O.m9)(m),R={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},U=yield nt(_,function kd(m,h){return Fu.apply(this,arguments)}(_.auth,R));_.displayName=U.displayName||null,_.photoURL=U.photoUrl||null;const Z=_.providerData.find(({providerId:Ae})=>"password"===Ae);Z&&(Z.displayName=_.displayName,Z.photoURL=_.photoURL),yield _._updateTokensIfNecessary(U)}),Uu.apply(this,arguments)}function Dn(m,h,f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,v.Z)(function*(m,h,f){const{auth:_}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(R.email=h),f&&(R.password=f);const U=yield nt(m,Go(_,R));yield m._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class co{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class Tf extends co{constructor(h,f,_,T){super(h,f,_),this.username=T}}class Ld extends co{constructor(h,f){super(h,"facebook.com",f)}}class Ng extends Tf{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Bu extends co{constructor(h,f){super(h,"google.com",f)}}class tl extends Tf{constructor(h,f,_){super(h,"twitter.com",f,_)}}function nl(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Cf(m){var h,f;if(!m)return null;const{providerId:_}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const U=null===(f=null===(h=Jt(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(U)return new co(R,"anonymous"!==U&&"custom"!==U?U:null)}if(!_)return null;switch(_){case"facebook.com":return new Ld(R,T);case"github.com":return new Ng(R,T);case"google.com":return new Bu(R,T);case"twitter.com":return new tl(R,T,m.screenName||null);case"custom":case"anonymous":return new co(R,null);default:return new co(R,_,T)}}(f)}class lo{constructor(h,f,_){this.type=h,this.credential=f,this.auth=_}static _fromIdtoken(h,f){return new lo("enroll",h,f)}static _fromMfaPendingCredential(h){return new lo("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return lo._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return lo._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ho{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=cn(h),T=f.customData._serverResponse,R=(T.mfaInfo||[]).map(Z=>La._fromServerResponse(_,Z));ne(T.mfaPendingCredential,_,"internal-error");const U=lo._fromMfaPendingCredential(T.mfaPendingCredential);return new ho(U,R,function(){var Z=(0,v.Z)(function*(Ae){const He=yield Ae._process(_,U);delete T.mfaInfo,delete T.mfaPendingCredential;const Xe=Object.assign(Object.assign({},T),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const et=yield Tr._fromIdTokenResponse(_,f.operationType,Xe);return yield _._updateCurrentUser(et.user),et;case"reauthenticate":return ne(f.user,_,"internal-error"),Tr._forOperation(f.user,f.operationType,Xe);default:Ie(_,"internal-error")}});return function(Ae){return Z.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,v.Z)(function*(){return f.signInResolver(h)})()}}class go{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>La._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new go(h)}getSession(){var h=this;return(0,v.Z)(function*(){return lo._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var _=this;return(0,v.Z)(function*(){const T=h,R=yield _.getSession(),U=yield nt(_.user,T._process(_.user.auth,R,f));return yield _.user._updateTokensIfNecessary(U),_.user.reload()})()}unenroll(h){var f=this;return(0,v.Z)(function*(){const _="string"==typeof h?h:h.uid,T=yield f.user.getIdToken();try{const R=yield nt(f.user,function Hu(m,h){return De(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(m,h))}(f.user.auth,{idToken:T,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:U})=>U!==_),yield f.user._updateTokensIfNecessary(R),yield f.user.reload()}catch(R){throw R}})()}}const $s=new WeakMap;class zu{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const yo=(()=>{class m extends zu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ha(){const m=(0,O.z$)();return J(m)||sn(m)}()&&function Ca(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=es(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),R=this.localCache[_];T!==R&&f(_,R,T)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((Z,Ae,He)=>{this.notifyListeners(Z,He)});const T=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(T);if(f.newValue!==Z)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!_)return}const R=()=>{const Z=this.storage.getItem(T);!_&&this.localCache[T]===Z||this.notifyListeners(T,Z)},U=this.storage.getItem(T);!function Li(){return(0,O.w1)()&&10===document.documentMode}()||U===f.newValue||f.newValue===f.oldValue?R():setTimeout(R,10)}notifyListeners(f,_){this.localCache[f]=_;const T=this.listeners[f];if(T)for(const R of Array.from(T))R(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var T=()=>super._set,R=this;return(0,v.Z)(function*(){yield T().call(R,f,_),R.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,T=this;return(0,v.Z)(function*(){const R=yield _().call(T,f);return T.localCache[f]=JSON.stringify(R),R})()}_remove(f){var _=()=>super._remove,T=this;return(0,v.Z)(function*(){yield _().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),_s=(()=>{class m extends zu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();function na(m="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return m+f}function hn(){return window}const Za="recaptcha";class rs{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=yi._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Ju(){return(Ju=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m);yield gs(!1,_,"phone");const T=yield Xu(_.auth,h,(0,O.m9)(f));return new rs(T,R=>xd(_,R))})).apply(this,arguments)}function hl(){return(hl=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m),T=yield Xu(_.auth,h,(0,O.m9)(f));return new rs(T,R=>Rd(_,R))})).apply(this,arguments)}function Xu(m,h,f){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,v.Z)(function*(m,h,f){var _;const T=yield f.verify();try{let R;if(ne("string"==typeof T,m,"argument-error"),ne(f.type===Za,m,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const U=R.session;if("phoneNumber"in R)return ne("enroll"===U.type,m,"internal-error"),(yield function ea(m,h){return De(m,"POST","/v2/accounts/mfaEnrollment:start",Ce(m,h))}(m,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ne("signin"===U.type,m,"internal-error");const Z=(null===(_=R.multiFactorHint)||void 0===_?void 0:_.uid)||R.multiFactorUid;return ne(Z,m,"missing-multi-factor-info"),(yield function Io(m,h){return De(m,"POST","/v2/accounts/mfaSignIn:start",Ce(m,h))}(m,{mfaPendingCredential:U.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield function Sg(m,h){return Zc.apply(this,arguments)}(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return U}}finally{f._reset()}}),Gr.apply(this,arguments)}function wi(){return(wi=(0,v.Z)(function*(m,h){yield er((0,O.m9)(m),h)})).apply(this,arguments)}let ot=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=cn(f)}verifyPhoneNumber(f,_){return Xu(this.auth,f,(0,O.m9)(_))}static credential(f,_){return yi._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:T}=f;return _&&T?yi._fromTokenResponse(_,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ar(m,h){return h?_n(h):(ne(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Sn extends ls{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ui(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Ui(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Ui(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Hd(m){return Oa(m.auth,new Sn(m),m.bypassAuthState)}function Ya(m){const{auth:h,user:f}=m;return ne(f,h,"internal-error"),js(f,new Sn(m),m.bypassAuthState)}function Ii(m){return ec.apply(this,arguments)}function ec(){return(ec=(0,v.Z)(function*(m){const{auth:h,user:f}=m;return ne(f,h,"internal-error"),er(f,new Sn(m),m.bypassAuthState)})).apply(this,arguments)}class fl{constructor(h,f,_,T,R=!1){this.auth=h,this.resolver=_,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,v.Z)(function*(_,T){h.pendingPromise={resolve:_,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(_,T){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,v.Z)(function*(){const{urlResponse:_,sessionId:T,postBody:R,tenantId:U,error:Z,type:Ae}=h;if(Z)return void f.reject(Z);const He={auth:f.auth,requestUri:_,sessionId:T,tenantId:U||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(He))}catch(Xe){f.reject(Xe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Hd;case"linkViaPopup":case"linkViaRedirect":return Ii;case"reauthViaPopup":case"reauthViaRedirect":return Ya;default:Ie(this.auth,"internal-error")}}resolve(h){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ei=new Qi(2e3,1e4);function zs(){return(zs=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m);Le(_.auth,h,fs);const T=Ar(_.auth,f);return new nc(_.auth,"reauthViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}function pl(){return(pl=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m);Le(_.auth,h,fs);const T=Ar(_.auth,f);return new nc(_.auth,"linkViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}let nc=(()=>{class m extends fl{constructor(f,_,T,R,U){super(f,_,R,U),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,v.Z)(function*(){const _=yield f.execute();return ne(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,v.Z)(function*(){Je(1===f.filter.length,"Popup operations only handle one event");const _=na();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(Ee(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Ei.get())};f()}}return m.currentPopupAction=null,m})();const bo="pendingRedirect",Co=new Map;class xr extends fl{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,v.Z)(function*(){let _=Co.get(f.auth._key());if(!_){try{const R=(yield function gl(m,h){return ml.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(R)}catch(T){_=()=>Promise.reject(T)}Co.set(f.auth._key(),_)}return f.bypassAuthState||Co.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,v.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const T=yield _.auth._redirectUserForId(h.eventId);if(T)return _.user=T,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function ml(){return(ml=(0,v.Z)(function*(m,h){const f=Ja(h),_=ic(m);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(f));return yield _._remove(f),T})).apply(this,arguments)}function To(m,h){return So.apply(this,arguments)}function So(){return(So=(0,v.Z)(function*(m,h){return ic(m)._set(Ja(h),"true")})).apply(this,arguments)}function zd(m,h){Co.set(m._key(),h)}function ic(m){return _n(m._redirectPersistence)}function Ja(m){return V(bo,m.config.apiKey,m.name)}function eu(m,h,f){return function ji(m,h,f){return tu.apply(this,arguments)}(m,h,f)}function tu(){return(tu=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m);Le(_.auth,h,fs),yield _.auth._initializationPromise;const T=Ar(_.auth,f);yield To(T,_.auth);const R=yield jn(_);return T._openRedirect(_.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function Rr(m,h,f){return function yl(m,h,f){return vl.apply(this,arguments)}(m,h,f)}function vl(){return(vl=(0,v.Z)(function*(m,h,f){const _=(0,O.m9)(m);Le(_.auth,h,fs),yield _.auth._initializationPromise;const T=Ar(_.auth,f);yield gs(!1,_,h.providerId),yield To(T,_.auth);const R=yield jn(_);return T._openRedirect(_.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function xo(m,h){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,v.Z)(function*(m,h,f=!1){const _=cn(m),T=Ar(_,h),U=yield new xr(_,T,f).execute();return U&&!f&&(delete U.user._redirectEventId,yield _._persistUserIfCurrent(U.user),yield _._setRedirectUser(null,h)),U})).apply(this,arguments)}function jn(m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,v.Z)(function*(m){const h=na(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class oa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function pr(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!is(h)){const T=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(Ee(this.auth,T))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(h))}saveEventToCache(h){this.cachedEventUids.add($i(h)),this.lastProcessedEventTime=Date.now()}}function $i(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function is({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function Mo(m){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,v.Z)(function*(m,h={}){return De(m,"GET","/v1/projects",h)})).apply(this,arguments)}const sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oc=/^https?/;function Is(){return(Is=(0,v.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Mo(m);for(const f of h)try{if(wl(f))return}catch{}Ie(m,"unauthorized-domain")})).apply(this,arguments)}function wl(m){const h=Ht(),{protocol:f,hostname:_}=new URL(h);if(m.startsWith("chrome-extension://")){const U=new URL(m);return""===U.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&U.hostname===_}if(!oc.test(f))return!1;if(sc.test(m))return _===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const uc=new Qi(3e4,6e4);function It(){const m=hn().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let cc=null;function Di(m){return cc=cc||function Hi(m){return new Promise((h,f)=>{var _,T,R;function U(){It(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{It(),f(Ee(m,"network-request-failed"))},timeout:uc.get()})}if(null!==(T=null===(_=hn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(R=hn().gapi)||void 0===R||!R.load){const Z=function zn(m){return`__${m}${Math.floor(1e6*Math.random())}`}("iframefcb");return hn()[Z]=()=>{gapi.load?U():f(Ee(m,"network-request-failed"))},function lr(m){return new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=h,_.onerror=T=>{const R=Ee("internal-error");R.customData=T,f(R)},_.type="text/javascript",_.charset="UTF-8",function Qt(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(_)})}(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Ae=>f(Ae))}U()}}).catch(h=>{throw cc=null,h})}(m),cc}const Uf=new Qi(5e3,15e3),Wd="__/auth/iframe",zi="emulator/auth/iframe",qd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zd(m){const h=m.config;ne(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?ae(h,zi):`https://${m.config.authDomain}/${Wd}`,_={apiKey:h.apiKey,appName:m.name,v:ie.SDK_VERSION},T=Kd.get(m.config.apiHost);T&&(_.eid=T);const R=m._getFrameworks();return R.length&&(_.fw=R.join(",")),`${f}?${(0,O.xO)(_).slice(1)}`}function D(){return D=(0,v.Z)(function*(m){const h=yield Di(m),f=hn().gapi;return ne(f,m,"internal-error"),h.open({where:document.body,url:Zd(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qd,dontclear:!0},_=>new Promise(function(){var T=(0,v.Z)(function*(R,U){yield _.restyle({setHideOnLeave:!1});const Z=Ee(m,"network-request-failed"),Ae=hn().setTimeout(()=>{U(Z)},Uf.get());function He(){hn().clearTimeout(Ae),R(_)}_.ping(He).then(He,()=>{U(Z)})});return function(R,U){return T.apply(this,arguments)}}()))}),D.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,H=600,K="_blank",te="http://localhost";class Ge{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $e(m,h,f,_=N,T=H){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-_)/2,0).toString();let Z="";const Ae=Object.assign(Object.assign({},A),{width:_.toString(),height:T.toString(),top:R,left:U}),He=(0,O.z$)().toLowerCase();f&&(Z=function Fe(m=(0,O.z$)()){return/crios\//i.test(m)}(He)?K:f),function ve(m=(0,O.z$)()){return/firefox\//i.test(m)}(He)&&(h=h||te,Ae.scrollbars="yes");const Xe=Object.entries(Ae).reduce((bn,[Zs,Ol])=>`${bn}${Zs}=${Ol},`,"");if(function Cr(m=(0,O.z$)()){var h;return sn(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(He)&&"_self"!==Z)return function at(m,h){const f=document.createElement("a");f.href=m,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",Z),new Ge(null);const et=window.open(h||"",Z,Xe);ne(et,m,"popup-blocked");try{et.focus()}catch{}return new Ge(et)}const At="__/auth/handler",xt="emulator/auth/handler",Mr=encodeURIComponent("fac");function fn(m,h,f,_,T,R){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,v.Z)(function*(m,h,f,_,T,R){ne(m.config.authDomain,m,"auth-domain-config-required"),ne(m.config.apiKey,m,"invalid-api-key");const U={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:ie.SDK_VERSION,eventId:T};if(h instanceof fs){h.setDefaultLanguage(m.languageCode),U.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(U.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Xe,et]of Object.entries(R||{}))U[Xe]=et}if(h instanceof ts){const Xe=h.getScopes().filter(et=>""!==et);Xe.length>0&&(U.scopes=Xe.join(","))}m.tenantId&&(U.tid=m.tenantId);const Z=U;for(const Xe of Object.keys(Z))void 0===Z[Xe]&&delete Z[Xe];const Ae=yield m._getAppCheckToken(),He=Ae?`#${Mr}=${encodeURIComponent(Ae)}`:"";return`${function Gs({config:m}){return m.emulator?ae(m,xt):`https://${m.authDomain}/${At}`}(m)}?${(0,O.xO)(Z).slice(1)}${He}`})).apply(this,arguments)}const Po="webStorageSupport",Gi=class gr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=xo,this._overrideRedirectResult=zd}_openPopup(h,f,_,T){var R=this;return(0,v.Z)(function*(){var U;Je(null===(U=R.eventManagers[h._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const Z=yield fn(h,f,_,Ht(),T);return $e(h,Z,na())})()}_openRedirect(h,f,_,T){var R=this;return(0,v.Z)(function*(){return yield R._originValidation(h),function jd(m){hn().location.href=m}(yield fn(h,f,_,Ht(),T)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:T,promise:R}=this.eventManagers[f];return T?Promise.resolve(T):(Je(R,"If manager is not set, promise should be"),R)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,v.Z)(function*(){const _=yield function I(m){return D.apply(this,arguments)}(h),T=new oa(h);return _.register("authEvent",R=>(ne(R?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:T},f.iframes[h._key()]=_,T})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Po,{type:Po},T=>{var R;const U=null===(R=T?.[0])||void 0===R?void 0:R[Po];void 0!==U&&f(!!U),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ac(m){return Is.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return es()||J()||sn()}};function ru(){return window}const Wy=2e3;function bl(){return bl=(0,v.Z)(function*(m,h,f){var _;const{BuildInfo:T}=ru();Je(h.sessionId,"AuthEvent did not contain a session ID");const R=yield function ua(m){return Cl.apply(this,arguments)}(h.sessionId),U={};return sn()?U.ibi=T.packageName:Yt()?U.apn=T.packageName:Ie(m,"operation-not-supported-in-this-environment"),T.displayName&&(U.appDisplayName=T.displayName),U.sessionId=R,fn(m,f,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,U)}),bl.apply(this,arguments)}function aa(){return(aa=(0,v.Z)(function*(m){const{BuildInfo:h}=ru(),f={};sn()?f.iosBundleId=h.packageName:Yt()?f.androidPackageName=h.packageName:Ie(m,"operation-not-supported-in-this-environment"),yield Mo(m,f)})).apply(this,arguments)}function dc(){return(dc=(0,v.Z)(function*(m,h,f){const{cordova:_}=ru();let T=()=>{};try{yield new Promise((R,U)=>{let Z=null;function Ae(){var et;R();const bn=null===(et=_.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof bn&&bn(),"function"==typeof f?.close&&f.close()}function He(){Z||(Z=window.setTimeout(()=>{U(Ee(m,"redirect-cancelled-by-user"))},Wy))}function Xe(){"visible"===document?.visibilityState&&He()}h.addPassiveListener(Ae),document.addEventListener("resume",He,!1),Yt()&&document.addEventListener("visibilitychange",Xe,!1),T=()=>{h.removePassiveListener(Ae),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",Xe,!1),Z&&window.clearTimeout(Z)}})}finally{T()}})).apply(this,arguments)}function Cl(){return(Cl=(0,v.Z)(function*(m){const h=function Vg(m){if(Je(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),f=new Uint8Array(h);for(let _=0;_<m.length;_++)f[_]=m.charCodeAt(_);return f}(m),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Tl=20;class Jd extends oa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,v.Z)(function*(){yield h.initPromise})()}}function Xd(m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,v.Z)(function*(m){const h=yield eh()._get(ou(m));return h&&(yield eh()._remove(ou(m))),h})).apply(this,arguments)}function Hf(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<Tl;f++){const _=Math.floor(Math.random()*h.length);m.push(h.charAt(_))}return m.join("")}function eh(){return _n(yo)}function ou(m){return V("authEvent",m.config.apiKey,m.name)}function Es(m){if(!m?.includes("?"))return{};const[h,...f]=m.split("?");return(0,O.zd)(f.join("?"))}const xl=class Al{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xo,this._overrideRedirectResult=zd}_initialize(h){var f=this;return(0,v.Z)(function*(){const _=h._key();let T=f.eventManagers.get(_);return T||(T=new Jd(h),f.eventManagers.set(_,T),f.attachCallbackListeners(h,T)),T})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,_,T){var R=this;return(0,v.Z)(function*(){!function Ky(m){var h,f,_,T,R,U,Z,Ae,He,Xe;const et=ru();ne("function"==typeof(null===(h=et?.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(f=et?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(R=null===(T=null===(_=et?.cordova)||void 0===_?void 0:_.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ae=null===(Z=null===(U=et?.cordova)||void 0===U?void 0:U.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ae?void 0:Ae.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Xe=null===(He=et?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===Xe?void 0:Xe.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const U=yield R._initialize(h);yield U.initialized(),U.resetRedirect(),function rc(){Co.clear()}(),yield R._originValidation(h);const Z=function ko(m,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:Hf(),postBody:null,tenantId:m.tenantId,error:Ee(m,"no-auth-event")}}(h,_,T);yield function Bg(m,h){return eh()._set(ou(m),h)}(h,Z);const Ae=yield function Ug(m,h,f){return bl.apply(this,arguments)}(h,Z,f),He=yield function qy(m){const{cordova:h}=ru();return new Promise(f=>{h.plugins.browsertab.isAvailable(_=>{let T=null;_?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function zt(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Ae);return function iu(m,h,f){return dc.apply(this,arguments)}(h,U,He)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qd(m){return aa.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:_,handleOpenURL:T,BuildInfo:R}=ru(),U=setTimeout((0,v.Z)(function*(){yield Xd(h),f.onEvent(Gf())}),500),Z=function(){var Xe=(0,v.Z)(function*(et){clearTimeout(U);const bn=yield Xd(h);let Zs=null;bn&&et?.url&&(Zs=function su(m,h){var f,_;const T=function nh(m){const h=Es(m),f=h.link?decodeURIComponent(h.link):void 0,_=Es(f).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Es(T).link||T||_||f||m}(h);if(T.includes("/__/auth/callback")){const R=Es(T),U=R.firebaseError?function th(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,Z=null===(_=null===(f=U?.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],Ae=Z?Ee(Z):null;return Ae?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(bn,et.url)),f.onEvent(Zs||Gf())});return function(bn){return Xe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Z);const Ae=T,He=`${R.packageName.toLowerCase()}://`;ru().handleOpenURL=function(){var Xe=(0,v.Z)(function*(et){if(et.toLowerCase().startsWith(He)&&Z({url:et}),"function"==typeof Ae)try{Ae(et)}catch(bn){console.error(bn)}});return function(et){return Xe.apply(this,arguments)}}()}};function Gf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}const qf=1e3;function ss(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function jg(){return function ca(m=(0,O.z$)()){return!("file:"!==ss()&&"ionic:"!==ss()&&"capacitor:"!==ss()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function fc(){return(fc=(0,v.Z)(function*(){return!!jg()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},qf);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const Yf="persistence";function Qf(m){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,v.Z)(function*(m){yield m._initializationPromise;const h=function Xf(){var m;try{return(null===(m=function Zf(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}(),f=V(Yf,m.config.apiKey,m.name);h&&h.setItem(f,m._getPersistence())})).apply(this,arguments)}const ep=ne;class Pr{constructor(){this.browserResolver=_n(Gi),this.cordovaResolver=_n(xl),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=xo,this._overrideRedirectResult=zd}_initialize(h){var f=this;return(0,v.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,_,T){var R=this;return(0,v.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,f,_,T)})()}_openRedirect(h,f,_,T){var R=this;return(0,v.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,f,_,T)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return jg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ep(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,v.Z)(function*(){if(h.underlyingResolver)return;const f=yield function $g(){return fc.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function Ci(m){return m.unwrap()}function Xy(m){return tv(m)}function tv(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ot.credentialFromResult(m);const f=h.providerId;if(!f||f===fe.PASSWORD)return null;let _;switch(f){case fe.GOOGLE:_=Ma;break;case fe.FACEBOOK:_=Yc;break;case fe.GITHUB:_=Cd;break;case fe.TWITTER:_=Su;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:U,pendingToken:Z,nonce:Ae}=h;return R||U||T||Z?Z?f.startsWith("saml.")?Vs._create(f,Z):hs._fromParams({providerId:f,signInMethod:f,pendingToken:Z,idToken:T,accessToken:R}):new oo(f).credential({idToken:T,accessToken:R,rawNonce:Ae}):null}return m instanceof O.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function wr(m,h){return h.catch(f=>{throw f instanceof O.ZR&&function ev(m,h){var f;const _=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new ih(m,function $u(m,h){var f;const _=(0,O.m9)(m),T=h;return ne(h.customData.operationType,_,"argument-error"),ne(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),ho._fromError(_,T)}(m,h));else if(_){const T=tv(h),R=h;T&&(R.credential=T,R.tenantId=_.tenantId||void 0,R.email=_.email||void 0,R.phoneNumber=_.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:Xy(f),additionalUserInfo:nl(f),user:Ks.getOrCreate(T)}})}function tp(m,h){return rh.apply(this,arguments)}function rh(){return(rh=(0,v.Z)(function*(m,h){const f=yield h;return{verificationId:f.verificationId,confirm:_=>wr(m,f.confirm(_))}})).apply(this,arguments)}class ih{constructor(h,f){this.resolver=f,this.auth=function pc(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return wr(Ci(this.auth),this.resolver.resolveSignIn(h))}}class Ks{constructor(h){this._delegate=h,this.multiFactor=function Ud(m){const h=(0,O.m9)(m);return $s.has(h)||$s.set(h,go._fromUser(h)),$s.get(h)}(h)}static getOrCreate(h){return Ks.USER_MAP.has(h)||Ks.USER_MAP.set(h,new Ks(h)),Ks.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,v.Z)(function*(){return wr(f.auth,xd(f._delegate,h))})()}linkWithPhoneNumber(h,f){var _=this;return(0,v.Z)(function*(){return tp(_.auth,function Qu(m,h,f){return Ju.apply(this,arguments)}(_._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,v.Z)(function*(){return wr(f.auth,function _t(m,h,f){return pl.apply(this,arguments)}(f._delegate,h,Pr))})()}linkWithRedirect(h){var f=this;return(0,v.Z)(function*(){return yield Qf(cn(f.auth)),Rr(f._delegate,h,Pr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,v.Z)(function*(){return wr(f.auth,Rd(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return tp(this.auth,function kf(m,h,f){return hl.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return wr(this.auth,function Qa(m,h,f){return zs.apply(this,arguments)}(this._delegate,h,Pr))}reauthenticateWithRedirect(h){var f=this;return(0,v.Z)(function*(){return yield Qf(cn(f.auth)),eu(f._delegate,h,Pr)})()}sendEmailVerification(h){return function Lu(m,h){return Ba.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,v.Z)(function*(){return yield function Sd(m,h){return Sr.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function _r(m,h){return Dn((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function ys(m,h){return Dn((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function ln(m,h){return wi.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function bf(m,h){return Uu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function el(m,h,f){return ja.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ks.USER_MAP=new WeakMap;class cu{constructor(){this.providerId="phone",this._delegate=new ot(Ci(Q.Z.auth()))}static credential(h,f){return ot.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=ot.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=ot.PROVIDER_ID},3942:(vt,Se,k)=>{k.d(Se,{Z:()=>We});var v=k(2090),Q=k(4859),O=k(6881),ie=k(1877);class se{constructor(pe,Me){this._delegate=pe,this.firebase=Me,(0,O._addComponent)(pe,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(pe,Me=O._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(pe);return!Be.isInitialized()&&"EXPLICIT"===(null===(Pe=Be.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Me})}_removeServiceInstance(pe,Me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Me)}_addComponent(pe){(0,O._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,O._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function fe(){const ct=function we(ct){const pe={},Me={__esModule:!0,initializeApp:function Ne(Le,tt={}){const ne=O.initializeApp(Le,tt);if((0,v.r3)(pe,ne.name))return pe[ne.name];const bt=new ct(ne,Me);return pe[ne.name]=bt,bt},app:Be,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Le){const tt=Le.name,ne=tt.replace("-compat","");if(O._registerComponent(Le)&&"PUBLIC"===Le.type){const bt=(Je=Be())=>{if("function"!=typeof Je[ne])throw me.create("invalid-app-argument",{appName:tt});return Je[ne]()};void 0!==Le.serviceProps&&(0,v.ZB)(bt,Le.serviceProps),Me[ne]=bt,ct.prototype[ne]=function(...Je){return this._getService.bind(this,tt).apply(this,Le.multipleInstances?Je:[])}}return"PUBLIC"===Le.type?Me[ne]:null},removeApp:function Pe(Le){delete pe[Le]},useAsService:function ze(Le,tt){return"serverAuth"===tt?null:tt},modularAPIs:O}};function Be(Le){if(!(0,v.r3)(pe,Le=Le||O._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Le});return pe[Le]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Ie(){return Object.keys(pe).map(Le=>pe[Le])}}),Be.App=ct,Me}(se);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function pe(Me){(0,v.ZB)(ct,Me)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),ct}(),j=new ie.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=$;!function be(ct){(0,O.registerVersion)("@firebase/app-compat","0.2.13",ct)}()},6881:(vt,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ks,_DEFAULT_ENTRY_NAME:()=>Br,_addComponent:()=>nt,_addOrOverwriteComponent:()=>Rt,_apps:()=>Jt,_clearComponents:()=>jr,_components:()=>en,_getProvider:()=>ni,_registerComponent:()=>hi,_removeServiceInstance:()=>cr,deleteApp:()=>fi,getApp:()=>Xi,getApps:()=>tn,initializeApp:()=>Kt,onLog:()=>Oi,registerVersion:()=>Hn,setLogLevel:()=>_n});var v=k(5861),Q=k(4859),O=k(1877),ie=k(2090);const se=(de,X)=>X.some(Oe=>de instanceof Oe);let re,me;const $=new WeakMap,j=new WeakMap,q=new WeakMap,je=new WeakMap,be=new WeakMap;let pe={get(de,X,Oe){if(de instanceof IDBTransaction){if("done"===X)return j.get(de);if("objectStoreNames"===X)return de.objectStoreNames||q.get(de);if("store"===X)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Ne(de[X])},set:(de,X,Oe)=>(de[X]=Oe,!0),has:(de,X)=>de instanceof IDBTransaction&&("done"===X||"store"===X)||X in de};function Be(de){return"function"==typeof de?function Pe(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...X){return de.apply(Ie(this),X),Ne($.get(this))}:function(...X){return Ne(de.apply(Ie(this),X))}:function(X,...Oe){const ht=de.call(Ie(this),X,...Oe);return q.set(ht,X.sort?X.sort():[X]),Ne(ht)}}(de):(de instanceof IDBTransaction&&function ct(de){if(j.has(de))return;const X=new Promise((Oe,ht)=>{const Dt=()=>{de.removeEventListener("complete",jt),de.removeEventListener("error",gt),de.removeEventListener("abort",gt)},jt=()=>{Oe(),Dt()},gt=()=>{ht(de.error||new DOMException("AbortError","AbortError")),Dt()};de.addEventListener("complete",jt),de.addEventListener("error",gt),de.addEventListener("abort",gt)});j.set(de,X)}(de),se(de,function we(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,pe):de)}function Ne(de){if(de instanceof IDBRequest)return function We(de){const X=new Promise((Oe,ht)=>{const Dt=()=>{de.removeEventListener("success",jt),de.removeEventListener("error",gt)},jt=()=>{Oe(Ne(de.result)),Dt()},gt=()=>{ht(de.error),Dt()};de.addEventListener("success",jt),de.addEventListener("error",gt)});return X.then(Oe=>{Oe instanceof IDBCursor&&$.set(Oe,de)}).catch(()=>{}),be.set(X,de),X}(de);if(je.has(de))return je.get(de);const X=Be(de);return X!==de&&(je.set(de,X),be.set(X,de)),X}const Ie=de=>be.get(de),Le=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],ne=new Map;function bt(de,X){if(!(de instanceof IDBDatabase)||X in de||"string"!=typeof X)return;if(ne.get(X))return ne.get(X);const Oe=X.replace(/FromIndex$/,""),ht=X!==Oe,Dt=tt.includes(Oe);if(!(Oe in(ht?IDBIndex:IDBObjectStore).prototype)||!Dt&&!Le.includes(Oe))return;const jt=function(){var gt=(0,v.Z)(function*(Xt,...Qt){const lr=this.transaction(Xt,Dt?"readwrite":"readonly");let zn=lr.store;return ht&&(zn=zn.index(Qt.shift())),(yield Promise.all([zn[Oe](...Qt),Dt&&lr.done]))[0]});return function(Qt){return gt.apply(this,arguments)}}();return ne.set(X,jt),jt}!function Me(de){pe=de(pe)}(de=>({...de,get:(X,Oe,ht)=>bt(X,Oe)||de.get(X,Oe,ht),has:(X,Oe)=>!!bt(X,Oe)||de.has(X,Oe)}));class Je{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Ht(de){return"VERSION"===de.getComponent()?.type}(Oe)){const ht=Oe.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Oe=>Oe).join(" ")}}const st="@firebase/app",Xr=new O.Yd("@firebase/app"),Br="[DEFAULT]",Ji={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,en=new Map;function nt(de,X){try{de.container.addComponent(X)}catch(Oe){Xr.debug(`Component ${X.name} failed to register with FirebaseApp ${de.name}`,Oe)}}function Rt(de,X){de.container.addOrOverwriteComponent(X)}function hi(de){const X=de.name;if(en.has(X))return Xr.debug(`There were multiple attempts to register component ${X}.`),!1;en.set(X,de);for(const Oe of Jt.values())nt(Oe,de);return!0}function ni(de,X){const Oe=de.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),de.container.getProvider(X)}function cr(de,X,Oe=Br){ni(de,X).clearInstance(Oe)}function jr(){en.clear()}const ri=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dn{constructor(X,Oe,ht){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const ks="9.23.0";function Kt(de,X={}){let Oe=de;"object"!=typeof X&&(X={name:X});const ht=Object.assign({name:Br,automaticDataCollectionEnabled:!1},X),Dt=ht.name;if("string"!=typeof Dt||!Dt)throw ri.create("bad-app-name",{appName:String(Dt)});if(Oe||(Oe=(0,ie.aH)()),!Oe)throw ri.create("no-options");const jt=Jt.get(Dt);if(jt){if((0,ie.vZ)(Oe,jt.options)&&(0,ie.vZ)(ht,jt.config))return jt;throw ri.create("duplicate-app",{appName:Dt})}const gt=new Q.H0(Dt);for(const Qt of en.values())gt.addComponent(Qt);const Xt=new dn(Oe,ht,gt);return Jt.set(Dt,Xt),Xt}function Xi(de=Br){const X=Jt.get(de);if(!X&&de===Br&&(0,ie.aH)())return Kt();if(!X)throw ri.create("no-app",{appName:de});return X}function tn(){return Array.from(Jt.values())}function fi(de){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,v.Z)(function*(de){const X=de.name;Jt.has(X)&&(Jt.delete(X),yield Promise.all(de.container.getProviders().map(Oe=>Oe.delete())),de.isDeleted=!0)})).apply(this,arguments)}function Hn(de,X,Oe){var ht;let Dt=null!==(ht=Ji[de])&&void 0!==ht?ht:de;Oe&&(Dt+=`-${Oe}`);const jt=Dt.match(/\s|\//),gt=X.match(/\s|\//);if(jt||gt){const Xt=[`Unable to register library "${Dt}" with version "${X}":`];return jt&&Xt.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),jt&&gt&&Xt.push("and"),gt&&Xt.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Xr.warn(Xt.join(" "))}hi(new Q.wA(`${Dt}-version`,()=>({library:Dt,version:X}),"VERSION"))}function Oi(de,X){if(null!==de&&"function"!=typeof de)throw ri.create("invalid-log-argument");(0,O.Am)(de,X)}function _n(de){(0,O.Ub)(de)}const ki="firebase-heartbeat-database",$r=1,V="firebase-heartbeat-store";let F=null;function G(){return F||(F=function Ee(de,X,{blocked:Oe,upgrade:ht,blocking:Dt,terminated:jt}={}){const gt=indexedDB.open(de,X),Xt=Ne(gt);return ht&&gt.addEventListener("upgradeneeded",Qt=>{ht(Ne(gt.result),Qt.oldVersion,Qt.newVersion,Ne(gt.transaction),Qt)}),Oe&&gt.addEventListener("blocked",Qt=>Oe(Qt.oldVersion,Qt.newVersion,Qt)),Xt.then(Qt=>{jt&&Qt.addEventListener("close",()=>jt()),Dt&&Qt.addEventListener("versionchange",lr=>Dt(lr.oldVersion,lr.newVersion,lr))}).catch(()=>{}),Xt}(ki,$r,{upgrade:(de,X)=>{0===X&&de.createObjectStore(V)}}).catch(de=>{throw ri.create("idb-open",{originalErrorMessage:de.message})})),F}function J(){return(J=(0,v.Z)(function*(de){try{return yield(yield G()).transaction(V).objectStore(V).get(Yt(de))}catch(X){if(X instanceof ie.ZR)Xr.warn(X.message);else{const Oe=ri.create("idb-get",{originalErrorMessage:X?.message});Xr.warn(Oe.message)}}})).apply(this,arguments)}function Fe(de,X){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,v.Z)(function*(de,X){try{const ht=(yield G()).transaction(V,"readwrite");yield ht.objectStore(V).put(X,Yt(de)),yield ht.done}catch(Oe){if(Oe instanceof ie.ZR)Xr.warn(Oe.message);else{const ht=ri.create("idb-set",{originalErrorMessage:Oe?.message});Xr.warn(ht.message)}}})).apply(this,arguments)}function Yt(de){return`${de.name}!${de.options.appId}`}class sn{constructor(X){this.container=X,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Li(Oe),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var X=this;return(0,v.Z)(function*(){const ht=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=zt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!X._heartbeatsCache.heartbeats.some(jt=>jt.date===Dt))return X._heartbeatsCache.heartbeats.push({date:Dt,agent:ht}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(jt=>{const gt=new Date(jt.date).valueOf();return Date.now()-gt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,v.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Oe=zt(),{heartbeatsToSend:ht,unsentEntries:Dt}=function Cr(de,X=1024){const Oe=[];let ht=de.slice();for(const Dt of de){const jt=Oe.find(gt=>gt.agent===Dt.agent);if(jt){if(jt.dates.push(Dt.date),es(Oe)>X){jt.dates.pop();break}}else if(Oe.push({agent:Dt.agent,dates:[Dt.date]}),es(Oe)>X){Oe.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:ht}}(X._heartbeatsCache.heartbeats),jt=(0,ie.L)(JSON.stringify({version:2,heartbeats:ht}));return X._heartbeatsCache.lastSentHeartbeatDate=Oe,Dt.length>0?(X._heartbeatsCache.heartbeats=Dt,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),jt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class Li{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,v.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function ve(de){return J.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Oe=this;return(0,v.Z)(function*(){var ht;if(yield Oe._canUseIndexedDBPromise){const jt=yield Oe.read();return Fe(Oe.app,{lastSentHeartbeatDate:null!==(ht=X.lastSentHeartbeatDate)&&void 0!==ht?ht:jt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Oe=this;return(0,v.Z)(function*(){var ht;if(yield Oe._canUseIndexedDBPromise){const jt=yield Oe.read();return Fe(Oe.app,{lastSentHeartbeatDate:null!==(ht=X.lastSentHeartbeatDate)&&void 0!==ht?ht:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...X.heartbeats]})}})()}}function es(de){return(0,ie.L)(JSON.stringify({version:2,heartbeats:de})).length}!function Ca(de){hi(new Q.wA("platform-logger",X=>new Je(X),"PRIVATE")),hi(new Q.wA("heartbeat",X=>new sn(X),"PRIVATE")),Hn(st,"0.9.13",de),Hn(st,"0.9.13","esm2017"),Hn("fire-js","")}("")},4859:(vt,Se,k)=>{k.d(Se,{H0:()=>we,wA:()=>O});var v=k(5861),Q=k(2090);class O{constructor($,j,q){this.name=$,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ie="[DEFAULT]";class se{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const q=new Q.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&q.resolve(je)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const q=this.normalizeInstanceIdentifier($?.identifier),je=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(be){if(je)return null;throw be}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function me(fe){return"EAGER"===fe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const be=this.getOrInitializeService({instanceIdentifier:je});q.resolve(be)}catch{}}}}clearInstance($=ie){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,v.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ie){return this.instances.has($)}getOptions($=ie){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[be,We]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(be)&&We.resolve(je);return je}onInit($,j){var q;const je=this.normalizeInstanceIdentifier(j),be=null!==(q=this.onInitCallbacks.get(je))&&void 0!==q?q:new Set;be.add($),this.onInitCallbacks.set(je,be);const We=this.instances.get(je);return We&&$(We,je),()=>{be.delete($)}}invokeOnInitCallbacks($,j){const q=this.onInitCallbacks.get(j);if(q)for(const je of q)try{je($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let q=this.instances.get($);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=$,fe===ie?void 0:fe),options:j}),this.instances.set($,q),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,q)}catch{}var fe;return q||null}normalizeInstanceIdentifier($=ie){return this.component?this.component.multipleInstances?$:ie:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new se($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,k)=>{k.d(Se,{Am:()=>fe,Ub:()=>we,Yd:()=>me,in:()=>Q});const v=[];var Q=(()=>{return($=Q||(Q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Q;var $})();const O={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ie=Q.INFO,se={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},re=($,j,...q)=>{if(j<$.logLevel)return;const je=(new Date).toISOString(),be=se[j];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[be](`[${je}]  ${$.name}:`,...q)};class me{constructor(j){this.name=j,this._logLevel=ie,this._logHandler=re,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Q))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...j),this._logHandler(this,Q.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...j),this._logHandler(this,Q.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...j),this._logHandler(this,Q.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...j),this._logHandler(this,Q.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...j),this._logHandler(this,Q.ERROR,...j)}}function we($){v.forEach(j=>{j.setLogLevel($)})}function fe($,j){for(const q of v){let je=null;j&&j.level&&(je=O[j.level]),q.userLogHandler=null===$?null:(be,We,...ct)=>{const pe=ct.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");We>=(je??be.logLevel)&&$({level:Q[We].toLowerCase(),message:pe,args:ct,type:be.name})}}}},5861:(vt,Se,k)=>{function v(O,ie,se,re,me,we,fe){try{var $=O[we](fe),j=$.value}catch(q){return void se(q)}$.done?ie(j):Promise.resolve(j).then(re,me)}function Q(O){return function(){var ie=this,se=arguments;return new Promise(function(re,me){var we=O.apply(ie,se);function fe(j){v(we,re,me,fe,$,"next",j)}function $(j){v(we,re,me,fe,$,"throw",j)}fe(void 0)})}}k.d(Se,{Z:()=>Q})},7582:(vt,Se,k)=>{function ie(ae,le){var ge={};for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&le.indexOf(oe)<0&&(ge[oe]=ae[oe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(oe=Object.getOwnPropertySymbols(ae);Ce<oe.length;Ce++)le.indexOf(oe[Ce])<0&&Object.prototype.propertyIsEnumerable.call(ae,oe[Ce])&&(ge[oe[Ce]]=ae[oe[Ce]])}return ge}function q(ae,le,ge,oe){return new(ge||(ge=Promise))(function(De,lt){function dt(Wt){try{ft(oe.next(Wt))}catch(In){lt(In)}}function vn(Wt){try{ft(oe.throw(Wt))}catch(In){lt(In)}}function ft(Wt){Wt.done?De(Wt.value):function Ce(De){return De instanceof ge?De:new ge(function(lt){lt(De)})}(Wt.value).then(dt,vn)}ft((oe=oe.apply(ae,le||[])).next())})}function Ne(ae){return this instanceof Ne?(this.v=ae,this):new Ne(ae)}function Ie(ae,le,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,oe=ge.apply(ae,le||[]),De=[];return Ce={},lt("next"),lt("throw"),lt("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function lt(pn){oe[pn]&&(Ce[pn]=function(Fn){return new Promise(function(ur,Mn){De.push([pn,Fn,ur,Mn])>1||dt(pn,Fn)})})}function dt(pn,Fn){try{!function vn(pn){pn.value instanceof Ne?Promise.resolve(pn.value.v).then(ft,Wt):In(De[0][2],pn)}(oe[pn](Fn))}catch(ur){In(De[0][3],ur)}}function ft(pn){dt("next",pn)}function Wt(pn){dt("throw",pn)}function In(pn,Fn){pn(Fn),De.shift(),De.length&&dt(De[0][0],De[0][1])}}function ze(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,le=ae[Symbol.asyncIterator];return le?le.call(ae):(ae=function ct(ae){var le="function"==typeof Symbol&&Symbol.iterator,ge=le&&ae[le],oe=0;if(ge)return ge.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&oe>=ae.length&&(ae=void 0),{value:ae&&ae[oe++],done:!ae}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ge={},oe("next"),oe("throw"),oe("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function oe(De){ge[De]=ae[De]&&function(lt){return new Promise(function(dt,vn){!function Ce(De,lt,dt,vn){Promise.resolve(vn).then(function(ft){De({value:ft,done:dt})},lt)}(dt,vn,(lt=ae[De](lt)).done,lt.value)})}}}k.d(Se,{FC:()=>Ie,KL:()=>ze,_T:()=>ie,mG:()=>q,qq:()=>Ne}),"function"==typeof SuppressedError&&SuppressedError}},vt=>{vt(vt.s=9601)}]);