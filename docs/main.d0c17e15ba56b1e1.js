"use strict";(self.webpackChunkspy=self.webpackChunkspy||[]).push([[179],{2011:(yt,xe,k)=>{k.d(xe,{Dh:()=>_e,GT:()=>ae,cc:()=>Te,hO:()=>ze,on:()=>V,pX:()=>oe,xv:()=>fe});var y=k(4650),X=k(1274),O=k(710);yt=k.hmd(yt);const ee=["ngOnDestroy"],oe=(Ae,Me,$e,Fe={})=>new Proxy(Ae,{get:(be,De)=>$e.runOutsideAngular(()=>{var Be;if(Ae[De])return!(null===(Be=Fe?.spy)||void 0===Be)&&Be.get&&Fe.spy.get(De,Ae[De]),Ae[De];if(ee.indexOf(De)>-1)return()=>{};const Ne=Me.toPromise().then(de=>{const G=de&&de[De];return"function"==typeof G?G.bind(de):G&&G.then?G.then(Ge=>$e.run(()=>Ge)):$e.run(()=>G)});return new Proxy(()=>{},{get:(de,G)=>Ne[G],apply:(de,G,Ge)=>Ne.then(He=>{var It;const Je=He&&He(...Ge);return!(null===(It=Fe?.spy)||void 0===It)&&It.apply&&Fe.spy.apply(De,Ge,Je),Je})})})}),ae=(Ae,Me)=>{Me.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Fe=>{Object.defineProperty(Ae.prototype,Fe,Object.getOwnPropertyDescriptor($e.prototype||$e,Fe))})})};class ve{constructor(Me){return Me}}const _e=new y.OlP("angularfire2.app.options"),fe=new y.OlP("angularfire2.app.name");function V(Ae,Me,$e){const be="object"==typeof $e&&$e||{};be.name=be.name||"string"==typeof $e&&$e||"[DEFAULT]";const Be=X.Z.apps.filter(Ne=>Ne&&Ne.name===be.name)[0]||Me.runOutsideAngular(()=>X.Z.initializeApp(Ae,be));try{JSON.stringify(Ae)!==JSON.stringify(Be.options)&&H("error",`${Be.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Be)}const H=(Ae,...Me)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ae](...Me)},K={provide:ve,useFactory:V,deps:[_e,y.R0b,[new y.FiY,fe]]};let ze=(()=>{class Ae{constructor($e){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",y.q4F.full,$e.toString())}static initializeApp($e,Fe){return{ngModule:Ae,providers:[{provide:_e,useValue:$e},{provide:fe,useValue:Fe}]}}}return Ae.\u0275fac=function($e){return new($e||Ae)(y.LFG(y.Lbi))},Ae.\u0275mod=y.oAB({type:Ae}),Ae.\u0275inj=y.cJS({providers:[K]}),Ae})();function Te(Ae,Me,$e,Fe,be){const[,De,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===Ae)||[];if(De)return function Ye(Ae,Me){try{return Ae.toString()===Me.toString()}catch{return Ae===Me}}(be,Be)||(ye("error",`${Me} was already initialized on the ${$e} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:be,was:Be})),De;{const Ne=Fe();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Ne,be]),Ne}}const ut=!!yt.hot,ye=(Ae,...Me)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ae](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(yt,xe,k)=>{k.d(xe,{q4:()=>Zr,iC:()=>Bi,HU:()=>bt,vb:()=>oc,JM:()=>sc});var y=k(4650),X=k(8140),O=k(5861),ee=k(9681),oe=k(2090),ae=k(4859),ve=k(1877);const _e=(E,D)=>D.some(A=>E instanceof A);let fe,V;const ze=new WeakMap,Te=new WeakMap,Ye=new WeakMap,ut=new WeakMap,ye=new WeakMap;let $e={get(E,D,A){if(E instanceof IDBTransaction){if("done"===D)return Te.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Ye.get(E);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Be(E[D])},set:(E,D,A)=>(E[D]=A,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function De(E){return"function"==typeof E?function be(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Ne(this),D),Be(ze.get(this))}:function(...D){return Be(E.apply(Ne(this),D))}:function(D,...A){const N=E.call(Ne(this),D,...A);return Ye.set(N,D.sort?D.sort():[D]),Be(N)}}(E):(E instanceof IDBTransaction&&function Me(E){if(Te.has(E))return;const D=new Promise((A,N)=>{const z=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",se),E.removeEventListener("abort",se)},Y=()=>{A(),z()},se=()=>{N(E.error||new DOMException("AbortError","AbortError")),z()};E.addEventListener("complete",Y),E.addEventListener("error",se),E.addEventListener("abort",se)});Te.set(E,D)}(E),_e(E,function H(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,$e):E)}function Be(E){if(E instanceof IDBRequest)return function Ae(E){const D=new Promise((A,N)=>{const z=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",se)},Y=()=>{A(Be(E.result)),z()},se=()=>{N(E.error),z()};E.addEventListener("success",Y),E.addEventListener("error",se)});return D.then(A=>{A instanceof IDBCursor&&ze.set(A,E)}).catch(()=>{}),ye.set(D,E),D}(E);if(ut.has(E))return ut.get(E);const D=De(E);return D!==E&&(ut.set(E,D),ye.set(D,E)),D}const Ne=E=>ye.get(E),Ge=["get","getKey","getAll","getAllKeys","count"],He=["put","add","delete","clear"],It=new Map;function Je(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(It.get(D))return It.get(D);const A=D.replace(/FromIndex$/,""),N=D!==A,z=He.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!z&&!Ge.includes(A))return;const Y=function(){var se=(0,O.Z)(function*(Ze,...qe){const pt=this.transaction(Ze,z?"readwrite":"readonly");let xt=pt.store;return N&&(xt=xt.index(qe.shift())),(yield Promise.all([xt[A](...qe),z&&pt.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return It.set(D,Y),Y}!function Fe(E){$e=E($e)}(E=>({...E,get:(D,A,N)=>Je(D,A)||E.get(D,A,N),has:(D,A)=>!!Je(D,A)||E.has(D,A)}));const mn="@firebase/installations",Sr="0.6.4",wn=1e4,Gn=`w:${Sr}`,te="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",ue=36e5,it=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ct(E){return E instanceof oe.ZR&&E.code.includes("request-failed")}function yn({projectId:E}){return`${he}/projects/${E}/installations`}function mt(E){return{token:E.token,requestStatus:2,expiresIn:Ar(E.expiresIn),creationTime:Date.now()}}function zt(E,D){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(E,D){const N=(yield D.json()).error;return it.create("request-failed",{requestName:E,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function cn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Vn(E){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,O.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function Ar(E){return Number(E.replace("s","000"))}function lt(){return(lt=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:A}){const N=yn(E),z=cn(E),Y=D.getImmediate({optional:!0});if(Y){const pt=yield Y.getHeartbeatsHeader();pt&&z.append("x-firebase-client",pt)}const Ze={method:"POST",headers:z,body:JSON.stringify({fid:A,authVersion:te,appId:E.appId,sdkVersion:Gn})},qe=yield Vn(()=>fetch(N,Ze));if(qe.ok){const pt=yield qe.json();return{fid:pt.fid||A,registrationStatus:2,refreshToken:pt.refreshToken,authToken:mt(pt.authToken)}}throw yield zt("Create Installation",qe)})).apply(this,arguments)}function zr(E){return new Promise(D=>{setTimeout(D,E)})}const tr=/^[cdef][\w-]{21}$/,hi="";function Bn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function Xt(E){return function yu(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return tr.test(A)?A:hi}catch{return hi}}function Jt(E){return`${E.appName}!${E.appId}`}const at=new Map;function Tt(E,D){const A=Jt(E);Nn(A,D),function _r(E,D){const A=function Zs(){return!En&&"BroadcastChannel"in self&&(En=new BroadcastChannel("[Firebase] FID Change"),En.onmessage=E=>{Nn(E.data.key,E.data.fid)}),En}();A&&A.postMessage({key:E,fid:D}),function en(){0===at.size&&En&&(En.close(),En=null)}()}(A,D)}function Nn(E,D){const A=at.get(E);if(A)for(const N of A)N(D)}let En=null;const qi="firebase-installations-database",Wt=1,Gr="firebase-installations-store";let Qt=null;function ge(){return Qt||(Qt=function de(E,D,{blocked:A,upgrade:N,blocking:z,terminated:Y}={}){const se=indexedDB.open(E,D),Ze=Be(se);return N&&se.addEventListener("upgradeneeded",qe=>{N(Be(se.result),qe.oldVersion,qe.newVersion,Be(se.transaction))}),A&&se.addEventListener("blocked",()=>A()),Ze.then(qe=>{Y&&qe.addEventListener("close",()=>Y()),z&&qe.addEventListener("versionchange",()=>z())}).catch(()=>{}),Ze}(qi,Wt,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Gr)}})),Qt}function j(E,D){return pe.apply(this,arguments)}function pe(){return(pe=(0,O.Z)(function*(E,D){const A=Jt(E),z=(yield ge()).transaction(Gr,"readwrite"),Y=z.objectStore(Gr),se=yield Y.get(A);return yield Y.put(D,A),yield z.done,(!se||se.fid!==D.fid)&&Tt(E,D.fid),D})).apply(this,arguments)}function We(E){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*(E){const D=Jt(E),N=(yield ge()).transaction(Gr,"readwrite");yield N.objectStore(Gr).delete(D),yield N.done})).apply(this,arguments)}function vt(E,D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,O.Z)(function*(E,D){const A=Jt(E),z=(yield ge()).transaction(Gr,"readwrite"),Y=z.objectStore(Gr),se=yield Y.get(A),Ze=D(se);return void 0===Ze?yield Y.delete(A):yield Y.put(Ze,A),yield z.done,Ze&&(!se||se.fid!==Ze.fid)&&Tt(E,Ze.fid),Ze})).apply(this,arguments)}function U(E){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(E){let D;const A=yield vt(E.appConfig,N=>{const z=function q(E){return On(E||{fid:Bn(),registrationStatus:0})}(N),Y=function Ee(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(it.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},N=function ne(E,D){return Ve.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:N}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Nt(E)}:{installationEntry:D}}(E,z);return D=Y.registrationPromise,Y.installationEntry});return A.fid===hi?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),F.apply(this,arguments)}function Ve(){return Ve=(0,O.Z)(function*(E,D){try{const A=yield function Pn(E,D){return lt.apply(this,arguments)}(E,D);return j(E.appConfig,A)}catch(A){throw ct(A)&&409===A.customData.serverCode?yield We(E.appConfig):yield j(E.appConfig,{fid:D.fid,registrationStatus:0}),A}}),Ve.apply(this,arguments)}function Nt(E){return tn.apply(this,arguments)}function tn(){return(tn=(0,O.Z)(function*(E){let D=yield rr(E.appConfig);for(;1===D.registrationStatus;)yield zr(100),D=yield rr(E.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:N}=yield U(E);return N||A}return D})).apply(this,arguments)}function rr(E){return vt(E,D=>{if(!D)throw it.create("installation-not-found");return On(D)})}function On(E){return function hn(E){return 1===E.registrationStatus&&E.registrationTime+wn<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ri(){return(ri=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:D},A){const N=function is(E,{fid:D}){return`${yn(E)}/${D}/authTokens:generate`}(E,A),z=function Tn(E,{refreshToken:D}){const A=cn(E);return A.append("Authorization",function Hr(E){return`${te} ${E}`}(D)),A}(E,A),Y=D.getImmediate({optional:!0});if(Y){const pt=yield Y.getHeartbeatsHeader();pt&&z.append("x-firebase-client",pt)}const Ze={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Gn,appId:E.appId}})},qe=yield Vn(()=>fetch(N,Ze));if(qe.ok)return mt(yield qe.json());throw yield zt("Generate Auth Token",qe)})).apply(this,arguments)}function Ys(E){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,O.Z)(function*(E,D=!1){let A;const N=yield vt(E.appConfig,Y=>{if(!wu(Y))throw it.create("not-registered");const se=Y.authToken;if(!D&&function nn(E){return 2===E.requestStatus&&!function hr(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+ue}(E)}(se))return Y;if(1===se.requestStatus)return A=function vu(E,D){return wa.apply(this,arguments)}(E,D),Y;{if(!navigator.onLine)throw it.create("app-offline");const Ze=function wr(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(Y);return A=function Wc(E,D){return xs.apply(this,arguments)}(E,Ze),Ze}});return A?yield A:N.authToken}),Gc.apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(E,D){let A=yield _u(E.appConfig);for(;1===A.authToken.requestStatus;)yield zr(100),A=yield _u(E.appConfig);const N=A.authToken;return 0===N.requestStatus?Ys(E,D):N})).apply(this,arguments)}function _u(E){return vt(E,D=>{if(!wu(D))throw it.create("not-registered");return function Ki(E){return 1===E.requestStatus&&E.requestTime+wn<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function xs(){return xs=(0,O.Z)(function*(E,D){try{const A=yield function Yt(E,D){return ri.apply(this,arguments)}(E,D),N=Object.assign(Object.assign({},D),{authToken:A});return yield j(E.appConfig,N),A}catch(A){if(!ct(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const N=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield j(E.appConfig,N)}else yield We(E.appConfig);throw A}}),xs.apply(this,arguments)}function wu(E){return void 0!==E&&2===E.registrationStatus}function Eu(){return(Eu=(0,O.Z)(function*(E){const D=E,{installationEntry:A,registrationPromise:N}=yield U(D);return N?N.catch(console.error):Ys(D).catch(console.error),A.fid})).apply(this,arguments)}function Qs(){return Qs=(0,O.Z)(function*(E,D=!1){const A=E;return yield function fi(E){return Xe.apply(this,arguments)}(A),(yield Ys(A,D)).token}),Qs.apply(this,arguments)}function Xe(){return(Xe=(0,O.Z)(function*(E){const{registrationPromise:D}=yield U(E);D&&(yield D)})).apply(this,arguments)}function Rs(E){return it.create("missing-app-config-values",{valueName:E})}const jt="installations",Xs=E=>{const D=E.getProvider("app").getImmediate(),A=function Ia(E){if(!E||!E.options)throw Rs("App Configuration");if(!E.name)throw Rs("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!E.options[A])throw Rs(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,ee.qX)(D,"heartbeat"),_delete:()=>Promise.resolve()}},ss=E=>{const D=E.getProvider("app").getImmediate(),A=(0,ee.qX)(D,jt).getImmediate();return{getId:()=>function xr(E){return Eu.apply(this,arguments)}(A),getToken:z=>function vf(E){return Qs.apply(this,arguments)}(A,z)}};(function Js(){(0,ee.Xd)(new ae.wA(jt,Xs,"PUBLIC")),(0,ee.Xd)(new ae.wA("installations-internal",ss,"PRIVATE"))})(),(0,ee.KN)(mn,Sr),(0,ee.KN)(mn,Sr,"esm2017");const jn="@firebase/remote-config",Er=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class as{constructor(D,A,N,z){this.client=D,this.storage=A,this.storageCache=N,this.logger=z}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-A,z=N<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${z}.`),z}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,z]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(z&&A.isCachedDataFresh(D.cacheMaxAgeMillis,N))return z;D.eTag=z&&z.eTag;const Y=yield A.client.fetch(D),se=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&se.push(A.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(se),Y})()}}function Tg(E=navigator){return E.languages&&E.languages[0]||E.language}class Zc{constructor(D,A,N,z,Y,se){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=N,this.projectId=z,this.apiKey=Y,this.appId=se}fetch(D){var A=this;return(0,O.Z)(function*(){const[N,z]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},qe={sdk_version:A.sdkVersion,app_instance_id:N,app_instance_id_token:z,app_id:A.appId,language_code:Tg()},pt={method:"POST",headers:Ze,body:JSON.stringify(qe)},xt=fetch(se,pt),Rt=new Promise((yr,ji)=>{D.signal.addEventListener(()=>{const Bs=new Error("The operation was aborted.");Bs.name="AbortError",ji(Bs)})});let kr;try{yield Promise.race([xt,Rt]),kr=yield xt}catch(yr){let ji="fetch-client-network";throw"AbortError"===yr?.name&&(ji="fetch-timeout"),Er.create(ji,{originalErrorMessage:yr?.message})}let pn=kr.status;const Ot=kr.headers.get("ETag")||void 0;let Vs,So;if(200===kr.status){let yr;try{yr=yield kr.json()}catch(ji){throw Er.create("fetch-client-parse",{originalErrorMessage:ji?.message})}Vs=yr.entries,So=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===So?pn=500:"NO_CHANGE"===So?pn=304:("NO_TEMPLATE"===So||"EMPTY_CONFIG"===So)&&(Vs={}),304!==pn&&200!==pn)throw Er.create("fetch-status",{httpStatus:pn});return{status:pn,eTag:Ot,config:Vs}})()}}class Ag{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,O.Z)(function*(){const N=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,N)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:N}){var z=this;return(0,O.Z)(function*(){yield function Sg(E,D){return new Promise((A,N)=>{const z=Math.max(D-Date.now(),0),Y=setTimeout(A,z);E.addEventListener(()=>{clearTimeout(Y),N(Er.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const Y=yield z.client.fetch(D);return yield z.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Ed(E){if(!(E instanceof oe.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Y))throw Y;const se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(N),backoffCount:N+1};return yield z.storage.setThrottleMetadata(se),z.attemptFetch(D,se)}})()}}class Vy{constructor(D,A,N,z,Y){this.app=D,this._client=A,this._storageCache=N,this._storage=z,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cu(E,D){const A=E.target.error||void 0;return Er.create(D,{originalErrorMessage:A&&A?.message})}const mi="app_namespace_store";class By{constructor(D,A,N,z=function Ho(){return new Promise((E,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=N=>{D(Cu(N,"storage-open"))},A.onsuccess=N=>{E(N.target.result)},A.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(mi,{keyPath:"compositeKey"})}}catch(A){D(Er.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=N,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise((z,Y)=>{const Ze=N.transaction([mi],"readonly").objectStore(mi),qe=A.createCompositeKey(D);try{const pt=Ze.get(qe);pt.onerror=xt=>{Y(Cu(xt,"storage-get"))},pt.onsuccess=xt=>{const Rt=xt.target.result;z(Rt?Rt.value:void 0)}}catch(pt){Y(Er.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(D,A){var N=this;return(0,O.Z)(function*(){const z=yield N.openDbPromise;return new Promise((Y,se)=>{const qe=z.transaction([mi],"readwrite").objectStore(mi),pt=N.createCompositeKey(D);try{const xt=qe.put({compositeKey:pt,value:A});xt.onerror=Rt=>{se(Cu(Rt,"storage-set"))},xt.onsuccess=()=>{Y()}}catch(xt){se(Er.create("storage-set",{originalErrorMessage:xt?.message}))}})})()}delete(D){var A=this;return(0,O.Z)(function*(){const N=yield A.openDbPromise;return new Promise((z,Y)=>{const Ze=N.transaction([mi],"readwrite").objectStore(mi),qe=A.createCompositeKey(D);try{const pt=Ze.delete(qe);pt.onerror=xt=>{Y(Cu(xt,"storage-delete"))},pt.onsuccess=()=>{z()}}catch(pt){Y(Er.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ef{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const A=D.storage.getLastFetchStatus(),N=D.storage.getLastSuccessfulFetchTimestampMillis(),z=D.storage.getActiveConfig(),Y=yield A;Y&&(D.lastFetchStatus=Y);const se=yield N;se&&(D.lastSuccessfulFetchTimestampMillis=se);const Ze=yield z;Ze&&(D.activeConfig=Ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Yc(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function us(){(0,ee.Xd)(new ae.wA("remote-config",function E(D,{instanceIdentifier:A}){const N=D.getProvider("app").getImmediate(),z=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Er.create("registration-window");if(!(0,oe.hl)())throw Er.create("indexed-db-unavailable");const{projectId:Y,apiKey:se,appId:Ze}=N.options;if(!Y)throw Er.create("registration-project-id");if(!se)throw Er.create("registration-api-key");if(!Ze)throw Er.create("registration-app-id");const qe=new By(Ze,N.name,A=A||"firebase"),pt=new Ef(qe),xt=new ve.Yd(jn);xt.logLevel=ve.in.ERROR;const Rt=new Zc(z,ee.Jn,A,Y,se,Ze),kr=new Ag(Rt,qe),pn=new as(kr,qe,pt,xt),Ot=new Vy(N,pn,pt,qe,xt);return function si(E){const D=(0,oe.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ot),Ot},"PUBLIC").setMultipleInstances(!0)),(0,ee.KN)(jn,"0.4.4"),(0,ee.KN)(jn,"0.4.4","esm2017")}();const bd=(E,D)=>D.some(A=>E instanceof A);let Qc,Ns;const Tu=new WeakMap,Os=new WeakMap,Wr=new WeakMap,Rr=new WeakMap,Aa=new WeakMap;let cs={get(E,D,A){if(E instanceof IDBTransaction){if("done"===D)return Os.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Wr.get(E);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Mr(E[D])},set:(E,D,A)=>(E[D]=A,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Td(E){return"function"==typeof E?function Cd(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sa(){return Ns||(Ns=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(ir(this),D),Mr(Tu.get(this))}:function(...D){return Mr(E.apply(ir(this),D))}:function(D,...A){const N=E.call(ir(this),D,...A);return Wr.set(N,D.sort?D.sort():[D]),Mr(N)}}(E):(E instanceof IDBTransaction&&function zo(E){if(Os.has(E))return;const D=new Promise((A,N)=>{const z=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",se),E.removeEventListener("abort",se)},Y=()=>{A(),z()},se=()=>{N(E.error||new DOMException("AbortError","AbortError")),z()};E.addEventListener("complete",Y),E.addEventListener("error",se),E.addEventListener("abort",se)});Os.set(E,D)}(E),bd(E,function If(){return Qc||(Qc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,cs):E)}function Mr(E){if(E instanceof IDBRequest)return function pr(E){const D=new Promise((A,N)=>{const z=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",se)},Y=()=>{A(Mr(E.result)),z()},se=()=>{N(E.error),z()};E.addEventListener("success",Y),E.addEventListener("error",se)});return D.then(A=>{A instanceof IDBCursor&&Tu.set(A,E)}).catch(()=>{}),Aa.set(D,E),D}(E);if(Rr.has(E))return Rr.get(E);const D=Td(E);return D!==E&&(Rr.set(E,D),Aa.set(D,E)),D}const ir=E=>Aa.get(E);function Su(E,D,{blocked:A,upgrade:N,blocking:z,terminated:Y}={}){const se=indexedDB.open(E,D),Ze=Mr(se);return N&&se.addEventListener("upgradeneeded",qe=>{N(Mr(se.result),qe.oldVersion,qe.newVersion,Mr(se.transaction))}),A&&se.addEventListener("blocked",()=>A()),Ze.then(qe=>{Y&&qe.addEventListener("close",()=>Y()),z&&qe.addEventListener("versionchange",()=>z())}).catch(()=>{}),Ze}function ls(E,{blocked:D}={}){const A=indexedDB.deleteDatabase(E);return D&&A.addEventListener("blocked",()=>D()),Mr(A).then(()=>{})}const Xc=["get","getKey","getAll","getAllKeys","count"],ks=["put","add","delete","clear"],Go=new Map;function xa(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Go.get(D))return Go.get(D);const A=D.replace(/FromIndex$/,""),N=D!==A,z=ks.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!z&&!Xc.includes(A))return;const Y=function(){var se=(0,O.Z)(function*(Ze,...qe){const pt=this.transaction(Ze,z?"readwrite":"readonly");let xt=pt.store;return N&&(xt=xt.index(qe.shift())),(yield Promise.all([xt[A](...qe),z&&pt.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return Go.set(D,Y),Y}!function gr(E){cs=E(cs)}(E=>({...E,get:(D,A,N)=>xa(D,A)||E.get(D,A,N),has:(D,A)=>!!xa(D,A)||E.has(D,A)}));const Mt="/firebase-messaging-sw.js",Ra="/firebase-cloud-messaging-push-scope",Sd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ad="https://fcmregistrations.googleapis.com/v1",Au="google.c.a.c_id",xd="google.c.a.c_l",xu="google.c.a.ts",xg="google.c.a.e";var me=(()=>{return(E=me||(me={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",me;var E})();function Lt(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ma(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(A),z=new Uint8Array(N.length);for(let Y=0;Y<N.length;++Y)z[Y]=N.charCodeAt(Y);return z}const Pa="fcm_token_details_db",sr=5,no="fcm_token_object_Store";function qr(){return qr=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Pa))return null;let D=null;return(yield Su(Pa,sr,{upgrade:(N=(0,O.Z)(function*(z,Y,se,Ze){var qe;if(Y<2||!z.objectStoreNames.contains(no))return;const pt=Ze.objectStore(no),xt=yield pt.index("fcmSenderId").get(E);if(yield pt.clear(),xt)if(2===Y){const Rt=xt;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;D={token:Rt.fcmToken,createTime:null!==(qe=Rt.createTime)&&void 0!==qe?qe:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Lt(Rt.vapidKey)}}}else if(3===Y){const Rt=xt;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Lt(Rt.auth),p256dh:Lt(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Lt(Rt.vapidKey)}}}else if(4===Y){const Rt=xt;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Lt(Rt.auth),p256dh:Lt(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Lt(Rt.vapidKey)}}}}),function(Y,se,Ze,qe){return N.apply(this,arguments)})})).close(),yield ls(Pa),yield ls("fcm_vapid_details_db"),yield ls("undefined"),function Md(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var N}),qr.apply(this,arguments)}const Mu="firebase-messaging-database",Rg=1,ds="firebase-messaging-store";let Na=null;function qn(){return Na||(Na=Su(Mu,Rg,{upgrade:(E,D)=>{0===D&&E.createObjectStore(ds)}})),Na}function yi(E){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,O.Z)(function*(E){const D=Pu(E),N=yield(yield qn()).transaction(ds).objectStore(ds).get(D);if(N)return N;{const z=yield function Ru(E){return qr.apply(this,arguments)}(E.appConfig.senderId);if(z)return yield ro(E,z),z}}),Yi.apply(this,arguments)}function ro(E,D){return vi.apply(this,arguments)}function vi(){return(vi=(0,O.Z)(function*(E,D){const A=Pu(E),z=(yield qn()).transaction(ds,"readwrite");return yield z.objectStore(ds).put(D,A),yield z.done,D})).apply(this,arguments)}function Oa(){return(Oa=(0,O.Z)(function*(E){const D=Pu(E),N=(yield qn()).transaction(ds,"readwrite");yield N.objectStore(ds).delete(D),yield N.done})).apply(this,arguments)}function Pu({appConfig:E}){return E.appId}const Kn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wo(E,D){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,O.Z)(function*(E,D){const A=yield el(E),N=Od(D),z={method:"POST",headers:A,body:JSON.stringify(N)};let Y;try{Y=yield(yield fetch(ka(E.appConfig),z)).json()}catch(se){throw Kn.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(Y.error)throw Kn.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Kn.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function Nd(){return(Nd=(0,O.Z)(function*(E,D){const A=yield el(E),N=Od(D.subscriptionOptions),z={method:"PATCH",headers:A,body:JSON.stringify(N)};let Y;try{Y=yield(yield fetch(`${ka(E.appConfig)}/${D.token}`,z)).json()}catch(se){throw Kn.create("token-update-failed",{errorInfo:se?.toString()})}if(Y.error)throw Kn.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Kn.create("token-update-no-token");return Y.token})).apply(this,arguments)}function Ou(E,D){return ku.apply(this,arguments)}function ku(){return(ku=(0,O.Z)(function*(E,D){const N={method:"DELETE",headers:yield el(E)};try{const Y=yield(yield fetch(`${ka(E.appConfig)}/${D}`,N)).json();if(Y.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(z){throw Kn.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function ka({projectId:E}){return`${Ad}/projects/${E}/registrations`}function el(E){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*({appConfig:E,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Od({p256dh:E,auth:D,endpoint:A,vapidKey:N}){const z={web:{endpoint:A,auth:D,p256dh:E}};return N!==Sd&&(z.web.applicationPubKey=N),z}const Lu=6048e5;function Fu(){return Fu=(0,O.Z)(function*(E){const D=yield function Cf(E,D){return kd.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Lt(D.getKey("auth")),p256dh:Lt(D.getKey("p256dh"))},N=yield yi(E.firebaseDependencies);if(N){if(function Pg(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(N.subscriptionOptions,A))return Date.now()>=N.createTime+Lu?function Dn(E,D){return Uu.apply(this,arguments)}(E,{token:N.token,createTime:Date.now(),subscriptionOptions:A}):N.token;try{yield Ou(E.firebaseDependencies,N.token)}catch(z){console.warn(z)}return bf(E.firebaseDependencies,A)}return bf(E.firebaseDependencies,A)}),Fu.apply(this,arguments)}function hs(){return hs=(0,O.Z)(function*(E){const D=yield yi(E.firebaseDependencies);D&&(yield Ou(E.firebaseDependencies,D.token),yield function Pd(E){return Oa.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),hs.apply(this,arguments)}function Uu(){return Uu=(0,O.Z)(function*(E,D){try{const A=yield function Nu(E,D){return Nd.apply(this,arguments)}(E.firebaseDependencies,D),N=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield ro(E.firebaseDependencies,N),A}catch(A){throw yield function Ir(E){return hs.apply(this,arguments)}(E),A}}),Uu.apply(this,arguments)}function bf(E,D){return io.apply(this,arguments)}function io(){return(io=(0,O.Z)(function*(E,D){const N={token:yield Wo(E,D),createTime:Date.now(),subscriptionOptions:D};return yield ro(E,N),N.token})).apply(this,arguments)}function kd(){return(kd=(0,O.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ma(D)})})).apply(this,arguments)}function Vu(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function tl(E,D){if(!D.notification)return;E.notification={};const A=D.notification.title;A&&(E.notification.title=A);const N=D.notification.body;N&&(E.notification.body=N);const z=D.notification.image;z&&(E.notification.image=z);const Y=D.notification.icon;Y&&(E.notification.icon=Y)}(D,E),function nl(E,D){D.data&&(E.data=D.data)}(D,E),function Ld(E,D){var A,N,z,Y,se;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const Ze=null!==(z=null===(N=D.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==z?z:null===(Y=D.notification)||void 0===Y?void 0:Y.click_action;Ze&&(E.fcmOptions.link=Ze);const qe=null===(se=D.fcmOptions)||void 0===se?void 0:se.analytics_label;qe&&(E.fcmOptions.analyticsLabel=qe)}(D,E),D}function qo(E,D){const A=[];for(let N=0;N<E.length;N++)A.push(E.charAt(N)),N<D.length&&A.push(D.charAt(N));return A.join("")}function fs(E){return Kn.create("missing-app-config-values",{valueName:E})}qo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ng{constructor(D,A,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Ko(E){if(!E||!E.options)throw fs("App Configuration Object");if(!E.name)throw fs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const N of D)if(!A[N])throw fs(N);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:z,installations:A,analyticsProvider:N}}_delete(){return Promise.resolve()}}function Tf(E){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Mt,{scope:Ra}),E.swRegistration.update().catch(()=>{})}catch(D){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Fa(){return(Fa=(0,O.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Tf(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function oo(){return(oo=(0,O.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Sd)})).apply(this,arguments)}function Zo(){return Zo=(0,O.Z)(function*(E,D){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield function so(E,D){return oo.apply(this,arguments)}(E,D?.vapidKey),yield function jy(E,D){return Fa.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function Df(E){return Fu.apply(this,arguments)}(E)}),Zo.apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(E,D,A){const N=function uo(E){switch(E){case me.NOTIFICATION_CLICKED:return"notification_open";case me.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:A[Au],message_name:A[xd],message_time:A[xu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function co(){return co=(0,O.Z)(function*(E,D){const A=D.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===me.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Vu(A)):E.onMessageHandler.next(Vu(A)));const N=A.data;(function rl(E){return"object"==typeof E&&!!E&&Au in E})(N)&&"1"===N[xg]&&(yield function il(E,D,A){return ao.apply(this,arguments)}(E,A.messageType,N))}),co.apply(this,arguments)}const Ls="@firebase/messaging",lo=E=>{const D=new Ng(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function $u(E,D){return co.apply(this,arguments)}(D,A)),D},Hu=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:N=>function ju(E,D){return Zo.apply(this,arguments)}(D,N)}};function Sf(){return zu.apply(this,arguments)}function zu(){return(zu=(0,O.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ua(){(0,ee.Xd)(new ae.wA("messaging",lo,"PUBLIC")),(0,ee.Xd)(new ae.wA("messaging-internal",Hu,"PRIVATE")),(0,ee.KN)(Ls,"0.12.4"),(0,ee.KN)(Ls,"0.12.4","esm2017")}();const fn="analytics",Bd="firebase_id",Gu="origin",ol=6e4,Wu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qu="https://www.googletagmanager.com/gtag/js",or=new ve.Yd("@firebase/analytics"),$n=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function al(E){if(!E.startsWith(qu)){const D=$n.create("invalid-gtag-resource",{gtagURL:E});return or.warn(D.message),""}return E}function Va(E){return Promise.all(E.map(D=>D.catch(A=>A)))}function po(){return(po=(0,O.Z)(function*(E,D,A,N,z,Y){const se=N[z];try{if(se)yield D[se];else{const qe=(yield Va(A)).find(pt=>pt.measurementId===z);qe&&(yield D[qe.appId])}}catch(Ze){or.error(Ze)}E("config",z,Y)})).apply(this,arguments)}function ja(){return(ja=(0,O.Z)(function*(E,D,A,N,z){try{let Y=[];if(z&&z.send_to){let se=z.send_to;Array.isArray(se)||(se=[se]);const Ze=yield Va(A);for(const qe of se){const pt=Ze.find(Rt=>Rt.measurementId===qe),xt=pt&&D[pt.appId];if(!xt){Y=[];break}Y.push(xt)}}0===Y.length&&(Y=Object.values(D)),yield Promise.all(Y),E("event",N,z||{})}catch(Y){or.error(Y)}})).apply(this,arguments)}const $a=30,mo=new class go{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Rf(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Kt(){return(Kt=(0,O.Z)(function*(E){var D;const{appId:A,apiKey:N}=E,z={method:"GET",headers:Rf(N)},Y=Wu.replace("{app-id}",A),se=yield fetch(Y,z);if(200!==se.status&&304!==se.status){let Ze="";try{const qe=yield se.json();null!==(D=qe.error)&&void 0!==D&&D.message&&(Ze=qe.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:se.status,responseMessage:Ze})}return se.json()})).apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(E,D=mo,A){const{appId:N,apiKey:z,measurementId:Y}=E.options;if(!N)throw $n.create("no-app-id");if(!z){if(Y)return{measurementId:Y,appId:N};throw $n.create("no-api-key")}const se=D.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Hy;return setTimeout((0,O.Z)(function*(){Ze.abort()}),void 0!==A?A:ol),cl({appId:N,apiKey:z,measurementId:Y},se,Ze,D)})).apply(this,arguments)}function cl(E,D,A){return ll.apply(this,arguments)}function ll(){return ll=(0,O.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:A},N,z=mo){var Y;const{appId:se,measurementId:Ze}=E;try{yield function $y(E,D){return new Promise((A,N)=>{const z=Math.max(D-Date.now(),0),Y=setTimeout(A,z);E.addEventListener(()=>{clearTimeout(Y),N($n.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(N,D)}catch(qe){if(Ze)return or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${qe?.message}]`),{appId:se,measurementId:Ze};throw qe}try{const qe=yield function jd(E){return Kt.apply(this,arguments)}(E);return z.deleteThrottleMetadata(se),qe}catch(qe){const pt=qe;if(!function Mf(E){if(!(E instanceof oe.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(pt)){if(z.deleteThrottleMetadata(se),Ze)return or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:se,measurementId:Ze};throw qe}const xt=503===Number(null===(Y=pt?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,oe.$s)(A,z.intervalMillis,$a):(0,oe.$s)(A,z.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+xt,backoffCount:A+1};return z.setThrottleMetadata(se,Rt),or.debug(`Calling attemptFetch again in ${xt} millis`),cl(E,Rt,N,z)}}),ll.apply(this,arguments)}class Hy{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let yo,Of;function Pf(){return(Pf=(0,O.Z)(function*(E,D,A,N,z){if(z&&z.global)E("event",A,N);else{const Y=yield D;E("event",A,Object.assign(Object.assign({},N),{send_to:Y}))}})).apply(this,arguments)}function dn(){return(dn=(0,O.Z)(function*(){if(!(0,oe.hl)())return or.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(E){return or.warn($n.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ft(){return ft=(0,O.Z)(function*(E,D,A,N,z,Y,se){var Ze;const qe=function Og(E){return Ha.apply(this,arguments)}(E);qe.then(pn=>{A[pn.measurementId]=pn.appId,E.options.measurementId&&pn.measurementId!==E.options.measurementId&&or.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pn=>or.error(pn)),D.push(qe);const pt=function Kr(){return dn.apply(this,arguments)}().then(pn=>{if(pn)return N.getId()}),[xt,Rt]=yield Promise.all([qe,pt]);(function Jo(E){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(qu)&&A.src.includes(E))return A;return null})(Y)||function gs(E,D){const A=function Ba(E,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,D)),A}("firebase-js-sdk-policy",{createScriptURL:al}),N=document.createElement("script"),z=`${qu}?l=${E}&id=${D}`;N.src=A?A?.createScriptURL(z):z,N.async=!0,document.head.appendChild(N)}(Y,xt.measurementId),Of&&(z("consent","default",Of),function hl(E){Of=E}(void 0)),z("js",new Date);const kr=null!==(Ze=se?.config)&&void 0!==Ze?Ze:{};return kr[Gu]="firebase",kr.update=!0,null!=Rt&&(kr[Bd]=Rt),z("config",xt.measurementId,kr),yo&&(z("set",yo),function Xu(E){yo=E}(void 0)),xt.measurementId}),ft.apply(this,arguments)}class Pr{constructor(D){this.app=D}_delete(){return delete An[this.app.options.appId],Promise.resolve()}}let An={},$d=[];const Ga={};let fl,Ei,wi="dataLayer",Ju="gtag",ea=!1;function Us(E,D,A){!function Wa(){const E=[];if((0,oe.ru)()&&E.push("This is a browser extension environment."),(0,oe.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((N,z)=>`(${z+1}) ${N}`).join(" "),A=$n.create("invalid-analytics-context",{errorInfo:D});or.warn(A.message)}}();const N=E.options.appId;if(!N)throw $n.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw $n.create("no-api-key");or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=An[N])throw $n.create("already-exists",{id:N});if(!ea){!function Af(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(wi);const{wrappedGtag:Y,gtagCore:se}=function Fs(E,D,A,N,z){let Y=function(...se){window[N].push(arguments)};return window[z]&&"function"==typeof window[z]&&(Y=window[z]),window[z]=function Xo(E,D,A,N){function Y(){return Y=(0,O.Z)(function*(se,...Ze){try{if("event"===se){const[qe,pt]=Ze;yield function ul(E,D,A,N,z){return ja.apply(this,arguments)}(E,D,A,qe,pt)}else if("config"===se){const[qe,pt]=Ze;yield function Ku(E,D,A,N,z,Y){return po.apply(this,arguments)}(E,D,A,N,qe,pt)}else if("consent"===se){const[qe]=Ze;E("consent","update",qe)}else if("get"===se){const[qe,pt,xt]=Ze;E("get",qe,pt,xt)}else if("set"===se){const[qe]=Ze;E("set",qe)}else E(se,...Ze)}catch(qe){or.error(qe)}}),Y.apply(this,arguments)}return function z(se){return Y.apply(this,arguments)}}(Y,E,D,A),{gtagCore:Y,wrappedGtag:window[z]}}(An,$d,Ga,wi,Ju);Ei=Y,fl=se,ea=!0}return An[N]=function _i(E,D,A,N,z,Y,se){return ft.apply(this,arguments)}(E,$d,Ga,D,fl,wi,A),new Pr(E)}function tc(){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const qa="@firebase/analytics";!function kf(){(0,ee.Xd)(new ae.wA(fn,(D,{options:A})=>Us(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ee.Xd)(new ae.wA("analytics-internal",function E(D){try{const A=D.getProvider(fn).getImmediate();return{logEvent:(N,z,Y)=>function Hd(E,D,A,N){E=(0,oe.m9)(E),function zy(E,D,A,N,z){return Pf.apply(this,arguments)}(Ei,An[E.app.options.appId],D,A,N).catch(z=>or.error(z))}(A,N,z,Y)}}catch(A){throw $n.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ee.KN)(qa,"0.10.0"),(0,ee.KN)(qa,"0.10.0","esm2017")}();var Ka=k(4408),Fi=k(7565);const Or=new class Ya extends Fi.v{}(class Za extends Ka.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(D,A,N):(D.flush(this),0)}});var vl=k(4986),Zn=k(8505),Do=k(9468),bo=k(5363);const Zr=new y.GfV("7.6.1"),Hn="__angularfire_symbol__analyticsIsSupportedValue",Co="__angularfire_symbol__analyticsIsSupported",_l="__angularfire_symbol__remoteConfigIsSupportedValue",ta="__angularfire_symbol__remoteConfigIsSupported",Ui="__angularfire_symbol__messagingIsSupportedValue",Xi="__angularfire_symbol__messagingIsSupported";function sc(E,D,A){if(D){if(1===D.length)return D[0];const Y=D.filter(se=>se.app===A);if(1===Y.length)return Y[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[Co]||(globalThis[Co]=tc().then(E=>globalThis[Hn]=E).catch(()=>globalThis[Hn]=!1)),globalThis[Xi]||(globalThis[Xi]=Sf().then(E=>globalThis[Ui]=E).catch(()=>globalThis[Ui]=!1)),globalThis[ta]||(globalThis[ta]=Yc().then(E=>globalThis[_l]=E).catch(()=>globalThis[_l]=!1));const oc=(E,D)=>{const A=D?[D]:(0,X.C6)(),N=[];return A.forEach(z=>{z.container.getProvider(E).instances.forEach(se=>{N.includes(se)||N.push(se)})}),N};function ms(){}class wl{constructor(D,A=Or){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,N){const z=this.zone;return this.delegate.schedule(function(se){z.runGuarded(()=>{D.apply(this,[se])})},A,N)}}class ac{constructor(D){this.zone=D,this.task=null}call(D,A){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ms,{},ms,ms)),A.pipe((0,Zn.b)({next:N,complete:N,error:N})).subscribe(D).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bt=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=A.run(()=>new wl(Zone.current,vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(y.LFG(y.R0b))},E.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Vi(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Bi(E){return Vi(),function Wd(E){return function(A){return(A=A.lift(new ac(E.ngZone))).pipe((0,Do.R)(E.outsideAngular),(0,bo.Q)(E.insideAngular))}}(Vi())(E)}},2090:(yt,xe,k)=>{k.d(xe,{$s:()=>We,BH:()=>De,G6:()=>Gn,L:()=>fe,LL:()=>Ce,Pz:()=>be,Sg:()=>Be,UG:()=>G,US:()=>ae,ZB:()=>K,ZR:()=>Se,aH:()=>Fe,b$:()=>It,eu:()=>he,hl:()=>te,jU:()=>Ge,m9:()=>Zt,ne:()=>Jt,pd:()=>Bn,r3:()=>Sn,ru:()=>He,tV:()=>V,uI:()=>de,vZ:()=>lt,w1:()=>mn,xO:()=>tr,xb:()=>Hr,z$:()=>Ne,zI:()=>ue,zd:()=>hi});const ee=function(U){const F=[];let q=0;for(let Ee=0;Ee<U.length;Ee++){let ne=U.charCodeAt(Ee);ne<128?F[q++]=ne:ne<2048?(F[q++]=ne>>6|192,F[q++]=63&ne|128):55296==(64512&ne)&&Ee+1<U.length&&56320==(64512&U.charCodeAt(Ee+1))?(ne=65536+((1023&ne)<<10)+(1023&U.charCodeAt(++Ee)),F[q++]=ne>>18|240,F[q++]=ne>>12&63|128,F[q++]=ne>>6&63|128,F[q++]=63&ne|128):(F[q++]=ne>>12|224,F[q++]=ne>>6&63|128,F[q++]=63&ne|128)}return F},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ne=0;ne<U.length;ne+=3){const Ve=U[ne],Nt=ne+1<U.length,tn=Nt?U[ne+1]:0,rr=ne+2<U.length,On=rr?U[ne+2]:0;let ri=(15&tn)<<2|On>>6,is=63&On;rr||(is=64,Nt||(ri=64)),Ee.push(q[Ve>>2],q[(3&Ve)<<4|tn>>4],q[ri],q[is])}return Ee.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(ee(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let q=0,Ee=0;for(;q<U.length;){const ne=U[q++];if(ne<128)F[Ee++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Ve=U[q++];F[Ee++]=String.fromCharCode((31&ne)<<6|63&Ve)}else if(ne>239&&ne<365){const rr=((7&ne)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;F[Ee++]=String.fromCharCode(55296+(rr>>10)),F[Ee++]=String.fromCharCode(56320+(1023&rr))}else{const Ve=U[q++],Nt=U[q++];F[Ee++]=String.fromCharCode((15&ne)<<12|(63&Ve)<<6|63&Nt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const q=F?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ne=0;ne<U.length;){const Ve=q[U.charAt(ne++)],tn=ne<U.length?q[U.charAt(ne)]:0;++ne;const On=ne<U.length?q[U.charAt(ne)]:64;++ne;const Yt=ne<U.length?q[U.charAt(ne)]:64;if(++ne,null==Ve||null==tn||null==On||null==Yt)throw new ve;Ee.push(Ve<<2|tn>>4),64!==On&&(Ee.push(tn<<4&240|On>>2),64!==Yt&&Ee.push(On<<6&192|Yt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(U){return function(U){const F=ee(U);return ae.encodeByteArray(F,!0)}(U).replace(/\./g,"")},V=function(U){try{return ae.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function K(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const q in F)!F.hasOwnProperty(q)||!ze(q)||(U[q]=K(U[q],F[q]));return U}function ze(U){return"__proto__"!==U}const Ae=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&V(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Fe=()=>{var U;return null===(U=Ae())||void 0===U?void 0:U.config},be=U=>{var F;return null===(F=Ae())||void 0===F?void 0:F[`_${U}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,q)=>{this.resolve=F,this.reject=q})}wrapCallback(F){return(q,Ee)=>{q?this.reject(q):this.resolve(Ee),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(q):F(q,Ee))}}}function Be(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=F||"demo-project",ne=U.iat||0,Ve=U.sub||U.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ne,exp:ne+3600,auth_time:ne,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},U);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Nt)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function G(){var U;const F=null===(U=Ae())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function He(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function It(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mn(){const U=Ne();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Gn(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((U,F)=>{try{let q=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ee);ne.onsuccess=()=>{ne.result.close(),q||self.indexedDB.deleteDatabase(Ee),U(!0)},ne.onupgradeneeded=()=>{q=!1},ne.onerror=()=>{var Ve;F((null===(Ve=ne.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(q){F(q)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Se extends Error{constructor(F,q,Ee){super(q),this.code=F,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ce.prototype.create)}}class Ce{constructor(F,q,Ee){this.service=F,this.serviceName=q,this.errors=Ee}create(F,...q){const Ee=q[0]||{},ne=`${this.service}/${F}`,Ve=this.errors[F],Nt=Ve?function it(U,F){return U.replace(ct,(q,Ee)=>{const ne=F[Ee];return null!=ne?String(ne):`<${Ee}?>`})}(Ve,Ee):"Error";return new Se(ne,`${this.serviceName}: ${Nt} (${ne}).`,Ee)}}const ct=/\{\$([^}]+)}/g;function Sn(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function Hr(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function lt(U,F){if(U===F)return!0;const q=Object.keys(U),Ee=Object.keys(F);for(const ne of q){if(!Ee.includes(ne))return!1;const Ve=U[ne],Nt=F[ne];if(zr(Ve)&&zr(Nt)){if(!lt(Ve,Nt))return!1}else if(Ve!==Nt)return!1}for(const ne of Ee)if(!q.includes(ne))return!1;return!0}function zr(U){return null!==U&&"object"==typeof U}function tr(U){const F=[];for(const[q,Ee]of Object.entries(U))Array.isArray(Ee)?Ee.forEach(ne=>{F.push(encodeURIComponent(q)+"="+encodeURIComponent(ne))}):F.push(encodeURIComponent(q)+"="+encodeURIComponent(Ee));return F.length?"&"+F.join("&"):""}function hi(U){const F={};return U.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ne,Ve]=Ee.split("=");F[decodeURIComponent(ne)]=decodeURIComponent(Ve)}}),F}function Bn(U){const F=U.indexOf("?");if(!F)return"";const q=U.indexOf("#",F);return U.substring(F,q>0?q:void 0)}function Jt(U,F){const q=new at(U,F);return q.subscribe.bind(q)}class at{constructor(F,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{F(this)}).catch(Ee=>{this.error(Ee)})}next(F){this.forEachObserver(q=>{q.next(F)})}error(F){this.forEachObserver(q=>{q.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,q,Ee){let ne;if(void 0===F&&void 0===q&&void 0===Ee)throw new Error("Missing Observer.");ne=function ni(U,F){if("object"!=typeof U||null===U)return!1;for(const q of F)if(q in U&&"function"==typeof U[q])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:q,complete:Ee},void 0===ne.next&&(ne.next=nr),void 0===ne.error&&(ne.error=nr),void 0===ne.complete&&(ne.complete=nr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Ve}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,F)}sendOne(F,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{q(this.observers[F])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}const Qt=1e3,ge=2,j=144e5,pe=.5;function We(U,F=Qt,q=ge){const Ee=F*Math.pow(q,U),ne=Math.round(pe*Ee*(Math.random()-.5)*2);return Math.min(j,Ee+ne)}function Zt(U){return U&&U._delegate?U._delegate:U}},9601:(yt,xe,k)=>{var y=k(4650);let X=null;function O(){return X}class oe{}const ae=new y.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return function _e(){return(0,y.LFG)(V)}()},providedIn:"platform"}),n})();const fe=new y.OlP("Location Initialized");let V=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){H()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){H()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ae))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function K(){return new V((0,y.LFG)(ae))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let ut=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(Ae)},providedIn:"root"}),n})();const ye=new y.OlP("appBaseHref");let Ae=(()=>{class n extends ut{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ze(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+Ye(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+Ye(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ve),y.LFG(ye,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Me=(()=>{class n extends ut{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ze(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+Ye(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+Ye(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ve),y.LFG(ye,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(De(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function be(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=ze,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(y.LFG(ut))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function Fe(){return new $e((0,y.LFG)(ut))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}function Qs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}let Rs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Da("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Da("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(y.s_b),y.Y36(y.Rgc))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class jt{constructor(){this.$implicit=null,this.ngIf=null}}function Da(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,y.AaK)(e)}'.`)}let Ms=(()=>{class n{constructor(t,r,s){this._ngEl=t,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[s,u]=t.split("."),l=-1===s.indexOf("-")?void 0:y.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,s,u?`${r}${u}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,s,l)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();const Dd="server";function us(n){return n===Dd}let Ta=(()=>{class n{}return n.\u0275prov=(0,y.Yz7)({token:n,providedIn:"root",factory:()=>new bd((0,y.LFG)(ae),window)}),n})();class bd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ns(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qc(this.window.history)||Qc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sa{}class Ld extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rl extends Ld{static makeCurrent(){!function ee(n){X||(X=n)}(new rl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ko(){return qo=qo||document.querySelector("base"),qo?qo.getAttribute("href"):null}();return null==t?null:function Ng(n){fs=fs||document.createElement("a"),fs.setAttribute("href",n);const e=fs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qs(document.cookie,e)}}let fs,qo=null;const Tf=new y.OlP("TRANSITION_ID"),jy=[{provide:y.ip1,useFactory:function Bu(n,e,t){return()=>{t.get(y.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Tf,ae,y.zs3],multi:!0}];let so=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new y.OlP("EventManagerPlugins");let ju=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(oo),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let il=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),ao=(()=>{class n extends il{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ae))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const uo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$u=/%COMP%/g,Ua=new y.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ud(n,e){return e.flat(100).map(t=>t.replace($u,n))}function ho(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ki=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new ps(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof Bd?s.applyToHost(t):s instanceof fn&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.eventManager,g=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case y.ifc.Emulated:u=new Bd(l,g,r,this.appId,w);break;case y.ifc.ShadowDom:return new Vd(l,g,t,r);default:u=new fn(l,g,r,w)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ju),y.LFG(ao),y.LFG(y.AFp),y.LFG(Ua))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class ps{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(uo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Qo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=uo[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=uo[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(y.JOm.DashCase|y.JOm.Important)?e.style.setProperty(t,r,s&y.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&y.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ho(r)):this.eventManager.addEventListener(e,t,ho(r))}}function Qo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Vd extends ps{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ud(s.id,s.styles);for(const l of u){const g=document.createElement("style");g.textContent=l,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fn extends ps{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=Ud(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Bd extends fn{constructor(e,t,r,s,u){const l=s+"-"+r.id;super(e,t,r,u,l),this.contentAttr=function Sf(n){return"_ngcontent-%COMP%".replace($u,n)}(l),this.hostAttr=function zu(n){return"_nghost-%COMP%".replace($u,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Gu=(()=>{class n extends Zo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ae))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const ol=["alt","control","meta","shift"],Wu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let or=(()=>{class n extends Zo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),ol.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),l+=C+".")}),l+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=l,w}static matchEventFullKeyCode(t,r){let s=Wu[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ol.forEach(l=>{l!==s&&(0,qu[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ae))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const ul=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function gs(){rl.makeCurrent()},multi:!0},{provide:ae,useFactory:function Ku(){return(0,y.RDi)(document),document},deps:[]}]),ja=new y.OlP(""),Xo=[{provide:y.rWj,useClass:class Fa{addToWindow(e){y.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},y.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(r=>{const s=y.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(w){l=l||w,u--,0==u&&r(l)};s.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],Fs=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Af(){return new y.qLn},deps:[]},{provide:oo,useClass:Gu,multi:!0,deps:[ae,y.R0b,y.Lbi]},{provide:oo,useClass:or,multi:!0,deps:[ae]},{provide:ki,useClass:ki,deps:[ju,ao,y.AFp,Ua]},{provide:y.FYo,useExisting:ki},{provide:il,useExisting:ao},{provide:ao,useClass:ao,deps:[ae]},{provide:ju,useClass:ju,deps:[oo,y.R0b]},{provide:Sa,useClass:so,deps:[]},[]];let Jo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:y.AFp,useValue:t.appId},{provide:Tf,useExisting:y.AFp},jy]}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ja,12))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[...Fs,...Xo],imports:[mi,y.hGG]}),n})(),Rf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ae))},n.\u0275prov=y.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function mo(){return new Rf((0,y.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var dn=k(8996),_i=k(7669);function ft(...n){const e=(0,_i.yG)(n);return(0,dn.D)(n,e)}var Pr=k(7579);class An extends Pr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ga=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var wi=k(9751);const{isArray:Ju}=Array,{getPrototypeOf:fl,prototype:Ei,keys:ea}=Object;var Us=k(4671),Et=k(4004);const{isArray:pl}=Array;var Nr=k(5403),gl=k(9672);function ml(...n){const e=(0,_i.yG)(n),t=(0,_i.jO)(n),{args:r,keys:s}=function ec(n){if(1===n.length){const e=n[0];if(Ju(e))return{args:e,keys:null};if(function Wa(n){return n&&"object"==typeof n&&fl(n)===Ei}(e)){const t=ea(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return(0,dn.D)([],e);const u=new wi.y(function Eo(n,e,t=Us.y){return r=>{Io(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let w=0;w<s;w++)Io(e,()=>{const C=(0,dn.D)(n[w],e);let S=!1;C.subscribe((0,Nr.x)(r,P=>{u[w]=P,S||(S=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>function wo(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}(s,l):Us.y));return t?u.pipe(function _o(n){return(0,Et.U)(e=>function tc(n,e){return pl(e)?n(...e):n(e)}(n,e))}(t)):u}function Io(n,e,t){n?(0,gl.f)(t,n,e):e()}var nc=k(8189);function rc(...n){return function Hd(){return(0,nc.J)(1)}()((0,dn.D)(n,(0,_i.yG)(n)))}var qa=k(8421);function zd(n){return new wi.y(e=>{(0,qa.Xf)(n()).subscribe(e)})}var kf=k(9635),Ka=k(576);function Za(n,e){const t=(0,Ka.m)(n)?n:()=>n,r=s=>s.error(t());return new wi.y(e?s=>e.schedule(r,0,s):r)}var Fi=k(515),Ya=k(727),Or=k(4482);function yl(){return(0,Or.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Nr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vl extends wi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Or.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ya.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Nr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ya.w0.EMPTY)}return e}refCount(){return yl()(this)}}function Zn(n,e){return(0,Or.e)((t,r)=>{let s=null,u=0,l=!1;const g=()=>l&&!s&&r.complete();t.subscribe((0,Nr.x)(r,w=>{s?.unsubscribe();let C=0;const S=u++;(0,qa.Xf)(n(w,S)).subscribe(s=(0,Nr.x)(r,P=>r.next(e?e(w,P,S,C++):P),()=>{s=null,g()}))},()=>{l=!0,g()}))})}function Do(n){return n<=0?()=>Fi.E:(0,Or.e)((e,t)=>{let r=0;e.subscribe((0,Nr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function bo(...n){const e=(0,_i.yG)(n);return(0,Or.e)((t,r)=>{(e?rc(n,t,e):rc(n,t)).subscribe(r)})}function Zr(n,e){return(0,Or.e)((t,r)=>{let s=0;t.subscribe((0,Nr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Hn=k(5577);function Co(n){return(0,Or.e)((e,t)=>{let r=!1;e.subscribe((0,Nr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function _l(n=ta){return(0,Or.e)((e,t)=>{let r=!1;e.subscribe((0,Nr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function ta(){return new Ga}function Ui(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((s,u)=>n(s,u,r)):Us.y,Do(1),t?Co(e):_l(()=>new Ga))}function Xi(n,e){return(0,Ka.m)(e)?(0,Hn.z)(n,e,1):(0,Hn.z)(n,1)}var mr=k(8505);function To(n){return(0,Or.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Nr.x)(t,void 0,void 0,l=>{u=(0,qa.Xf)(n(l,To(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ic(n,e){return(0,Or.e)(function Lf(n,e,t,r,s){return(u,l)=>{let g=t,w=e,C=0;u.subscribe((0,Nr.x)(l,S=>{const P=C++;w=g?n(w,S,P):(g=!0,S),r&&l.next(w)},s&&(()=>{g&&l.next(w),l.complete()})))}}(n,e,arguments.length>=2,!0))}function sc(n){return n<=0?()=>Fi.E:(0,Or.e)((e,t)=>{let r=[];e.subscribe((0,Nr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function oc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((s,u)=>n(s,u,r)):Us.y,sc(1),t?Co(e):_l(()=>new Ga))}function ac(n){return(0,Or.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const bt="primary",Vi=Symbol("RouteTitle");class uc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ii(n){return new uc(n)}function Ff(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Wd(n[s],e[s]))return!1;return!0}function Wd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function qd(n){return Array.prototype.concat.apply([],n)}function Kd(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function A(n){return(0,y.CqO)(n)?n:(0,y.QGY)(n)?(0,dn.D)(Promise.resolve(n)):ft(n)}const N=!1,z={exact:function qe(n,e,t){if(!yr(n.segments,e.segments)||!kr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qe(n.children[r],e.children[r],t))return!1;return!0},subset:xt},Y={exact:function Ze(n,e){return Bi(n,e)},subset:function pt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Wd(n[t],e[t]))},ignored:()=>!0};function se(n,e,t){return z[t.paths](n.root,e.root,t.matrixParams)&&Y[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function xt(n,e,t){return Rt(n,e,e.segments,t)}function Rt(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!yr(s,t)||e.hasChildren()||!kr(s,t,r))}if(n.segments.length===t.length){if(!yr(n.segments,t)||!kr(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!xt(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(yr(n.segments,s)&&kr(n.segments,s,r)&&n.children[bt])&&Rt(n.children[bt],e,u,r)}}function kr(n,e,t){return e.every((r,s)=>Y[t](n[s].parameters,r.parameters))}class pn{constructor(e=new Ot([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ii(this.queryParams)),this._queryParamMap}toString(){return Il.serialize(this)}}class Ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class Vs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ii(this.parameters)),this._parameterMap}toString(){return kg(this)}}function yr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return new El},providedIn:"root"}),n})();class El{parse(e){const t=new bl(e);return new pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qa(e.root,!0)}`,r=function Gy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Ao(t)}=${Ao(s)}`).join("&"):`${Ao(t)}=${Ao(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Vf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Il=new El;function Uf(n){return n.segments.map(e=>kg(e)).join("/")}function Qa(n,e){if(!n.hasChildren())return Uf(n);if(e){const t=n.children[bt]?Qa(n.children[bt],!1):"",r=[];return D(n.children,(s,u)=>{u!==bt&&r.push(`${u}:${Qa(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ji(n,e){let t=[];return D(n.children,(r,s)=>{s===bt&&(t=t.concat(e(r,s)))}),D(n.children,(r,s)=>{s!==bt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===bt?[Qa(n.children[bt],!1)]:[`${s}:${Qa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${Uf(n)}/${t[0]}`:`${Uf(n)}/(${t.join("//")})`}}function Dl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ao(n){return Dl(n).replace(/%3B/gi,";")}function xo(n){return Dl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cc(n){return decodeURIComponent(n)}function Bf(n){return cc(n.replace(/\+/g,"%20"))}function kg(n){return`${xo(n.path)}${function jf(n){return Object.keys(n).map(e=>`;${xo(e)}=${xo(n[e])}`).join("")}(n.parameters)}`}const Lg=/^[^\/()?;=#]+/;function Zd(n){const e=n.match(Lg);return e?e[0]:""}const L0=/^[^=?&#]+/,Wy=/^[^&#]+/;class bl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new Ot(e,t)),r}parseSegment(){const e=Zd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new y.vHH(4009,N);return this.capture(e),new Vs(cc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Zd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Zd(this.remaining);s&&(r=s,this.capture(r))}e[cc(t)]=cc(r)}parseQueryParam(e){const t=function Xa(n){const e=n.match(L0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Fg(n){const e=n.match(Wy);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=Bf(t),u=Bf(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Zd(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new y.vHH(4010,N);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=bt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[bt]:new Ot([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new y.vHH(4011,N)}}function Yd(n){return n.segments.length>0?new Ot([],{[bt]:n}):n}function na(n){const e={};for(const r of Object.keys(n.children)){const u=na(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function qy(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new Ot(n.segments.concat(e.segments),e.children)}return n}(new Ot(n.segments,e))}function Ja(n){return n instanceof pn}const lc=!1;function Ug(n,e,t,r,s){if(0===t.length)return Ro(e.root,e.root,e.root,r,s);const u=function Sl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xd(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return D(u.outlets,(w,C)=>{g[C]="string"==typeof w?w.split("/"):w}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new Xd(t,e,r)}(t);return u.toRoot()?Ro(e.root,e.root,new Ot([],{}),r,s):function l(w){const C=function Jd(n,e,t,r){if(n.isAbsolute)return new eu(e.root,!0,0);if(-1===r)return new eu(t,t===e.root,0);return function tu(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new y.vHH(4005,lc&&"Invalid number of '../'");s=r.segments.length}return new eu(r,!1,s-u)}(t,r+(Tl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=C.processChildren?ys(C.segmentGroup,C.index,u.commands):th(C.segmentGroup,C.index,u.commands);return Ro(e.root,C.segmentGroup,S,r,s)}(n.snapshot?._lastPathIndex)}function Tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qd(n){return"object"==typeof n&&null!=n&&n.outlets}function Ro(n,e,t,r,s){let l,u={};r&&D(r,(w,C)=>{u[C]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),l=n===e?t:Vg(n,e,t);const g=Yd(na(l));return new pn(g,u,s)}function Vg(n,e,t){const r={};return D(n.children,(s,u)=>{r[u]=s===e?t:Vg(s,e,t)}),new Ot(n.segments,r)}class Xd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tl(r[0]))throw new y.vHH(4003,lc&&"Root segment cannot have matrix parameters");const s=r.find(Qd);if(s&&s!==Kd(r))throw new y.vHH(4004,lc&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function th(n,e,t){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return ys(n,e,t);const r=function Hf(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(Qd(g))break;const w=`${g}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&C&&"object"==typeof C&&void 0===C.outlets){if(!Gf(w,C,l))return u;r+=2}else{if(!Gf(w,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ot(n.segments.slice(0,r.pathIndex),{});return u.children[bt]=new Ot(n.segments.slice(r.pathIndex),n.children),ys(u,0,s)}return r.match&&0===s.length?new Ot(n.segments,{}):r.match&&!n.hasChildren()?Al(n,e,t):r.match?ys(n,0,s):Al(n,e,t)}function ys(n,e,t){if(0===t.length)return new Ot(n.segments,{});{const r=function eh(n){return Qd(n[0])?n[0].outlets:{[bt]:n}}(t),s={};if(!r[bt]&&n.children[bt]&&1===n.numberOfChildren&&0===n.children[bt].segments.length){const u=ys(n.children[bt],e,t);return new Ot(n.segments,u.children)}return D(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=th(n.children[l],e,u))}),D(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new Ot(n.segments,s)}}function Al(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Qd(u)){const w=xl(u.outlets);return new Ot(r,w)}if(0===s&&Tl(t[0])){r.push(new Vs(n.segments[e].path,zf(t[0]))),s++;continue}const l=Qd(u)?u.outlets[bt]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&Tl(g)?(r.push(new Vs(l,zf(g))),s+=2):(r.push(new Vs(l,{})),s++)}return new Ot(r,{})}function xl(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Al(new Ot([],{}),0,t))}),e}function zf(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function Gf(n,e,t){return n==t.path&&Bi(e,t.parameters)}const Rl="imperative";class js{constructor(e,t){this.id=e,this.url=t}}class Wf extends js{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ji extends js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ml extends js{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ia extends js{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Pl extends js{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dc extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zy extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yy extends js{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qy extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qf extends js{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Yf=(()=>{class n{createUrlTree(t,r,s,u,l,g){return Ug(t||r.root,s,u,l,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(e){return Yf.\u0275fac(e)},providedIn:"root"}),n})();class Xf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Jf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Jf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Lr(e,this._root).map(t=>t.value)}}function Jf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Jf(n,t);if(r)return r}return null}function Lr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Lr(n,t);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jy extends Xf{constructor(e,t){super(e),this.snapshot=t,ru(this,e)}toString(){return this.snapshot.toString()}}function ev(n,e){const t=function tv(n,e){const l=new rh([],{},{},"",{},bt,e,null,n.root,-1,{});return new $s("",new bi(l,[]))}(n,e),r=new An([new Vs("",{})]),s=new An({}),u=new An({}),l=new An({}),g=new An(""),w=new Dr(r,s,l,g,u,bt,e,t.root);return w.snapshot=t.root,new Jy(new bi(w,[]),t)}class Dr{constructor(e,t,r,s,u,l,g,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.title=this.data?.pipe((0,Et.U)(C=>C[Vi]))??ft(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>Ii(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>Ii(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ep(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function nh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class rh{get title(){return this.data?.[Vi]}constructor(e,t,r,s,u,l,g,w,C,S,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=w,this._urlSegment=C,this._lastPathIndex=S,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ii(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ii(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $s extends Xf{constructor(e,t){super(t),this.url=e,ru(this,t)}toString(){return tp(this._root)}}function ru(n,e){e.value._routerState=n,e.children.forEach(t=>ru(n,t))}function tp(n){const e=n.children.length>0?` { ${n.children.map(tp).join(", ")} } `:"";return`${n.value}${e}`}function pc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bi(e.params,t.params)||n.params.next(t.params),function Gd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vs(n,e){const t=Bi(n.params,e.params)&&function So(n,e){return yr(n,e)&&n.every((t,r)=>Bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||vs(n.parent,e.parent))}function gc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Hg(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return gc(n,r,s);return gc(n,r)})}(n,e,t);return new bi(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>gc(n,g)),l}}const r=function zg(n){return new Dr(new An(n.url),new An(n.params),new An(n.queryParams),new An(n.fragment),new An(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>gc(n,u));return new bi(r,s)}}const Gg="ngNavigationCancelingError";function m(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ja(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=h(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function h(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Gg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function f(n){return _(n)&&Ja(n.url)}function _(n){return n&&n[Gg]}class T{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new R,this.attachRef=null}}let R=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new T,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B=!1;let Q=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(R),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,B);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,B);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,B);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new y.vHH(4013,B);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,w=new Pe(t,g,s.injector);if(r&&function Ke(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(l);this.activated=s.createComponent(C,s.length,w)}else this.activated=s.createComponent(l,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=y.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),n})();class Pe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Dr?this.route:e===R?this.childContexts:this.parent.get(e,t)}}let st=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(t,r){1&t&&y._UZ(0,"router-outlet")},dependencies:[Q],encapsulation:2}),n})();function ot(n,e){return n.providers&&!n._injector&&(n._injector=(0,y.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kl(n){const e=n.children&&n.children.map(kl),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=st),t}function $i(n){return n.outlet||bt}function sh(n,e){const t=n.filter(r=>$i(r)===e);return t.push(...n.filter(r=>$i(r)!==e)),t}function mc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oh{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=fc(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),D(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=fc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=fc(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=fc(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new Di(u.value.snapshot))}),e.children.length&&this.forwardEvent(new hc(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(pc(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),pc(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=mc(s.snapshot),w=g?.get(y._Vd)??null;l.attachRef=null,l.route=s,l.resolver=w,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class iv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sv{constructor(e,t){this.component=e,this.route=t}}function np(n,e,t){const r=n._root;return ah(r,e?e._root:null,t,[r.value])}function Ll(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,y.Z0I)(n)?e.get(n):n:r}function ah(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=fc(e);return n.children.forEach(l=>{(function F0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const w=function mD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!yr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!yr(n.url,e.url)||!Bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vs(n,e)||!Bi(n.queryParams,e.queryParams);default:return!vs(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new iv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),ah(n,e,u.component?g?g.children:null:t,r,s),w&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new sv(g.outlet.component,l))}else l&&rp(e,g,s),s.canActivateChecks.push(new iv(r)),ah(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),D(u,(l,g)=>rp(l,t.getContext(g),s)),s}function rp(n,e,t){const r=fc(n),s=n.value;D(r,(u,l)=>{rp(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new sv(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function uh(n){return"function"==typeof n}function su(n){return n instanceof Ga||"EmptyError"===n?.name}const Kg=Symbol("INITIAL_VALUE");function yc(){return Zn(n=>ml(n.map(e=>e.pipe(Do(1),bo(Kg)))).pipe((0,Et.U)(e=>{for(const t of e)if(!0!==t){if(t===Kg)return Kg;if(!1===t||t instanceof pn)return t}return!0}),Zr(e=>e!==Kg),Do(1)))}function hv(n){return(0,kf.z)((0,mr.b)(e=>{if(Ja(e))throw m(0,e)}),(0,Et.U)(e=>!0===e))}const fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j0(n,e,t,r,s){const u=pv(n,e,t);return u.matched?function ch(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?ft(s.map(l=>{const g=Ll(l,n);return A(function cv(n){return n&&uh(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(yc(),hv()):ft(!0)}(r=ot(e,r),e,t).pipe((0,Et.U)(l=>!0===l?u:{...fv})):ft(u)}function pv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Ff)(t,n,e);if(!s)return{...fv};const u={};D(s.posParams,(g,w)=>{u[w]=g.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function lh(n,e,t,r){if(t.length>0&&function DD(n,e,t){return t.some(r=>gv(n,e,r)&&$i(r)!==bt)}(n,t,r)){const u=new Ot(e,function $0(n,e,t,r){const s={};s[bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&$i(u)!==bt){const l=new Ot([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[$i(u)]=l}return s}(n,e,r,new Ot(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function H0(n,e,t){return t.some(r=>gv(n,e,r))}(n,t,r)){const u=new Ot(n.segments,function ID(n,e,t,r,s){const u={};for(const l of r)if(gv(n,t,l)&&!s[$i(l)]){const g=new Ot([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[$i(l)]=g}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Ot(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function gv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function z0(n,e,t,r){return!!($i(n)===r||r!==bt&&gv(e,t,n))&&("**"===n.path||pv(e,n,t).matched)}function dh(n,e,t){return 0===e.length&&!n.children[t]}const Qg=!1;class ou{constructor(e){this.segmentGroup=e||null}}class hh{constructor(e){this.urlTree=e}}function ip(n){return Za(new ou(n))}function mv(n){return Za(new hh(n))}class G0{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=lh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ot(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,bt).pipe((0,Et.U)(u=>this.createUrlTree(na(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(To(u=>{if(u instanceof hh)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ou?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,bt).pipe((0,Et.U)(s=>this.createUrlTree(na(s),e.queryParams,e.fragment))).pipe(To(s=>{throw s instanceof ou?this.noMatchError(s):s}))}noMatchError(e){return new y.vHH(4002,Qg)}createUrlTree(e,t,r){const s=Yd(e);return new pn(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Et.U)(u=>new Ot([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,dn.D)(s).pipe(Xi(u=>{const l=r.children[u],g=sh(t,u);return this.expandSegmentGroup(e,g,l,u).pipe((0,Et.U)(w=>({segment:w,outlet:u})))}),ic((u,l)=>(u[l.outlet]=l.segment,u),{}),oc())}expandSegment(e,t,r,s,u,l){return(0,dn.D)(r).pipe(Xi(g=>this.expandSegmentAgainstRoute(e,t,r,g,s,u,l).pipe(To(C=>{if(C instanceof ou)return ft(null);throw C}))),Ui(g=>!!g),To((g,w)=>{if(su(g))return dh(t,s,u)?ft(new Ot([],{})):ip(t);throw g}))}expandSegmentAgainstRoute(e,t,r,s,u,l,g){return z0(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):ip(t):ip(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mv(u):this.lineralizeSegments(r,u).pipe((0,Hn.z)(l=>{const g=new Ot(l,{});return this.expandSegment(e,g,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:w,remainingSegments:C,positionalParamSegments:S}=pv(t,s,u);if(!g)return ip(t);const P=this.applyRedirectCommands(w,s.redirectTo,S);return s.redirectTo.startsWith("/")?mv(P):this.lineralizeSegments(s,P).pipe((0,Hn.z)($=>this.expandSegment(e,t,r,$.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=ot(r,e),r.loadChildren?(r._loadedRoutes?ft({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Et.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new Ot(s,{})))):ft(new Ot(s,{}))):j0(t,r,s,e).pipe(Zn(({matched:l,consumedSegments:g,remainingSegments:w})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,Hn.z)(S=>{const P=S.injector??e,$=S.routes,{segmentGroup:Z,slicedSegments:ce}=lh(t,g,w,$),Oe=new Ot(Z.segments,Z.children);if(0===ce.length&&Oe.hasChildren())return this.expandChildren(P,$,Oe).pipe((0,Et.U)(Dt=>new Ot(g,Dt)));if(0===$.length&&0===ce.length)return ft(new Ot(g,{}));const Le=$i(r)===u;return this.expandSegment(P,Oe,$,ce,Le?bt:u,!0).pipe((0,Et.U)(Ct=>new Ot(g.concat(Ct.segments),Ct.children)))})):ip(t)))}getChildConfig(e,t,r){return t.children?ft({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ft({routes:t._loadedRoutes,injector:t._loadedInjector}):function ED(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?ft(!0):ft(s.map(l=>{const g=Ll(l,n);return A(function av(n){return n&&uh(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(yc(),hv())}(e,t,r).pipe((0,Hn.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,mr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function CD(n){return Za(h(Qg,3))}())):ft({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ft(r);if(s.numberOfChildren>1||!s.children[bt])return e.redirectTo,Za(new y.vHH(4e3,Qg));s=s.children[bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new pn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);r[u]=t[g]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return D(t.children,(g,w)=>{l[w]=this.createSegmentGroup(e,g,r,s)}),new Ot(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new y.vHH(4001,Qg);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class yv{}class sp{constructor(e,t,r,s,u,l,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g}recognize(){const e=lh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bt).pipe((0,Et.U)(t=>{if(null===t)return null;const r=new rh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new bi(r,t),u=new $s(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=ep(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,dn.D)(Object.keys(r.children)).pipe(Xi(s=>{const u=r.children[s],l=sh(t,s);return this.processSegmentGroup(e,l,u,s)}),ic((s,u)=>s&&u?(s.push(...u),s):null),function ms(n,e=!1){return(0,Or.e)((t,r)=>{let s=0;t.subscribe((0,Nr.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),Co(null),oc(),(0,Et.U)(s=>{if(null===s)return null;const u=q0(s);return function AD(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,dn.D)(t).pipe(Xi(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),Ui(l=>!!l),To(l=>{if(su(l))return dh(r,s,u)?ft([]):ft(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!z0(t,r,s,u))return ft(null);let l;if("**"===t.path){const g=s.length>0?Kd(s).parameters:{},w=Z0(r)+s.length;l=ft({snapshot:new rh(s,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sa(t),$i(t),t.component??t._loadedComponent??null,t,K0(r),w,Y0(t)),consumedSegments:[],remainingSegments:[]})}else l=j0(r,t,s,e).pipe((0,Et.U)(({matched:g,consumedSegments:w,remainingSegments:C,parameters:S})=>{if(!g)return null;const P=Z0(r)+w.length;return{snapshot:new rh(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sa(t),$i(t),t.component??t._loadedComponent??null,t,K0(r),P,Y0(t)),consumedSegments:w,remainingSegments:C}}));return l.pipe(Zn(g=>{if(null===g)return ft(null);const{snapshot:w,consumedSegments:C,remainingSegments:S}=g;e=t._injector??e;const P=t._loadedInjector??e,$=function xD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Z,slicedSegments:ce}=lh(r,C,S,$.filter(Le=>void 0===Le.redirectTo));if(0===ce.length&&Z.hasChildren())return this.processChildren(P,$,Z).pipe((0,Et.U)(Le=>null===Le?null:[new bi(w,Le)]));if(0===$.length&&0===ce.length)return ft([new bi(w,[])]);const Oe=$i(t)===u;return this.processSegment(P,$,Z,ce,Oe?bt:u).pipe((0,Et.U)(Le=>null===Le?null:[new bi(w,Le)]))}))}}function RD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function q0(n){const e=[],t=new Set;for(const r of n){if(!RD(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=q0(r.children);e.push(new bi(r.value,s))}return e.filter(r=>!t.has(r))}function K0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function sa(n){return n.data||{}}function Y0(n){return n.resolve||{}}function _v(n){return"string"==typeof n.title||null===n.title}function wv(n){return Zn(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,Et.U)(()=>e)):ft(e)})}const fh=new y.OlP("ROUTES");let Iv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ft(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=A(t.loadComponent()).pipe((0,Et.U)(J0),(0,mr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ac(()=>{this.componentLoaders.delete(t)})),s=new vl(r,()=>new Pr.x).pipe(yl());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Et.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,C,S=!1;Array.isArray(g)?C=g:(w=g.create(t).injector,C=qd(w.get(fh,[],y.XFs.Self|y.XFs.Optional)));return{routes:C.map(kl),injector:w}}),ac(()=>{this.childrenLoaders.delete(r)})),l=new vl(u,()=>new Pr.x).pipe(yl());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return A(t()).pipe((0,Et.U)(J0),(0,Hn.z)(r=>r instanceof y.YKP||Array.isArray(r)?ft(r):(0,dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J0(n){return function Mo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Pr.x,this.configLoader=(0,y.f3M)(Iv),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Bs),this.rootContexts=(0,y.f3M)(R),this.navigationId=0,this.afterPreactivation=()=>ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Bg(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Nl(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new An({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(r=>0!==r.id),(0,Et.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Zn(r=>{let s=!1,u=!1;return ft(r).pipe((0,mr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(l=>{const g=t.browserUrlTree.toString(),w=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!w&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new ia(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Fi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ew(l.source)&&(t.browserUrlTree=l.extractedUrl),ft(l).pipe(Zn(S=>{const P=this.transitions?.getValue();return this.events.next(new Wf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?Fi.E:Promise.resolve(S)}),function W0(n,e,t,r){return Zn(s=>function TD(n,e,t,r,s){return new G0(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,Et.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,mr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function PD(n,e,t,r,s){return(0,Hn.z)(u=>function vv(n,e,t,r,s,u,l="emptyOnly"){return new sp(n,e,t,r,s,l,u).recognize().pipe(Zn(g=>null===g?function SD(n){return new wi.y(e=>e.error(n))}(new yv):ft(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,Et.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,mr.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const $=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl($,S)}t.browserUrlTree=S.urlAfterRedirects}const P=new dc(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:P,source:$,restoredState:Z,extras:ce}=l,Oe=new Wf(S,this.urlSerializer.serialize(P),$,Z);this.events.next(Oe);const Le=ev(P,this.rootComponentType).snapshot;return ft(r={...l,targetSnapshot:Le,urlAfterRedirects:P,extras:{...ce,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new ia(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Fi.E}}),(0,mr.b)(l=>{const g=new Zy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,Et.U)(l=>r={...l,guards:np(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Zg(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?ft({...t,guardsResult:!0}):function _D(n,e,t,r){return(0,dn.D)(n).pipe((0,Hn.z)(s=>function wD(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ft(u.map(g=>{const w=mc(e)??s,C=Ll(g,w);return A(function yD(n){return n&&uh(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):w.runInContext(()=>C(n,e,t,r))).pipe(Ui())})).pipe(yc()):ft(!0)}(s.component,s.route,t,e,r)),Ui(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Hn.z)(g=>g&&function U0(n){return"boolean"==typeof n}(g)?function lv(n,e,t,r){return(0,dn.D)(e).pipe(Xi(s=>rc(function Fl(n,e){return null!==n&&e&&e(new jg(n)),ft(!0)}(s.route.parent,r),function Yg(n,e){return null!==n&&e&&e(new Kf(n)),ft(!0)}(s.route,r),function dv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function ov(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>zd(()=>ft(l.guards.map(w=>{const C=mc(l.node)??t,S=Ll(w,C);return A(function uv(n){return n&&uh(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe(Ui())})).pipe(yc())));return ft(u).pipe(yc())}(n,s.path,t),function B0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ft(!0);const s=r.map(u=>zd(()=>{const l=mc(e)??t,g=Ll(u,l);return A(function MS(n){return n&&uh(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(Ui())}));return ft(s).pipe(yc())}(n,s.route,t))),Ui(s=>!0!==s,!0))}(r,u,n,e):ft(g)),(0,Et.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),(0,mr.b)(l=>{if(r.guardsResult=l.guardsResult,Ja(l.guardsResult))throw m(0,l.guardsResult);const g=new Yy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),Zr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),wv(l=>{if(l.guards.canActivateChecks.length)return ft(l).pipe((0,mr.b)(g=>{const w=new Qy(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),Zn(g=>{let w=!1;return ft(g).pipe(function PS(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ft(t);let u=0;return(0,dn.D)(s).pipe(Xi(l=>function NS(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!_v(s)&&(u[Vi]=s.title),function Q0(n,e,t,r){const s=function OS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ft({});const u={};return(0,dn.D)(s).pipe((0,Hn.z)(l=>function X0(n,e,t,r){const s=mc(e)??r,u=Ll(n,s);return A(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Ui(),(0,mr.b)(g=>{u[l]=g}))),sc(1),function wl(n){return(0,Et.U)(()=>n)}(u),To(l=>su(l)?Fi.E:Za(l)))}(u,n,e,r).pipe((0,Et.U)(l=>(n._resolvedData=l,n.data=ep(n,t).resolve,s&&_v(s)&&(n.data[Vi]=s.title),null)))}(l.route,r,n,e)),(0,mr.b)(()=>u++),sc(1),(0,Hn.z)(l=>u===s.length?ft(t):Fi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,mr.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,mr.b)(g=>{const w=new qf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}))}),wv(l=>{const g=w=>{const C=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,mr.b)(S=>{w.component=S}),(0,Et.U)(()=>{})));for(const S of w.children)C.push(...g(S));return C};return ml(g(l.targetSnapshot.root)).pipe(Co(),Do(1))}),wv(()=>this.afterPreactivation()),(0,Et.U)(l=>{const g=function iu(n,e,t){const r=gc(n,e._root,t?t._root:void 0);return new Jy(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),(0,mr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(r=>(new oh(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Do(1),(0,mr.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ji(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ac(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),To(l=>{if(u=!0,_(l)){f(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Ml(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),f(l)){const w=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ew(r.source)};t.scheduleNavigation(w,Rl,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Pl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(w){r.reject(w)}}return Fi.E}))}))}cancelNavigationTransition(t,r,s){const u=new Ml(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ew(n){return n!==Rl}let tw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===bt);return r}getResolvedTitleForRoute(t){return t.data[Vi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(ND)},providedIn:"root"}),n})(),ND=(()=>{class n extends tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Rf))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(kD)},providedIn:"root"}),n})();class OD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let kD=(()=>{class n extends OD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=y.n5z(n)))(r||n)}}(),n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ft=new y.OlP("",{providedIn:"root",factory:()=>({})});let rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(iw)},providedIn:"root"}),n})(),iw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FD(n){throw n}function UD(n,e,t){return e.parse("/")}const sw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Ft,{optional:!0})||{},this.errorHandler=this.options.errorHandler||FD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(rw),this.routeReuseStrategy=(0,y.f3M)(nw),this.urlCreationStrategy=(0,y.f3M)(Xy),this.titleStrategy=(0,y.f3M)(tw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qd((0,y.f3M)(fh,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(Jg),this.urlSerializer=(0,y.f3M)(Bs),this.location=(0,y.f3M)($e),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new pn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ev(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const w={...s};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(kl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:w}=r,C=w?this.currentUrlTree.fragment:l;let S=null;switch(g){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,S,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Ja(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Rl,null,r)}navigate(t,r={skipLocationChange:!1}){return function BD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new y.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...sw}:!1===r?{...VD}:r,Ja(t))return se(this.currentUrlTree,t,s);const u=this.parseUrl(t);return se(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,w,C,S;return l?(g=l.resolve,w=l.reject,C=l.promise):C=new Promise((P,$)=>{g=P,w=$}),S="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:w,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bv{}let Cv=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof Ji),Xi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,y.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,dn.D)(s).pipe((0,nc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ft(null);const u=s.pipe((0,Hn.z)(l=>null===l?ft(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,dn.D)([u,l]).pipe((0,nc.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(es),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(bv),y.LFG(Iv))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const up=new y.OlP("");let aw=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ji&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){y.$Z()},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();var zs=(()=>((zs=zs||{})[zs.COMPLETE=0]="COMPLETE",zs[zs.FAILED=1]="FAILED",zs[zs.REDIRECTING=2]="REDIRECTING",zs))();const cp=!1;function Ul(n,e){return{\u0275kind:n,\u0275providers:e}}const Sv=new y.OlP("",{providedIn:"root",factory:()=>!1});function lp(){const n=(0,y.f3M)(y.zs3);return e=>{const t=n.get(y.z2F);if(e!==t.components[0])return;const r=n.get(es),s=n.get(uw);1===n.get(tm)&&r.initialNavigation(),n.get(cw,null,y.XFs.Optional)?.setUpPreloading(),n.get(up,null,y.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const uw=new y.OlP(cp?"bootstrap done indicator":"",{factory:()=>new Pr.x}),tm=new y.OlP(cp?"initial navigation":"",{providedIn:"root",factory:()=>1});function zD(){let n=[];return n=cp?[{provide:y.Xts,multi:!0,useFactory:()=>{const e=(0,y.f3M)(es);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Zf(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ul(1,n)}const cw=new y.OlP(cp?"router preloader":"");function GD(n){return Ul(0,[{provide:cw,useExisting:Cv},{provide:bv,useExisting:n}])}const mh=!1,KD=new y.OlP(mh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Av=[$e,{provide:Bs,useClass:El},es,R,{provide:Dr,useFactory:function Tv(n){return n.routerState.root},deps:[es]},Iv,mh?{provide:Sv,useValue:!0}:[]];function ZD(){return new y.PXZ("Router",es)}let YD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Av,mh&&r?.enableTracing?zD().\u0275providers:[],{provide:fh,multi:!0,useValue:t},{provide:KD,useFactory:hw,deps:[[es,new y.FiY,new y.tp0]]},{provide:Ft,useValue:r||{}},r?.useHash?{provide:ut,useClass:Me}:{provide:ut,useClass:Ae},{provide:up,useFactory:()=>{const n=(0,y.f3M)(Ta),e=(0,y.f3M)(y.R0b),t=(0,y.f3M)(Ft),r=(0,y.f3M)(Jg),s=(0,y.f3M)(Bs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new aw(s,r,n,e,t)}},r?.preloadingStrategy?GD(r.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:ZD},r?.initialNavigation?XD(r):[],[{provide:fw,useFactory:lp},{provide:y.tb,multi:!0,useExisting:fw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:fh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(KD,8))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[st]}),n})();function hw(n){if(mh&&n)throw new y.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function XD(n){return["disabled"===n.initialNavigation?Ul(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const e=(0,y.f3M)(es);return()=>{e.setUpLocationChangeListener()}}},{provide:tm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ul(2,[{provide:tm,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:e=>{const t=e.get(fe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(es),u=e.get(uw);(function FS(n,e){n.events.pipe(Zr(t=>t instanceof Ji||t instanceof Ml||t instanceof Pl||t instanceof ia),(0,Et.U)(t=>t instanceof Ji||t instanceof ia?zs.COMPLETE:t instanceof Ml&&(0===t.code||1===t.code)?zs.REDIRECTING:zs.FAILED),Zr(t=>t!==zs.REDIRECTING),Do(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(Jg).afterPreactivation=()=>(r(!0),u.closed?ft(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const fw=new y.OlP(mh?"Router Initializer":""),xv=[];let hp=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[YD.forRoot(xv),YD]}),e})();var Rv=k(4986),Fr=k(710);function rm(){return(0,Or.e)((n,e)=>{let t,r=!1;n.subscribe((0,Nr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function Pv(n,e){return n===e}var rt,_s=k(2011),Ie=(k(8463),k(6101),k(5861)),fp=(k(9752),k(4859)),vc=k(1877),on=k(2090),pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Po={},Hi=Hi||{},$t=pw||self;function sm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function om(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var am="closure_uid_"+(1e9*Math.random()>>>0),eb=0;function tb(n,e,t){return n.call.apply(n.bind,arguments)}function nb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ai(n,e,t){return(ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tb:nb).apply(null,arguments)}function um(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function oa(){this.s=this.s,this.o=this.o}oa.prototype.s=!1,oa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ov(n){Object.prototype.hasOwnProperty.call(n,am)&&n[am]||(n[am]=++eb)}(this)},oa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function kv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(sm(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var aa=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",()=>{},e),$t.removeEventListener("test",()=>{},e)}catch{}return n}();function Vl(n){return/^[\s\xa0]*$/.test(n)}function cm(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function ua(n){return-1!=cm().indexOf(n)}function lm(n){return lm[" "](n),n}lm[" "]=function(){};var _h,sb=ua("Opera"),vh=ua("Trident")||ua("MSIE"),dm=ua("Edge"),Lv=dm||vh,yw=ua("Gecko")&&!(-1!=cm().toLowerCase().indexOf("webkit")&&!ua("Edge"))&&!(ua("Trident")||ua("MSIE"))&&!ua("Edge"),hm=-1!=cm().toLowerCase().indexOf("webkit")&&!ua("Edge");function pp(){var n=$t.document;return n?n.documentMode:void 0}e:{var vw="",gp=function(){var n=cm();return yw?/rv:([^\);]+)(\)|;)/.exec(n):dm?/Edge\/([\d\.]+)/.exec(n):vh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hm?/WebKit\/(\S+)/.exec(n):sb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(gp&&(vw=gp?gp[1]:""),vh){var _w=pp();if(null!=_w&&_w>parseFloat(vw)){_h=String(_w);break e}}_h=vw}var ww=$t.document&&vh&&(pp()||parseInt(_h,10))||void 0;function wh(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yw){e:{try{lm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Uv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wh.$.h.call(this)}}var Uv={2:"touch",3:"pen",4:"mouse"};wh.prototype.h=function(){wh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ws="closure_listenable_"+(1e6*Math.random()|0),pm=0;function gm(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++pm,this.fa=this.ia=!1}function _c(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Vv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Bv(n){const e={};for(const t in n)e[t]=n[t];return e}const Iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dw(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Iw.length;u++)t=Iw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wc(n){this.src=n,this.g={},this.h=0}function jv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=gw(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(_c(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bw(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}wc.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=bw(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new gm(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var $v="closure_lm_"+(1e6*Math.random()|0),Hv={};function Cw(n,e,t,r,s){if(r&&r.once)return Sw(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cw(n,e[u],t,r,s);return null}return t=Wv(t),n&&n[ws]?n.O(e,t,om(r)?!!r.capture:!!r,s):Tw(n,e,t,!1,r,s)}function Tw(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=om(s)?!!s.capture:!!s,g=mp(n);if(g||(n[$v]=g=new wc(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function ob(){const e=ab;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)aa||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(zv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Sw(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Sw(n,e[u],t,r,s);return null}return t=Wv(t),n&&n[ws]?n.P(e,t,om(r)?!!r.capture:!!r,s):Tw(n,e,t,!0,r,s)}function Aw(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Aw(n,e[u],t,r,s);else r=om(r)?!!r.capture:!!r,t=Wv(t),n&&n[ws]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bw(u=n.g[e],t,r,s))&&(_c(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=mp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bw(e,t,r,s)),(t=-1<n?e[n]:null)&&mm(t))}function mm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ws])jv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(zv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=mp(e))?(jv(t,n),0==t.h&&(t.src=null,e[$v]=null)):_c(n)}}}function zv(n){return n in Hv?Hv[n]:Hv[n]="on"+n}function ab(n,e){if(n.fa)n=!0;else{e=new wh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&mm(n),n=t.call(r,e)}return n}function mp(n){return(n=n[$v])instanceof wc?n:null}var Gv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wv(n){return"function"==typeof n?n:(n[Gv]||(n[Gv]=function(e){return n.handleEvent(e)}),n[Gv])}function Qr(){oa.call(this),this.i=new wc(this),this.S=this,this.J=null}function ui(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var s=e;Dw(e=new Ci(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=ym(l,r,!0,e)&&s}if(s=ym(l=e.g=n,r,!0,e)&&s,s=ym(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=ym(l=e.g=t[u],r,!1,e)&&s}function ym(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var g=l.listener,w=l.la||l.src;l.ia&&jv(n.i,l),s=!1!==g.call(w,r)&&s}}return s&&!r.defaultPrevented}Qr.prototype[ws]=!0,Qr.prototype.removeEventListener=function(n,e,t,r){Aw(this,n,e,t,r)},Qr.prototype.N=function(){if(Qr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_c(t[r]);delete n.g[e],n.h--}}this.J=null},Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var qv=$t.JSON.stringify;class ub{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function xw(){var n=Kv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class Rw{constructor(){this.h=this.g=null}add(e,t){const r=Mw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Mw=new ub(()=>new jS,n=>n.reset());class jS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pw(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function $S(n){$t.setTimeout(()=>{throw n},0)}let Ec,yp=!1,Kv=new Rw,vm=()=>{const n=$t.Promise.resolve(void 0);Ec=()=>{n.then(cb)}};var cb=()=>{for(var n;n=xw();){try{n.h.call(n.g)}catch(t){$S(t)}var e=Mw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}yp=!1};function Es(n,e){Qr.call(this),this.h=n||1,this.g=e||$t,this.j=ai(this.qb,this),this.l=Date.now()}function Bl(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Xr(n,e,t){if("function"==typeof n)t&&(n=ai(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ai(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function Ic(n){n.g=Xr(()=>{n.g=null,n.i&&(n.i=!1,Ic(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(rt=Es.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(Bl(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){Es.$.N.call(this),Bl(this),delete this.g};class _m extends oa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(n){oa.call(this),this.h=n,this.g={}}var wm=[];function jl(n,e,t,r){Array.isArray(t)||(t&&(wm[0]=t.toString()),t=wm);for(var s=0;s<t.length;s++){var u=Cw(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function $l(n){Vv(n.g,function(e,t){this.g.hasOwnProperty(t)&&mm(e)},n),n.g={}}function au(){this.g=!0}function No(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bh(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return qv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ti.prototype.N=function(){Ti.$.N.call(this),$l(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},au.prototype.Ea=function(){this.g=!1},au.prototype.info=function(){};var Gs={},Zv=null;function vp(){return Zv=Zv||new Qr}function Yv(n){Ci.call(this,Gs.Ta,n)}function Ch(n){const e=vp();ui(e,new Yv(e))}function Qv(n,e){Ci.call(this,Gs.STAT_EVENT,n),this.stat=e}function Si(n){const e=vp();ui(e,new Qv(e,n))}function Xv(n,e){Ci.call(this,Gs.Ua,n),this.size=e}function Th(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Gs.Ta="serverreachability",Gs.STAT_EVENT="statevent",Gs.Ua="timingevent";var _p={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ow(){}var t_,wp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ep(){Ci.call(this,"d")}function Ip(){Ci.call(this,"c")}function Hl(){}function Dc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ti(this),this.P=lb,this.V=new Es(n=Lv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Em}function Em(){this.i=null,this.g="",this.h=!1}Hl.prototype.g=function(){return new XMLHttpRequest},Hl.prototype.i=function(){return{}},t_=new Hl;var lb=45e3,Dp={},Sh={};function Im(n,e,t){n.L=1,n.v=Tp(ca(e)),n.s=t,n.S=!0,n_(n,null)}function n_(n,e){n.G=Date.now(),zl(n),n.A=ca(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),gb(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Em,n.g=eE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new _m(ai(n.Pa,n,n.g),n.O)),jl(n.U,n.g,"readystatechange",n.nb),e=n.I?Bv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ch(),function Eh(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),w=0;w<g.length;w++){var C=g[w].split("=");if(1<C.length){var S=C[0];C=C[1];var P=S.split("_");l=2<=P.length&&"type"==P[1]?l+(S+"=")+C+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Dm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function r_(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=kw(n,t),s==Sh){4==e&&(n.o=4,Si(14),r=!1),No(n.j,n.m,null,"[Incomplete Response]");break}if(s==Dp){n.o=4,Si(15),No(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}No(n.j,n.m,s,null),Cm(n,s)}Dm(n)&&s!=Sh&&s!=Dp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Si(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Om(e),e.M=!0,Si(11))):(No(n.j,n.m,t,"[Invalid Chunked Response]"),bc(n),Ah(n))}function kw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sh:(t=Number(e.substring(t,r)),isNaN(t)?Dp:(r+=1)+t>e.length?Sh:(e=e.slice(r,r+t),n.C=r+t,e))}function zl(n){n.Y=Date.now()+n.P,i_(n,n.P)}function i_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Th(ai(n.lb,n),e)}function bm(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Ah(n){0==n.l.H||n.J||y_(n.l,n)}function bc(n){bm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Bl(n.V),$l(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Cm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||u_(t.i,n)))if(!n.K&&u_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Pp(t),ql(t)}Nm(t),Si(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Th(ai(t.ib,t),6e3));if(1>=$w(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Kl(t,11)}else if((n.K||t.g==n)&&Pp(t),!Vl(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const S=C[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const P=C[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const $=C[5];null!=$&&"number"==typeof $&&0<$&&(t.L=r=1.5*$,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Z=n.g;if(Z){const ce=Z.g?Z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ce){var u=r.i;u.g||-1==ce.indexOf("spdy")&&-1==ce.indexOf("quic")&&-1==ce.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Am(u,u.h),u.h=null))}if(r.F){const Oe=Z.g?Z.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.Da=Oe,Rn(r.I,r.F,Oe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=Jw(r,r.J?r.pa:null,r.Y),l.K){Hw(r.i,l);var g=l,w=r.L;w&&g.setTimeout(w),g.B&&(bm(g),zl(g)),r.g=l}else g_(r);0<t.j.length&&Mp(t)}else"stop"!=C[0]&&"close"!=C[0]||Kl(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Kl(t,7):Rm(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Ch()}catch{}}function Fw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function db(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Lw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(rt=Dc.prototype).setTimeout=function(n){this.P=n},rt.nb=function(n){n=n.target;const e=this.M;e&&3==Ws(n)?e.l():this.Pa(n)},rt.Pa=function(n){try{if(n==this.g)e:{const S=Ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Lv||this.g&&(this.h.h||this.g.ja()||Oh(this.g)))){this.J||4!=S||7==e||Ch(),bm(this);var t=this.g.da();this.ca=t;t:if(Dm(this)){var r=Oh(this.g);n="";var s=r.length,u=4==Ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bc(this),Ah(this);var l="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Ih(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,w=this.g;if((g=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vl(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Si(12),bc(this),Ah(this);break e}No(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,t)}this.S?(r_(this,S,l),Lv&&this.i&&3==S&&(jl(this.U,this.V,"tick",this.mb),this.V.start())):(No(this.j,this.m,l,null),Cm(this,l)),4==S&&bc(this),this.i&&!this.J&&(4==S?y_(this.l,this):(this.i=!1,zl(this)))}else(function wb(n){const e={};n=(n.g&&2<=Ws(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Vl(n[r]))continue;var t=Pw(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function Ew(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),bc(this),Ah(this)}}}catch{}},rt.mb=function(){if(this.g){var n=Ws(this.g),e=this.g.ja();this.C<e.length&&(bm(this),r_(this,n,e),this.i&&4!=n&&zl(this))}},rt.cancel=function(){this.J=!0,bc(this)},rt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Dh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ch(),Si(17)),bc(this),this.o=2,Ah(this)):i_(this,this.Y-n)};var Uw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uu(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof uu){this.h=n.h,bp(this,n.j),this.s=n.s,this.g=n.g,Cp(this,n.m),this.l=n.l;var e=n.i,t=new Wl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),s_(this,t),this.o=n.o}else n&&(e=String(n).match(Uw))?(this.h=!1,bp(this,e[1]||"",!0),this.s=xh(e[2]||""),this.g=xh(e[3]||"",!0),Cp(this,e[4]),this.l=xh(e[5]||"",!0),s_(this,e[6]||"",!0),this.o=xh(e[7]||"")):(this.h=!1,this.i=new Wl(null,this.h))}function ca(n){return new uu(n)}function bp(n,e,t){n.j=t?xh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function s_(n,e,t){e instanceof Wl?(n.i=e,function mb(n,e){e&&!n.j&&(Cc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Sm(this,r),gb(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rh(e,o_)),n.i=new Wl(e,n.h))}function Rn(n,e,t){n.i.set(e,t)}function Tp(n){return Rn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}uu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rh(e,cu,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rh(e,cu,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rh(t,"/"==t.charAt(0)?fb:hb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rh(t,Gl)),n.join("")};var cu=/[#\/\?@]/g,hb=/[#\?:]/g,fb=/[#\?]/g,o_=/[#\?@]/g,Gl=/#/g;function Wl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Vw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sm(n,e){Cc(n),e=Mh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function pb(n,e){return Cc(n),e=Mh(n,e),n.g.has(e)}function gb(n,e,t){Sm(n,e),0<t.length&&(n.i=null,n.g.set(Mh(n,e),kv(t)),n.h+=t.length)}function Mh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jw(n){this.l=n||Ur,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ka&&$t.g.Ka()&&$t.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Wl.prototype).add=function(n,e){Cc(this),this.i=null,n=Mh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){Cc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},rt.ta=function(){Cc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},rt.Z=function(n){Cc(this);let e=[];if("string"==typeof n)pb(this,n)&&(e=e.concat(this.g.get(Mh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rt.set=function(n,e){return Cc(this),this.i=null,pb(this,n=Mh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var Ur=10;function a_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $w(n){return n.h?1:n.g?n.g.size:0}function u_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Am(n,e){n.g?n.g.add(e):n.h=e}function Hw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function c_(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return kv(n.i)}jw.prototype.cancel=function(){if(this.i=c_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,zw=class{stringify(n){return $t.JSON.stringify(n,void 0)}parse(n){return $t.JSON.parse(n,void 0)}};function Ph(){this.g=new zw}function yb(n,e,t){const r=t||"";try{Fw(n,function(s,u){let l=s;om(s)&&(l=qv(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Sp(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ap(n){this.l=n.fc||null,this.j=n.ob||!1}function xp(n,e){Qr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Gw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ap.prototype.g=function(){return new xp(this.l,this.j)},Ap.prototype.i=(n={},function(){return n});var Gw=0;function l_(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Nh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ts(n)}function ts(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=xp.prototype).open=function(n,e){if(this.readyState!=Gw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ts(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$t).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nh(this)),this.readyState=Gw},rt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;l_(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Nh(this):ts(this),3==this.readyState&&l_(this)}},rt.Za=function(n){this.g&&(this.response=this.responseText=n,Nh(this))},rt.Ya=function(n){this.g&&(this.response=n,Nh(this))},rt.ka=function(){this.g&&Nh(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var _b=$t.JSON.parse;function ur(n){Qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Oo,this.L=this.M=!1}var Oo="",ko=/^https?$/i,Lo=["POST","PUT"];function d_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qw(n),xm(n)}function qw(n){n.F||(n.F=!0,ui(n,"complete"),ui(n,"error"))}function Kw(n){if(n.h&&typeof Hi<"u"&&(!n.C[1]||4!=Ws(n)||2!=n.da()))if(n.v&&4==Ws(n))Xr(n.La,0,n);else if(ui(n,"readystatechange"),4==Ws(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(Uw)[1]||null;!s&&$t.self&&$t.self.location&&(s=$t.self.location.protocol.slice(0,-1)),r=!ko.test(s?s.toLowerCase():"")}t=r}if(t)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var u=2<Ws(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",qw(n)}}finally{xm(n)}}}function xm(n,e){if(n.g){Zw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ui(n,"ready");try{t.onreadystatechange=r}catch{}}}function Zw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Ws(n){return n.g?n.g.readyState:0}function Oh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Oo:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function h_(n){let e="";return Vv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function f_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=h_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Rn(n,e,t))}function Rp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function p_(n){this.Ga=0,this.j=[],this.l=new au,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rp("baseRetryDelayMs",5e3,n),this.hb=Rp("retryDelaySeedMs",1e4,n),this.eb=Rp("forwardChannelMaxRetries",2,n),this.xa=Rp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new jw(n&&n.concurrentRequestLimit),this.Ja=new Ph,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rm(n){if(Yw(n),3==n.H){var e=n.W++,t=ca(n.I);if(Rn(t,"SID",n.K),Rn(t,"RID",e),Rn(t,"TYPE","terminate"),Tc(n,t),(e=new Dc(n,n.l,e)).L=2,e.v=Tp(ca(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon)try{t=$t.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=eE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zl(e)}Xw(n)}function ql(n){n.g&&(Om(n),n.g.cancel(),n.g=null)}function Yw(n){ql(n),n.u&&($t.clearTimeout(n.u),n.u=null),Pp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Mp(n){if(!a_(n.i)&&!n.m){n.m=!0;var e=n.Na;Ec||vm(),yp||(Ec(),yp=!0),Kv.add(e,n),n.C=0}}function Mm(n,e){var t;t=e?e.m:n.W++;const r=ca(n.I);Rn(r,"SID",n.K),Rn(r,"RID",t),Rn(r,"AID",n.V),Tc(n,r),n.o&&n.s&&f_(r,n.o,n.s),t=new Dc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Pm(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Am(n.i,t),Im(t,r,e)}function Tc(n,e){n.na&&Vv(n.na,function(t,r){Rn(e,r,t)}),n.h&&Fw({},function(t,r){Rn(e,r,t)})}function Pm(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ai(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let w=0;w<t;w++){let C=s[w].g;const S=s[w].map;if(C-=u,0>C)u=Math.max(0,s[w].g-100),g=!1;else try{yb(S,l,"req"+C+"_")}catch{r&&r(S)}}if(g){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function g_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ec||vm(),yp||(Ec(),yp=!0),Kv.add(e,n),n.A=0}}function Nm(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Th(ai(n.Ma,n),v_(n,n.A)),n.A++,0))}function Om(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function m_(n){n.g=new Dc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ca(n.wa);Rn(e,"RID","rpc"),Rn(e,"SID",n.K),Rn(e,"AID",n.V),Rn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Rn(e,"TO",n.qa),Rn(e,"TYPE","xmlhttp"),Tc(n,e),n.o&&n.s&&f_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Tp(ca(e)),t.s=null,t.S=!0,n_(t,n)}function Pp(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function y_(n,e){var t=null;if(n.g==e){Pp(n),Om(n),n.g=null;var r=2}else{if(!u_(n.i,e))return;t=e.F,Hw(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;ui(r=vp(),new Xv(r,t)),Mp(n)}else g_(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function Qw(n,e){return!($w(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Th(ai(n.Na,n,e),v_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Kl(n,5);break;case 4:Kl(n,10);break;case 3:Kl(n,6);break;default:Kl(n,2)}}function v_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Kl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ai(n.pb,n);t||(t=new uu("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||bp(t,"https"),Tp(t)),function vb(n,e){const t=new au;if($t.Image){const r=new Image;r.onload=um(Sp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=um(Sp,t,r,"TestLoadImage: error",!1,e),r.onabort=um(Sp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=um(Sp,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Si(2);n.H=0,n.h&&n.h.za(e),Xw(n),Yw(n)}function Xw(n){if(n.H=0,n.ma=[],n.h){const e=c_(n.i);(0!=e.length||0!=n.j.length)&&(mw(n.ma,e),mw(n.ma,n.j),n.i.i.length=0,kv(n.j),n.j.length=0),n.h.ya()}}function Jw(n,e,t){var r=t instanceof uu?ca(t):new uu(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Cp(r,r.m);else{var s=$t.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new uu(null);r&&bp(u,r),e&&(u.g=e),s&&Cp(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Rn(r,t,e),Rn(r,"VER",n.ra),Tc(n,r),r}function eE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(t&&n.Ha&&!n.va?new Ap({ob:!0}):n.va)).Oa(n.J),e}function km(){if(vh&&!(10<=Number(ww)))throw Error("Environmental error: no available transport.")}function Is(n,e){Qr.call(this),this.g=new p_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Vl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kh(this)}function nE(n){Ep.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rE(){Ip.call(this),this.status=1}function kh(n){this.g=n}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function __(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function vn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(rt=ur.prototype).Oa=function(n){this.M=n},rt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():t_.g(),this.C=function e_(n){return n.h||(n.h=n.i())}(this.u?this.u:t_),this.g.onreadystatechange=ai(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void d_(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=$t.FormData&&n instanceof $t.FormData,!(0<=gw(Lo,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zw(this),0<this.B&&((this.L=function Ww(n){return vh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ai(this.ua,this)):this.A=Xr(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){d_(this,u)}},rt.ua=function(){typeof Hi<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),xm(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xm(this,!0)),ur.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?Kw(this):this.kb())},rt.kb=function(){Kw(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_b(e)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=p_.prototype).ra=8,rt.H=1,rt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Dc(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Bv(u),Dw(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pm(this,s,e),Rn(t=ca(this.I),"RID",n),Rn(t,"CVER",22),this.F&&Rn(t,"X-HTTP-Session-Id",this.F),Tc(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(h_(u)))+"&"+e:this.o&&f_(t,this.o,u)),Am(this.i,s),this.bb&&Rn(t,"TYPE","init"),this.P?(Rn(t,"$req",e),Rn(t,"SID","null"),s.aa=!0,Im(s,t,null)):Im(s,t,e),this.H=2}}else 3==this.H&&(n?Mm(this,n):0==this.j.length||a_(this.i)||Mm(this))},rt.Ma=function(){if(this.u=null,m_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Th(ai(this.jb,this),n)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Si(10),ql(this),m_(this))},rt.ib=function(){null!=this.v&&(this.v=null,ql(this),Nm(this),Si(19))},rt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Si(2)):(this.l.info("Failed to ping google.com"),Si(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=function tE(){}.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},km.prototype.g=function(n,e){return new Is(n,e)},Is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Si(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Jw(n,null,n.Y),Mp(n)},Is.prototype.close=function(){Rm(this.g)},Is.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=qv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Mp(e)},Is.prototype.N=function(){this.g.h=null,delete this.j,Rm(this.g),delete this.g,Is.$.N.call(this)},kh.prototype.Ba=function(){ui(this.g,"a")},kh.prototype.Aa=function(n){ui(this.g,new nE(n))},kh.prototype.za=function(n){ui(this.g,new rE)},kh.prototype.ya=function(){ui(this.g,"b")},Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)__(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){__(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){__(this,r),s=0;break}}this.h=s,this.i+=e},Fo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Ib={};function w_(n){return-128<=n&&128>n?function ib(n,e){var t=Ib;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new vn([0|e],0>e?-1:0)}):new vn([0|n],0>n?-1:0)}function la(n){if(isNaN(n)||!isFinite(n))return Zl;if(0>n)return Jr(la(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Lm;return new vn(e,0)}var Lm=4294967296,Zl=w_(0),Fm=w_(1),E_=w_(16777216);function da(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ds(n){return-1==n.h}function Jr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new vn(t,~n.h).add(Fm)}function Np(n,e){return n.add(Jr(e))}function Op(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Lh(n,e){this.g=n,this.h=e}function kp(n,e){if(da(e))throw Error("division by zero");if(da(n))return new Lh(Zl,Zl);if(Ds(n))return e=kp(Jr(n),e),new Lh(Jr(e.g),Jr(e.h));if(Ds(e))return e=kp(n,Jr(e)),new Lh(Jr(e.g),e.h);if(30<n.g.length){if(Ds(n)||Ds(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Fm,r=e;0>=r.X(n);)t=Sc(t),r=Sc(r);var s=Fh(t,1),u=Fh(r,1);for(r=Fh(r,2),t=Fh(t,2);!da(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=Fh(r,1),t=Fh(t,1)}return e=Np(n,s.R(e)),new Lh(s,e)}for(s=Zl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=la(t)).R(e);Ds(l)||0<l.X(n);)l=(u=la(t-=r)).R(e);da(u)&&(u=Fm),s=s.add(u),n=Np(n,l)}return new Lh(s,n)}function Sc(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new vn(t,n.h)}function Fh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new vn(s,n.h)}(rt=vn.prototype).ea=function(){if(Ds(this))return-Jr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Lm+r)*e,e*=Lm}return n},rt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(da(this))return"0";if(Ds(this))return"-"+Jr(this).toString(n);for(var e=la(Math.pow(n,6)),t=this,r="";;){var s=kp(t,e).g,u=((0<(t=Np(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(da(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},rt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rt.X=function(n){return Ds(n=Np(this,n))?-1:da(n)?0:1},rt.abs=function(){return Ds(this)?Jr(this):this},rt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new vn(t,-2147483648&t[t.length-1]?-1:0)},rt.R=function(n){if(da(this)||da(n))return Zl;if(Ds(this))return Ds(n)?Jr(this).R(Jr(n)):Jr(Jr(this).R(n));if(Ds(n))return Jr(this.R(Jr(n)));if(0>this.X(E_)&&0>n.X(E_))return la(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),g=n.D(s)>>>16,w=65535&n.D(s);t[2*r+2*s]+=l*w,Op(t,2*r+2*s),t[2*r+2*s+1]+=u*w,Op(t,2*r+2*s+1),t[2*r+2*s+1]+=l*g,Op(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,Op(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new vn(t,0)},rt.gb=function(n){return kp(this,n).h},rt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new vn(t,this.h&n.h)},rt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new vn(t,this.h|n.h)},rt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new vn(t,this.h^n.h)},km.prototype.createWebChannel=km.prototype.g,Is.prototype.send=Is.prototype.u,Is.prototype.open=Is.prototype.m,Is.prototype.close=Is.prototype.close,_p.NO_ERROR=0,_p.TIMEOUT=8,_p.HTTP_ERROR=6,Nw.COMPLETE="complete",Ow.EventType=wp,wp.OPEN="a",wp.CLOSE="b",wp.ERROR="c",wp.MESSAGE="d",Qr.prototype.listen=Qr.prototype.O,ur.prototype.listenOnce=ur.prototype.P,ur.prototype.getLastError=ur.prototype.Sa,ur.prototype.getLastErrorCode=ur.prototype.Ia,ur.prototype.getStatus=ur.prototype.da,ur.prototype.getResponseJson=ur.prototype.Wa,ur.prototype.getResponseText=ur.prototype.ja,ur.prototype.send=ur.prototype.ha,ur.prototype.setWithCredentials=ur.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,vn.prototype.add=vn.prototype.add,vn.prototype.multiply=vn.prototype.R,vn.prototype.modulo=vn.prototype.gb,vn.prototype.compare=vn.prototype.X,vn.prototype.toNumber=vn.prototype.ea,vn.prototype.toString=vn.prototype.toString,vn.prototype.getBits=vn.prototype.D,vn.fromNumber=la,vn.fromString=function iE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Jr(iE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=la(Math.pow(e,8)),r=Zl,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=la(Math.pow(e,u)),r=r.R(u).add(la(l))):r=(r=r.R(t)).add(la(l))}return r};var Db=Po.createWebChannelTransport=function(){return new km},Uh=Po.getStatEventTarget=function(){return vp()},sE=Po.ErrorCode=_p,I_=Po.EventType=Nw,HS=Po.Event=Gs,D_=Po.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oE=Po.FetchXmlHttpFactory=Ap,b_=Po.WebChannel=Ow,St=Po.XhrIo=ur,bb=Po.Md5=Fo,Vh=Po.Integer=vn;class Yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let Bh="9.23.0";const Uo=new vc.Yd("@firebase/firestore");function jh(){return Uo.logLevel}function Ue(n,...e){if(Uo.logLevel<=vc.in.DEBUG){const t=e.map(C_);Uo.debug(`Firestore (${Bh}): ${n}`,...t)}}function lr(n,...e){if(Uo.logLevel<=vc.in.ERROR){const t=e.map(C_);Uo.error(`Firestore (${Bh}): ${n}`,...t)}}function bs(n,...e){if(Uo.logLevel<=vc.in.WARN){const t=e.map(C_);Uo.warn(`Firestore (${Bh}): ${n}`,...t)}}function C_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: `+n;throw lr(e),new Error(e)}function _t(n,e){n||dt()}function nt(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class Um{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Um(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function Lp(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Hh{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Lp(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function zh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Ln{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ln(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new Ln(0,0))}static max(){return new wt(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gh{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Gh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rn extends Gh{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new rn(t)}static emptyPath(){return new rn([])}}const hE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends Gh{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return hE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Re(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Re(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Re(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new Re(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(rn.fromString(e))}static fromName(e){return new et(rn.fromString(e).popFirst(5))}static empty(){return new et(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new rn(e.slice()))}}function A_(n){return new ci(n.readTime,n.key,-1)}class ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ci(wt.min(),et.empty(),-1)}static max(){return new ci(wt.max(),et.empty(),-1)}}function x_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const gE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ac(n){return yE.apply(this,arguments)}function yE(){return yE=(0,Ie.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==gE)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),yE.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},w=>r(w))}),l=!0,u===s&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(s=>s?ie.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let w=0;w<u;w++){const C=w;t(e[C]).next(S=>{l[C]=S,++g,g===u&&r(l)},S=>s(S))}})}static doWhile(e,t){return new ie((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function xc(n){return"IndexedDbTransactionError"===n.name}let zi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Bp(n){return null==n}function qh(n){return 0===n&&1/n==-1/0}function TE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ql(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cn{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $m(this.root,e,this.comparator,!1)}getReverseIterator(){return new $m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $m(this.root,e,this.comparator,!0)}}class $m{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??xi.RED,this.left=s??xi.EMPTY,this.right=u??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new xi(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return xi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hm(this.data.getIterator())}getIteratorFrom(e){return new Hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class Hm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ri{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Mn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new SE("Invalid base64 string: "+s):s}}(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const xE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function du(n){if(_t(!!n),"string"==typeof n){let e=0;const t=xE.exec(n);if(_t(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ha(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function zm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Gm(n){const e=n.mapValue.fields.__previous_value__;return zm(e)?Gm(e):e}function $p(n){const e=du(n.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}class zb{constructor(e,t,r,s,u,l,g,w,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.longPollingOptions=w,this.useFetchStreams=C}}class hu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zm(n)?4:Yh(n)?9007199254740991:10:dt()}function fa(n,e){if(n===e)return!0;const t=Mc(n);if(t!==Mc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $p(n).isEqual($p(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=du(r.timestampValue),l=du(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,ha(n.bytesValue).isEqual(ha(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Qn(r.geoPointValue.latitude)===Qn(s.geoPointValue.latitude)&&Qn(r.geoPointValue.longitude)===Qn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Qn(r.integerValue)===Qn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Qn(r.doubleValue),l=Qn(s.doubleValue);return u===l?qh(u)===qh(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return zh(n.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(TE(u)!==TE(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!fa(u[g],l[g])))return!1;return!0}(n,e);default:return dt()}var s}function Wm(n,e){return void 0!==(n.values||[]).find(t=>fa(t,e))}function Pc(n,e){if(n===e)return 0;const t=Mc(n),r=Mc(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=Qn(s.integerValue||s.doubleValue),g=Qn(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return RE(n.timestampValue,e.timestampValue);case 4:return RE($p(n),$p(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(s,u){const l=ha(s),g=ha(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let w=0;w<l.length&&w<g.length;w++){const C=Ut(l[w],g[w]);if(0!==C)return C}return Ut(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Ut(Qn(s.latitude),Qn(u.latitude));return 0!==l?l:Ut(Qn(s.longitude),Qn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let w=0;w<l.length&&w<g.length;++w){const C=Pc(l[w],g[w]);if(C)return C}return Ut(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Xl.mapValue&&u===Xl.mapValue)return 0;if(s===Xl.mapValue)return 1;if(u===Xl.mapValue)return-1;const l=s.fields||{},g=Object.keys(l),w=u.fields||{},C=Object.keys(w);g.sort(),C.sort();for(let S=0;S<g.length&&S<C.length;++S){const P=Ut(g[S],C[S]);if(0!==P)return P;const $=Pc(l[g[S]],w[C[S]]);if(0!==$)return $}return Ut(g.length,C.length)}(n.mapValue,e.mapValue);default:throw dt()}}function RE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=du(n),r=du(e),s=Ut(t.seconds,r.seconds);return 0!==s?s:Ut(t.nanos,r.nanos)}function Zh(n){return qm(n)}function qm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=du(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ha(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=qm(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${qm(r.fields[g])}`;return u+"}"}(n.mapValue):dt();var e}function Jl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function L_(n){return!!n&&"integerValue"in n}function zp(n){return!!n&&"arrayValue"in n}function ME(n){return!!n&&"nullValue"in n}function PE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zm(n){return!!n&&"mapValue"in n}function Gp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gp(t)}setAll(e){let t=dr.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=Gp(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Zm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Rc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new ei(Gp(this.value))}}function kE(n){const e=[];return Rc(n.fields,(t,r)=>{const s=new dr([t]);if(Zm(r)){const u=kE(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Ri(e)}class Fn{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new Fn(e,0,wt.min(),wt.min(),wt.min(),ei.empty(),0)}static newFoundDocument(e,t,r,s){return new Fn(e,1,t,wt.min(),r,s,0)}static newNoDocument(e,t){return new Fn(e,2,t,wt.min(),wt.min(),ei.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,wt.min(),wt.min(),ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,t){this.position=e,this.inclusive=t}}function LE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?et.comparator(et.fromName(l.referenceValue),t.key):Pc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function FE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fa(n.position[t],e.position[t]))return!1;return!0}class Qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class UE{}class qt extends UE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Qm(e,t,r):"array-contains"===t?new HE(e,r):"in"===t?new B_(e,r):"not-in"===t?new j_(e,r):"array-contains-any"===t?new zE(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Xm(e,r):new Wb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pc(t,this.value)):null!==t&&Mc(this.value)===Mc(t)&&this.matchesComparison(Pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends UE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new _n(e,t)}matches(e){return Nc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nc(n){return"and"===n.op}function V_(n){return function Ym(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}(n)&&Nc(n)}function td(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Zh(n.value);if(V_(n))return n.filters.map(e=>td(e)).join(",");{const e=n.filters.map(t=>td(t)).join(",");return`${n.op}(${e})`}}function VE(n,e){return n instanceof qt?(t=n,(r=e)instanceof qt&&t.op===r.op&&t.field.isEqual(r.field)&&fa(t.value,r.value)):n instanceof _n?function(t,r){return r instanceof _n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&VE(u,r.filters[l]),!0)}(n,e):void dt();var t,r}function jE(n){return n instanceof qt?`${(e=n).field.canonicalString()} ${e.op} ${Zh(e.value)}`:n instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(jE).join(" ,")+"}"}(n):"Filter";var e}class Qm extends qt{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xm extends qt{constructor(e,t){super(e,"in",t),this.keys=$E(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wb extends qt{constructor(e,t){super(e,"not-in",t),this.keys=$E(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $E(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class HE extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zp(t)&&Wm(t.arrayValue,this.value)}}class B_ extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wm(this.value.arrayValue,t)}}class j_ extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wm(this.value.arrayValue,t)}}class zE extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wm(this.value.arrayValue,r))}}class $_{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.dt=null}}function Wp(n,e=null,t=[],r=[],s=null,u=null,l=null){return new $_(n,e,t,r,s,u,l)}function Oc(n){const e=nt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>td(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Bp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zh(r)).join(",")),e.dt=t}return e.dt}function nd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Gb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FE(n.startAt,e.startAt)&&FE(n.endAt,e.endAt)}function Xh(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class fu{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=w,this.wt=null,this._t=null}}function kc(n){return new fu(n)}function z_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function G_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function qp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ey(n){return null!==n.collectionGroup}function rd(n){const e=nt(n);if(null===e.wt){e.wt=[];const t=qp(e),r=G_(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Qh(t)),e.wt.push(new Qh(dr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Qh(dr.keyField(),u))}}}return e.wt}function Mi(n){const e=nt(n);if(!e._t)if("F"===e.limitType)e._t=Wp(e.path,e.collectionGroup,rd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of rd(e))t.push(new Qh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ed(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ed(e.startAt.position,e.startAt.inclusive):null;e._t=Wp(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function ty(n,e){e.getFirstInequalityField(),qp(n);const t=n.filters.concat([e]);return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ny(n,e,t){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jh(n,e){return nd(Mi(n),Mi(e))&&n.limitType===e.limitType}function qE(n){return`${Oc(Mi(n))}|lt:${n.limitType}`}function li(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>jE(r)).join(", ")}]`),Bp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zh(r)).join(",")),`Target(${t})`}(Mi(n))}; limitType=${n.limitType})`}function pa(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):et.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of rd(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=LE(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,rd(t),r)||t.endAt&&!function(s,u,l){const g=LE(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,rd(t),r)));var t,r}function ZE(n){return(e,t)=>{let r=!1;for(const s of rd(n)){const u=WS(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function WS(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),w=l.data.field(s);return null!==g&&null!==w?Pc(g,w):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}class Lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return Ql(this.inner)}size(){return this.innerSize}}const YE=new Cn(et.comparator);function Pi(){return YE}const ef=new Cn(et.comparator);function Kp(...n){let e=ef;for(const t of n)e=e.insert(t.key,t);return e}function ry(n){let e=ef;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ga(){return Zp()}function W_(){return Zp()}function Zp(){return new Lc(n=>n.toString(),(n,e)=>n.isEqual(e))}const qb=new Cn(et.comparator),Kb=new Mn(et.comparator);function Ht(...n){let e=Kb;for(const t of n)e=e.add(t);return e}const QE=new Mn(Ut);function Yp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function sy(n){return{integerValue:""+n}}function Zb(n,e){return function P_(n){return"number"==typeof n&&Number.isInteger(n)&&!qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?sy(e):Yp(n,e)}class Qp{constructor(){this._=void 0}}function Yb(n,e,t){return n instanceof tf?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&zm(s)&&(s=Gm(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Fc?oy(n,e):n instanceof nf?JE(n,e):function(r,s){const u=id(r,s),l=eI(u)+eI(r.gt);return L_(u)&&L_(r.gt)?sy(l):Yp(r.serializer,l)}(n,e)}function XE(n,e,t){return n instanceof Fc?oy(n,e):n instanceof nf?JE(n,e):t}function id(n,e){return n instanceof Xp?L_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class tf extends Qp{}class Fc extends Qp{constructor(e){super(),this.elements=e}}function oy(n,e){const t=tI(e);for(const r of n.elements)t.some(s=>fa(s,r))||t.push(r);return{arrayValue:{values:t}}}class nf extends Qp{constructor(e){super(),this.elements=e}}function JE(n,e){let t=tI(e);for(const r of n.elements)t=t.filter(s=>!fa(s,r));return{arrayValue:{values:t}}}class Xp extends Qp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function eI(n){return Qn(n.integerValue||n.doubleValue)}function tI(n){return zp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rI{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tg{}function iI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ng(n.key,zn.none()):new sd(n.key,n.data,zn.none());{const t=n.data,r=ei.empty();let s=new Mn(dr.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new ma(n.key,r,new Ri(s.toArray()),zn.none())}}function Qb(n,e,t){n instanceof sd?function(r,s,u){const l=r.value.clone(),g=sI(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof ma?function(r,s,u){if(!eg(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=sI(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(K_(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rf(n,e,t,r){return n instanceof sd?function(s,u,l,g){if(!eg(s.precondition,u))return l;const w=s.value.clone(),C=oI(s.fieldTransforms,g,u);return w.setAll(C),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof ma?function(s,u,l,g){if(!eg(s.precondition,u))return l;const w=oI(s.fieldTransforms,g,u),C=u.data;return C.setAll(K_(s)),C.setAll(w),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,eg(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function Xb(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=id(r.transform,s||null);null!=u&&(null===t&&(t=ei.empty()),t.set(r.field,u))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&zh(t,r,(s,u)=>function nI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fc&&r instanceof Fc||t instanceof nf&&r instanceof nf?zh(t.elements,r.elements,fa):t instanceof Xp&&r instanceof Xp?fa(t.gt,r.gt):t instanceof tf&&r instanceof tf);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class sd extends tg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ma extends tg{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sI(n,e,t){const r=new Map;_t(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,XE(l,g,t[s]))}return r}function oI(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,Yb(u,l,e))}return r}class ng extends tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ay extends tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&Qb(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W_();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const w=iI(l,g);null!==w&&r.set(s.key,w),l.isValidDocument()||l.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&zh(this.mutations,e.mutations,(t,r)=>q_(t,r))&&zh(this.baseMutations,e.baseMutations,(t,r)=>q_(t,r))}}class uI{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){_t(e.mutations.length===r.length);let s=qb;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new uI(e,t,r,s)}}class cI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class KS{constructor(e,t){this.count=e,this.unchangedNames=t}}var Br,an;function rg(n){if(void 0===n)return lr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Br.OK:return le.OK;case Br.CANCELLED:return le.CANCELLED;case Br.UNKNOWN:return le.UNKNOWN;case Br.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Br.INTERNAL:return le.INTERNAL;case Br.UNAVAILABLE:return le.UNAVAILABLE;case Br.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Br.NOT_FOUND:return le.NOT_FOUND;case Br.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Br.ABORTED:return le.ABORTED;case Br.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Br.DATA_LOSS:return le.DATA_LOSS;default:return dt()}}(an=Br||(Br={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class lI{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ig}static getOrCreateInstance(){return null===ig&&(ig=new lI),ig}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ig=null;const dI=new Vh([4294967295,4294967295],0);function Z_(n){const e=function sg(){return new TextEncoder}().encode(n),t=new bb;return t.update(e),new Uint8Array(t.digest())}function eC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Vh([t,r],0),new Vh([s,u],0)]}class og{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sf(`Invalid padding: ${t}`);if(r<0)throw new sf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Vh.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Vh.fromNumber(r)));return 1===s.compare(dI)&&(s=new Vh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Z_(e),[r,s]=eC(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new og(u,s,t);return r.forEach(g=>l.insert(g)),l}insert(e){if(0===this.It)return;const t=Z_(e),[r,s]=eC(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ag{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,uy.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ag(wt.min(),s,new Cn(Ut),Pi(),Ht())}}class uy{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uy(r,t,Ht(),Ht(),Ht())}}class Y_{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class hI{constructor(e,t){this.targetId=e,this.Vt=t}}class fI{constructor(e,t,r=vr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class ug{constructor(){this.St=0,this.Dt=rC(),this.Ct=vr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ht(),t=Ht(),r=Ht();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:dt()}}),new uy(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=rC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class tC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pi(),this.zt=nC(),this.Wt=new Cn(Ut)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Xh(l))if(0===s){const g=new et(l.path);this.Yt(r,g,Fn.newNoDocument(g,wt.min()))}else _t(1===s);else{const g=this.ie(r);if(g!==s){const w=this.re(e,g);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=lI.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,S,P){var $,Z,ce,Oe,Le,ht;const Ct={localCacheCount:S,existenceFilterCount:P.count},Dt=P.unchangedNames;return Dt&&(Ct.bloomFilter={applied:0===C,hashCount:null!==($=Dt?.hashCount)&&void 0!==$?$:0,bitmapLength:null!==(Oe=null===(ce=null===(Z=Dt?.bits)||void 0===Z?void 0:Z.bitmap)||void 0===ce?void 0:ce.length)&&void 0!==Oe?Oe:0,padding:null!==(ht=null===(Le=Dt?.bits)||void 0===Le?void 0:Le.padding)&&void 0!==ht?ht:0}),Ct}(w,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:g=0}=r;let w,C;try{w=ha(u).toUint8Array()}catch(S){if(S instanceof SE)return bs("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{C=new og(w,l,g)}catch(S){return bs(S instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),g=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const g=this.se(l);if(g){if(u.current&&Xh(g.target)){const w=new et(g.target.path);null!==this.jt.get(w)||this.ae(l,w)||this.Yt(l,w,Fn.newNoDocument(w,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Ht();this.zt.forEach((u,l)=>{let g=!0;l.forEachWhile(w=>{const C=this.se(w);return!C||"TargetPurposeLimboResolution"===C.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new ag(e,t,this.Wt,this.jt,r);return this.jt=Pi(),this.zt=nC(),this.Wt=new Cn(Ut),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ug,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Mn(Ut),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ug),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function nC(){return new Cn(et.comparator)}function rC(){return new Cn(et.comparator)}const ZS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),iC=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sC=(()=>({and:"AND",or:"OR"}))();class oC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pI(n,e){return n.useProto3Json||Bp(e)?e:{value:e}}function af(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gI(n,e){return af(n,e.toTimestamp())}function Cr(n){return _t(!!n),wt.fromTimestamp(function(e){const t=du(e);return new Ln(t.seconds,t.nanos)}(n))}function Cs(n,e){return(t=n,new rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mI(n){const e=rn.fromString(n);return _t(bI(e)),e}function od(n,e){return Cs(n.databaseId,e.path)}function ya(n,e){const t=mI(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(cy(t))}function yI(n,e){return Cs(n.databaseId,e)}function cg(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cy(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vI(n,e,t){return{name:od(n,e),fields:t.value.mapValue.fields}}function e0(n,e){return{documents:[yI(n,e.path)]}}function t0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=yI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return DI(_n.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(C=>{return{field:va((S=C).field),direction:pu(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=pI(n,e.limit);var g,w;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function n0(n){let e=function Ts(n){const e=mI(n);return 4===e.length?rn.emptyPath():cy(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){_t(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const P=ly(S);return P instanceof _n&&V_(P)?P.getFilters():[P]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new Qh(ad((P=S).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let g=null;t.limit&&(g=function(S){let P;return P="object"==typeof S?S.value:S,Bp(P)?null:P}(t.limit));let w=null;var S;t.startAt&&(w=new ed((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new ed(S.values||[],!S.before)}(t.endAt)),function H_(n,e,t,r,s,u,l,g){return new fu(n,e,t,r,s,u,l,g)}(e,s,l,u,g,"F",w,C)}function ly(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ad(e.unaryFilter.field);return qt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ad(e.unaryFilter.field);return qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ad(e.unaryFilter.field);return qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ad(e.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?qt.create(ad((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return _n.create(e.compositeFilter.filters.map(t=>ly(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(n):dt();var e}function pu(n){return ZS[n]}function Uc(n){return iC[n]}function II(n){return sC[n]}function va(n){return{fieldPath:n.canonicalString()}}function ad(n){return dr.fromServerFormat(n.fieldPath)}function DI(n){return n instanceof qt?function(e){if("=="===e.op){if(PE(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NAN"}};if(ME(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PE(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NOT_NAN"}};if(ME(e.value))return{unaryFilter:{field:va(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(e.field),op:Uc(e.op),value:e.value}}}(n):n instanceof _n?function(e){const t=e.getFilters().map(r=>DI(r));return 1===t.length?t[0]:{compositeFilter:{op:II(e.op),filters:t}}}(n):dt()}function YS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class gu{constructor(e,t,r,s,u=wt.min(),l=wt.min(),g=vr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g,this.expectedCount=w}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CI{constructor(e){this.fe=e}}function fy(n){const e=n0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ny(e,e.limit,"L"):e}class cd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Qn(e.integerValue));else if("doubleValue"in e){const r=Qn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),qh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ha(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Yh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),et.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}cd.Ve=new cd;class l0{constructor(){this.rn=new mg}addToCollectionParentIndex(e,t){return this.rn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ci.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class mg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Mn(rn.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mn(rn.comparator)).toArray()}}class di{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(41943040,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class fd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fd(0)}static Mn(){return new fd(-1)}}class PI{constructor(){this.changes=new Lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class DC{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&rf(r.mutation,s,Ri.empty(),Ln.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const s=ga();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=Kp();return u.forEach((g,w)=>{l=l.insert(g,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=Pi();const l=Zp(),g=Zp();return t.forEach((w,C)=>{const S=r.get(C.key);s.has(C.key)&&(void 0===S||S.mutation instanceof ma)?u=u.insert(C.key,C):void 0!==S?(l.set(C.key,S.mutation.getFieldMask()),rf(S.mutation,C,S.mutation.getFieldMask(),Ln.now())):l.set(C.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((C,S)=>l.set(C,S)),t.forEach((C,S)=>{var P;return g.set(C,new rA(S,null!==(P=l.get(C))&&void 0!==P?P:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Zp();let s=new Cn((l,g)=>l-g),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(w=>{const C=t.get(w);if(null===C)return;let S=r.get(w)||Ri.empty();S=g.applyToLocalView(C,S),r.set(w,S);const P=(s.get(g.batchId)||Ht()).add(w);s=s.insert(g.batchId,P)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const w=g.getNext(),C=w.key,S=w.value,P=W_();S.forEach($=>{if(!u.has($)){const Z=iI(t.get($),r.get($));null!==Z&&P.set($,Z),u=u.add($)}}),l.push(this.documentOverlayCache.saveOverlays(e,C,P))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ey(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ie.resolve(ga());let g=-1,w=u;return l.next(C=>ie.forEach(C,(S,P)=>(g<P.largestBatchId&&(g=P.largestBatchId),u.get(S)?ie.resolve():this.remoteDocumentCache.getEntry(e,S).next($=>{w=w.insert(S,$)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,w,C,Ht())).next(S=>({batchId:g,changes:ry(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let s=Kp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Kp();return this.indexManager.getCollectionParents(e,s).next(l=>ie.forEach(l,g=>{const w=(C=t,S=g.child(s),new fu(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(C=>{C.forEach((S,P)=>{u=u.insert(S,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,w)=>{const C=w.getKey();null===u.get(C)&&(u=u.insert(C,Fn.newInvalidDocument(C)))});let l=Kp();return u.forEach((g,w)=>{const C=s.get(g);void 0!==C&&rf(C.mutation,w,Ri.empty(),Ln.now()),pa(t,w)&&(l=l.insert(g,w))}),l})}}class iA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ie.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Cr(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:fy(r.bundledQuery),readTime:Cr(r.readTime)}),ie.resolve();var r}}class sA{constructor(){this.overlays=new Cn(et.comparator),this.ls=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ga();return ie.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const s=ga(),u=t.length+1,l=new et(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const w=g.getNext().value,C=w.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Cn((C,S)=>C-S);const l=this.overlays.getIterator();for(;l.hasNext();){const C=l.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=u.get(C.largestBatchId);null===S&&(S=ga(),u=u.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const g=ga(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((C,S)=>g.set(C,S)),!(g.size()>=s)););return ie.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cI(t,r));let u=this.ls.get(t);void 0===u&&(u=Ht(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class i{constructor(){this.fs=new Mn(o.ds),this.ws=new Mn(o._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new o(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new o(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new et(new rn([])),r=new o(t,e),s=new o(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new et(new rn([])),r=new o(t,e),s=new o(t,e+1);let u=Ht();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new o(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class o{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return et.comparator(e.key,t.key)||Ut(e.As,t.As)}static _s(e,t){return Ut(e.As,t.As)||et.comparator(e.key,t.key)}}class a{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Mn(o.ds)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new aI(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.Rs=this.Rs.add(new o(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new o(t,0),s=new o(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const g=this.Ps(l.As);u.push(g)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(Ut);return t.forEach(s=>{const u=new o(s,0),l=new o(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],g=>{r=r.add(g.As)})}),ie.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;et.isDocumentKey(u)||(u=u.child(""));const l=new o(new et(u),0);let g=new Mn(Ut);return this.Rs.forEachWhile(w=>{const C=w.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(g=g.add(w.As)),!0)},l),ie.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){_t(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ie.forEach(t.mutations,s=>{const u=new o(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new o(t,0),s=this.Rs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ie.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c{constructor(e){this.Ds=e,this.docs=new Cn(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=Pi();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Fn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=Pi();const l=t.path,g=new et(l.child("")),w=this.docs.getIteratorFrom(g);for(;w.hasNext();){const{key:C,value:{document:S}}=w.getNext();if(!l.isPrefixOf(C.path))break;C.path.length>l.length+1||x_(A_(S),r)<=0||(s.has(S.key)||pa(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,r,s){dt()}Cs(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d(this)}getSize(e){return ie.resolve(this.size)}}class d extends PI{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class p{constructor(e){this.persistence=e,this.xs=new Lc(t=>Oc(t),nd),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new i,this.targetCount=0,this.Ms=fd.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ie.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new fd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Fn(t),ie.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),ie.waitFor(u).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.ks.containsKey(t))}}class v{constructor(e,t){this.$s={},this.overlays={},this.Os=new zi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new p(this),this.indexManager=new l0,this.remoteDocumentCache=new c(r=>this.referenceDelegate.Ls(r)),this.serializer=new CI(t),this.qs=new iA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new a(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const s=new I(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return ie.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class I extends mE{constructor(e){super(),this.currentSequenceNumber=e}}class b{constructor(e){this.persistence=e,this.Qs=new i,this.js=null}static zs(e){return new b(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ws,r=>{const s=et.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ie.or([()=>ie.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class gt{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Ht(),s=Ht();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new gt(e,t.fromCache,r,s)}}class At{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(z_(t))return ie.resolve(null);let r=Mi(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=ny(t,null,"F"),r=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Ht(...u);return this.Ui.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(w=>{const C=this.ji(t,g);return this.zi(t,C,l,w.readTime)?this.Ki(e,ny(t,null,"F")):this.Wi(e,C,t,w)}))})))}Gi(e,t,r,s){return z_(t)||s.isEqual(wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(jh()<=vc.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),li(t)),this.Wi(e,l,t,function pE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=wt.fromTimestamp(1e9===r?new Ln(t+1,0):new Ln(t,r));return new ci(s,et.empty(),e)}(s,-1)))})}ji(e,t){let r=new Mn(ZE(e));return t.forEach((s,u)=>{pa(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return jh()<=vc.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",li(t)),this.Ui.getDocumentsMatchingQuery(e,t,ci.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class ke{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Cn(Ut),this.Yi=new Lc(u=>Oc(u),nd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Un(n,e){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,Ie.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let w=Ht();for(const C of s){l.push(C.batchId);for(const S of C.mutations)w=w.add(S.key)}for(const C of u){g.push(C.batchId);for(const S of C.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(C=>({er:C,removedBatchIds:l,addedBatchIds:g}))})})}),Xn.apply(this,arguments)}function aA(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function xR(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function by(n,e,t){return bC.apply(this,arguments)}function bC(){return bC=(0,Ie.Z)(function*(n,e,t){const r=nt(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!xc(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),bC.apply(this,arguments)}function NI(n,e,t){const r=nt(n);let s=wt.min(),u=Ht();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,w,C){const S=nt(g),P=S.Yi.get(C);return void 0!==P?ie.resolve(S.Ji.get(P)):S.Bs.getTargetData(w,C)}(r,l,Mi(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,g.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:wt.min(),t?u:Ht())).next(g=>(function dA(n,e,t){let r=n.Xi.get(e)||wt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function KE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class xC{constructor(){this.activeTargetIds=function iy(){return QE}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pA{constructor(){this.Hr=new xC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new xC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PR{Yr(e){}shutdown(){}}class gA{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let LI=null;function MC(){return null===LI?LI=268435456+Math.round(2147483648*Math.random()):LI++,"0x"+LI.toString(16)}const NR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ns="WebChannelConnection";class kR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=MC(),g=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${l}:`,g,r);const w={};return this.Eo(w,s,u),this.Ao(e,g,w,r).then(C=>(Ue("RestConnection",`Received RPC '${e}' ${l}: `,C),C),C=>{throw bs("RestConnection",`RPC '${e}' ${l} failed with error: `,C,"url: ",g,"request:",r),C})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${NR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=MC();return new Promise((l,g)=>{const w=new St;w.setWithCredentials(!0),w.listenOnce(I_.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case sE.NO_ERROR:const S=w.getResponseJson();Ue(ns,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case sE.TIMEOUT:Ue(ns,`RPC '${e}' ${u} timed out`),g(new Re(le.DEADLINE_EXCEEDED,"Request time out"));break;case sE.HTTP_ERROR:const P=w.getStatus();if(Ue(ns,`RPC '${e}' ${u} failed with status:`,P,"response text:",w.getResponseText()),P>0){let $=w.getResponseJson();Array.isArray($)&&($=$[0]);const Z=$?.error;if(Z&&Z.status&&Z.message){const ce=function(Oe){const Le=Oe.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Le)>=0?Le:le.UNKNOWN}(Z.status);g(new Re(ce,Z.message))}else g(new Re(le.UNKNOWN,"Server responded with status "+w.getStatus()))}else g(new Re(le.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue(ns,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);Ue(ns,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=MC(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Db(),g=Uh(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(w.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(w.xmlHttpFactory=new oE({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const S=u.join("");Ue(ns,`Creating RPC '${e}' stream ${s}: ${S}`,w);const P=l.createWebChannel(S,w);let $=!1,Z=!1;const ce=new OR({ro:Le=>{Z?Ue(ns,`Not sending because RPC '${e}' stream ${s} is closed:`,Le):($||(Ue(ns,`Opening RPC '${e}' stream ${s} transport.`),P.open(),$=!0),Ue(ns,`RPC '${e}' stream ${s} sending:`,Le),P.send(Le))},oo:()=>P.close()}),Oe=(Le,ht,Ct)=>{Le.listen(ht,Dt=>{try{Ct(Dt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return Oe(P,b_.EventType.OPEN,()=>{Z||Ue(ns,`RPC '${e}' stream ${s} transport opened.`)}),Oe(P,b_.EventType.CLOSE,()=>{Z||(Z=!0,Ue(ns,`RPC '${e}' stream ${s} transport closed`),ce.wo())}),Oe(P,b_.EventType.ERROR,Le=>{Z||(Z=!0,bs(ns,`RPC '${e}' stream ${s} transport errored:`,Le),ce.wo(new Re(le.UNAVAILABLE,"The operation could not be completed")))}),Oe(P,b_.EventType.MESSAGE,Le=>{var ht;if(!Z){const Ct=Le.data[0];_t(!!Ct);const Pt=Ct.error||(null===(ht=Ct[0])||void 0===ht?void 0:ht.error);if(Pt){Ue(ns,`RPC '${e}' stream ${s} received error:`,Pt);const Gt=Pt.status;let un=function(Cg){const SR=Br[Cg];if(void 0!==SR)return rg(SR)}(Gt),rs=Pt.message;void 0===un&&(un=le.INTERNAL,rs="Unknown error status: "+Gt+" with message "+Pt.message),Z=!0,ce.wo(new Re(un,rs)),P.close()}else Ue(ns,`RPC '${e}' stream ${s} received:`,Ct),ce._o(Ct)}}),Oe(g,HS.STAT_EVENT,Le=>{Le.stat===D_.PROXY?Ue(ns,`RPC '${e}' stream ${s} detected buffering proxy`):Le.stat===D_.NOPROXY&&Ue(ns,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ce.fo()},0),ce}}function FI(){return typeof document<"u"?document:null}function y0(n){return new oC(n,!0)}class PC{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class yA{constructor(e,t,r,s,u,l,g,w){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new PC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ie.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ie.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Re(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Ie.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LR extends yA{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function wI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:dt(),s=e.targetChange.targetIds||[],u=function(w,C){return w.useProto3Json?(_t(void 0===C||"string"==typeof C),vr.fromBase64String(C||"")):(_t(void 0===C||C instanceof Uint8Array),vr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(w){const C=void 0===w.code?le.UNKNOWN:rg(w.code);return new Re(C,w.message||"")}(l);t=new fI(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=ya(n,r.document.name),u=Cr(r.document.updateTime),l=r.document.createTime?Cr(r.document.createTime):wt.min(),g=new ei({mapValue:{fields:r.document.fields}}),w=Fn.newFoundDocument(s,u,l,g);t=new Y_(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=ya(n,r.document),u=r.readTime?Cr(r.readTime):wt.min(),l=Fn.newNoDocument(s,u);t=new Y_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=ya(n,r.document);t=new Y_([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return dt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new KS(s,u);t=new hI(r.targetId,l)}}var w;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return wt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Cr(u.readTime):wt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=cg(this.serializer),t.addTarget=function(s,u){let l;const g=u.target;if(l=Xh(g)?{documents:e0(s,g)}:{query:t0(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=Q_(s,u.resumeToken);const w=pI(s,u.expectedCount);null!==w&&(l.expectedCount=w)}else if(u.snapshotVersion.compareTo(wt.min())>0){l.readTime=af(s,u.snapshotVersion.toTimestamp());const w=pI(s,u.expectedCount);null!==w&&(l.expectedCount=w)}return l}(this.serializer,e);const r=function aC(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=cg(this.serializer),t.removeTarget=e,this.Wo(t)}}class FR extends yA{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function EI(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,s){let u=Cr(r.updateTime?r.updateTime:s);return u.isEqual(wt.min())&&(u=Cr(s)),new rI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.cu(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=cg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function uf(n,e){let t;if(e instanceof sd)t={update:vI(n,e.key,e.value)};else if(e instanceof ng)t={delete:od(n,e.key)};else if(e instanceof ma)t={update:vI(n,e.key,e.data),updateMask:YS(e.fieldMask)};else{if(!(e instanceof ay))return dt();t={verify:od(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof tf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof nf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xp)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:gI(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:dt()),t;var s}(this.serializer,r))};this.Wo(t)}}class UR extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Re(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(le.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(le.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class BR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lr(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jR{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,Ie.Z)(function*(){var w;df(l)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,Ie.Z)(function*(C){const S=nt(C);S.vu.add(4),yield Cy(S),S.bu.set("Unknown"),S.vu.delete(4),yield v0(S)}),function(C){return w.apply(this,arguments)})(l))}))}),this.bu=new BR(r,s)}}function v0(n){return OC.apply(this,arguments)}function OC(){return OC=(0,Ie.Z)(function*(n){if(df(n))for(const e of n.Ru)yield e(!0)}),OC.apply(this,arguments)}function Cy(n){return kC.apply(this,arguments)}function kC(){return kC=(0,Ie.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),kC.apply(this,arguments)}function UI(n,e){const t=nt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),UC(t)?FC(t):Sy(t).Ko()&&LC(t,e))}function _0(n,e){const t=nt(n),r=Sy(t);t.Au.delete(e),r.Ko()&&vA(t,e),0===t.Au.size&&(r.Ko()?r.jo():df(t)&&t.bu.set("Unknown"))}function LC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sy(n).su(e)}function vA(n,e){n.Vu.qt(e),Sy(n).iu(e)}function FC(n){n.Vu=new tC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Sy(n).start(),n.bu.gu()}function UC(n){return df(n)&&!Sy(n).Uo()&&n.Au.size>0}function df(n){return 0===nt(n).vu.size}function _A(n){n.Vu=void 0}function $R(n){return VC.apply(this,arguments)}function VC(){return VC=(0,Ie.Z)(function*(n){n.Au.forEach((e,t)=>{LC(n,e)})}),VC.apply(this,arguments)}function HR(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,Ie.Z)(function*(n,e){_A(n),UC(n)?(n.bu.Iu(e),FC(n)):n.bu.set("Unknown")}),BC.apply(this,arguments)}function zR(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,Ie.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof fI&&2===e.state&&e.cause)try{yield(r=(0,Ie.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VI(n,r)}else if(e instanceof Y_?n.Vu.Ht(e):e instanceof hI?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(wt.min()))try{const r=yield aA(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const C=s.Au.get(w);C&&s.Au.set(w,C.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach((g,w)=>{const C=s.Au.get(g);if(!C)return;s.Au.set(g,C.withResumeToken(vr.EMPTY_BYTE_STRING,C.snapshotVersion)),vA(s,g);const S=new gu(C.target,g,w,C.sequenceNumber);LC(s,S)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield VI(n,r)}var r}),jC.apply(this,arguments)}function VI(n,e,t){return $C.apply(this,arguments)}function $C(){return $C=(0,Ie.Z)(function*(n,e,t){if(!xc(e))throw e;n.vu.add(1),yield Cy(n),n.bu.set("Offline"),t||(t=()=>aA(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield v0(n)}))}),$C.apply(this,arguments)}function wA(n,e){return e().catch(t=>VI(n,t,e))}function Ty(n){return HC.apply(this,arguments)}function HC(){return HC=(0,Ie.Z)(function*(n){const e=nt(n),t=hf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;GR(e);)try{const s=yield xR(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,WR(e,s)}catch(s){yield VI(e,s)}EA(e)&&IA(e)}),HC.apply(this,arguments)}function GR(n){return df(n)&&n.Eu.length<10}function WR(n,e){n.Eu.push(e);const t=hf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function EA(n){return df(n)&&!hf(n).Uo()&&n.Eu.length>0}function IA(n){hf(n).start()}function qR(n){return zC.apply(this,arguments)}function zC(){return zC=(0,Ie.Z)(function*(n){hf(n).hu()}),zC.apply(this,arguments)}function KR(n){return GC.apply(this,arguments)}function GC(){return GC=(0,Ie.Z)(function*(n){const e=hf(n);for(const t of n.Eu)e.uu(t.mutations)}),GC.apply(this,arguments)}function ZR(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=(0,Ie.Z)(function*(n,e,t){const r=n.Eu.shift(),s=uI.from(r,e,t);yield wA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Ty(n)}),WC.apply(this,arguments)}function YR(n,e){return qC.apply(this,arguments)}function qC(){return qC=(0,Ie.Z)(function*(n,e){var t;e&&hf(n).ou&&(yield(t=(0,Ie.Z)(function*(r,s){if(function Jb(n){switch(n){default:return dt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}(u=s.code)&&u!==le.ABORTED){const l=r.Eu.shift();hf(r).Qo(),yield wA(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield Ty(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),EA(n)&&IA(n)}),qC.apply(this,arguments)}function DA(n,e){return KC.apply(this,arguments)}function KC(){return KC=(0,Ie.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=df(t);t.vu.add(3),yield Cy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield v0(t)}),KC.apply(this,arguments)}function YC(){return YC=(0,Ie.Z)(function*(n,e){const t=nt(n);e?(t.vu.delete(2),yield v0(t)):e||(t.vu.add(2),yield Cy(t),t.bu.set("Unknown"))}),YC.apply(this,arguments)}function Sy(n){return n.Su||(n.Su=function(e,t,r){const s=nt(e);return s.fu(),new LR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:$R.bind(null,n),ao:HR.bind(null,n),nu:zR.bind(null,n)}),n.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Su.Qo(),UC(n)?FC(n):n.bu.set("Unknown")):(yield n.Su.stop(),_A(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function hf(n){return n.Du||(n.Du=function(e,t,r){const s=nt(e);return s.fu(),new FR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:qR.bind(null,n),ao:YR.bind(null,n),au:KR.bind(null,n),cu:ZR.bind(null,n)}),n.Ru.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.Du.Qo(),yield Ty(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class QC{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new QC(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(n,e){if(lr("AsyncQueue",`${e}: ${n}`),xc(n))return new Re(le.UNAVAILABLE,`${e}: ${n}`);throw n}class xy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Kp(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new xy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bA{constructor(){this.Cu=new Cn(et.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ry{constructor(e,t,r,s,u,l,g,w,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=w,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new Ry(e,t,xy.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class QR{constructor(){this.Nu=void 0,this.listeners=[]}}class XR{constructor(){this.queries=new Lc(e=>qE(e),Jh),this.onlineState="Unknown",this.ku=new Set}}function XC(n,e){return JC.apply(this,arguments)}function JC(){return JC=(0,Ie.Z)(function*(n,e){const t=nt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new QR),s)try{u.Nu=yield t.onListen(r)}catch(l){const g=Ay(l,`Initialization of query '${li(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&nT(t)}),JC.apply(this,arguments)}function eT(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,Ie.Z)(function*(n,e){const t=nt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),tT.apply(this,arguments)}function JR(n,e){const t=nt(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.$u(s)&&(r=!0);l.Nu=s}}r&&nT(t)}function eM(n,e,t){const r=nt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function nT(n){n.ku.forEach(e=>{e.next()})}class rT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Ry(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class SA{constructor(e){this.key=e}}class AA{constructor(e){this.key=e}}class xA{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ht(),this.mutatedKeys=Ht(),this.tc=ZE(e),this.ec=new xy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new bA,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,P)=>{const $=s.get(S),Z=pa(this.query,P)?P:null,ce=!!$&&this.mutatedKeys.has($.key),Oe=!!Z&&(Z.hasLocalMutations||this.mutatedKeys.has(Z.key)&&Z.hasCommittedMutations);let Le=!1;$&&Z?$.data.isEqual(Z.data)?ce!==Oe&&(r.track({type:3,doc:Z}),Le=!0):this.rc($,Z)||(r.track({type:2,doc:Z}),Le=!0,(w&&this.tc(Z,w)>0||C&&this.tc(Z,C)<0)&&(g=!0)):!$&&Z?(r.track({type:0,doc:Z}),Le=!0):$&&!Z&&(r.track({type:1,doc:$}),Le=!0,(w||C)&&(g=!0)),Le&&(Z?(l=l.add(Z),u=Oe?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{ec:l,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,S)=>function(P,$){const Z=ce=>{switch(ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return Z(P)-Z($)}(C.type,S.type)||this.tc(C.doc,S.doc)),this.oc(r);const l=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,w=g!==this.Xu;return this.Xu=g,0!==u.length||w?{snapshot:new Ry(this.query,e.ec,s,u,e.mutatedKeys,0===g,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new AA(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new SA(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Ht();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ry.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iM{constructor(e){this.key=e,this.fc=!1}}class sM{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Lc(g=>qE(g),Jh),this._c=new Map,this.mc=new Set,this.gc=new Cn(et.comparator),this.yc=new Map,this.Ic=new i,this.Tc={},this.Ec=new Map,this.Ac=fd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function oM(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,Ie.Z)(function*(n,e){const t=function ST(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cM.bind(null,e),e.dc.nu=JR.bind(null,e.eventManager),e.dc.Pc=eM.bind(null,e.eventManager),e}(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield function Dy(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,ie.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new gu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Mi(e)),g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield function sT(n,e,t,r,s){return oT.apply(this,arguments)}(t,e,r,"current"===g,l.resumeToken),t.isPrimaryClient&&UI(t.remoteStore,l)}return s}),iT.apply(this,arguments)}function oT(){return oT=(0,Ie.Z)(function*(n,e,t,r,s){n.Rc=(P,$,Z)=>{return(ce=(0,Ie.Z)(function*(Oe,Le,ht,Ct){let Dt=Le.view.sc(ht);Dt.zi&&(Dt=yield NI(Oe.localStore,Le.query,!1).then(({documents:un})=>Le.view.sc(un,Dt)));const Pt=Ct&&Ct.targetChanges.get(Le.targetId),Gt=Le.view.applyChanges(Dt,Oe.isPrimaryClient,Pt);return mT(Oe,Le.targetId,Gt.cc),Gt.snapshot}),function(Oe,Le,ht,Ct){return ce.apply(this,arguments)})(n,P,$,Z);var ce};const u=yield NI(n.localStore,e,!0),l=new xA(e,u.ir),g=l.sc(u.documents),w=uy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=l.applyChanges(g,n.isPrimaryClient,w);mT(n,t,C.cc);const S=new rM(e,t,l);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),oT.apply(this,arguments)}function aM(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,Ie.Z)(function*(n,e){const t=nt(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!Jh(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield by(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_0(t.remoteStore,r.targetId),My(t,r.targetId)}).catch(Ac))):(My(t,r.targetId),yield by(t.localStore,r.targetId,!0))}),aT.apply(this,arguments)}function uT(){return uT=(0,Ie.Z)(function*(n,e,t){const r=function AT(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}(n);try{const s=yield function(u,l){const g=nt(u),w=Ln.now(),C=l.reduce(($,Z)=>$.add(Z.key),Ht());let S,P;return g.persistence.runTransaction("Locally write mutations","readwrite",$=>{let Z=Pi(),ce=Ht();return g.Zi.getEntries($,C).next(Oe=>{Z=Oe,Z.forEach((Le,ht)=>{ht.isValidDocument()||(ce=ce.add(Le))})}).next(()=>g.localDocuments.getOverlayedDocuments($,Z)).next(Oe=>{S=Oe;const Le=[];for(const ht of l){const Ct=Xb(ht,S.get(ht.key).overlayedDocument);null!=Ct&&Le.push(new ma(ht.key,Ct,kE(Ct.value.mapValue),zn.exists(!0)))}return g.mutationQueue.addMutationBatch($,w,Le,l)}).next(Oe=>{P=Oe;const Le=Oe.applyToLocalDocumentSet(S,ce);return g.documentOverlayCache.saveOverlays($,Oe.batchId,Le)})}).then(()=>({batchId:P.batchId,changes:ry(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let w=u.Tc[u.currentUser.toKey()];w||(w=new Cn(Ut)),w=w.insert(l,g),u.Tc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield md(r,s.changes),yield Ty(r.remoteStore)}catch(s){const u=Ay(s,"Failed to persist write");t.reject(u)}}),uT.apply(this,arguments)}function RA(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,Ie.Z)(function*(n,e){const t=nt(n);try{const r=yield function AR(n,e){const t=nt(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((S,P)=>{const $=s.get(P);if(!$)return;g.push(t.Bs.removeMatchingKeys(u,S.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(u,S.addedDocuments,P)));let Z=$.withSequenceNumber(u.currentSequenceNumber);var ce,Oe,Le;null!==e.targetMismatches.get(P)?Z=Z.withResumeToken(vr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):S.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(S.resumeToken,r)),s=s.insert(P,Z),Oe=Z,Le=S,(0===(ce=$).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-ce.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,Z))});let w=Pi(),C=Ht();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(function uA(n,e,t){let r=Ht(),s=Ht();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Pi();return t.forEach((g,w)=>{const C=u.get(g);w.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(g)),w.isNoDocument()&&w.version.isEqual(wt.min())?(e.removeEntry(g,w.readTime),l=l.insert(g,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(w),l=l.insert(g,w)):Ue("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",w.version)}),{nr:l,sr:s}})}(u,l,e.documentUpdates).next(S=>{w=S.nr,C=S.sr})),!r.isEqual(wt.min())){const S=t.Bs.getLastRemoteSnapshotVersion(u).next(P=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(S)}return ie.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,C)).next(()=>w)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(_t(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?_t(l.fc):s.removedDocuments.size>0&&(_t(l.fc),l.fc=!1))}),yield md(t,r,e)}catch(r){yield Ac(r)}}),cT.apply(this,arguments)}function MA(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const g=l.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=nt(u);g.onlineState=l;let w=!1;g.queries.forEach((C,S)=>{for(const P of S.listeners)P.Mu(l)&&(w=!0)}),w&&nT(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cM(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,Ie.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new Cn(et.comparator);l=l.insert(u,Fn.newNoDocument(u,wt.min()));const g=Ht().add(u),w=new ag(wt.min(),new Map,new Cn(Ut),l,g);yield RA(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),yT(r)}else yield by(r.localStore,e,!1).then(()=>My(r,e,t)).catch(Ac)}),lT.apply(this,arguments)}function lM(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Ie.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const s=yield function oA(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,g,w,C){const S=w.batch,P=S.keys();let $=ie.resolve();return P.forEach(Z=>{$=$.next(()=>C.getEntry(g,Z)).next(ce=>{const Oe=w.docVersions.get(Z);_t(null!==Oe),ce.version.compareTo(Oe)<0&&(S.applyToRemoteDocument(ce,w),ce.isValidDocument()&&(ce.setReadTime(w.commitVersion),C.addEntry(ce)))})}),$.next(()=>l.mutationQueue.removeMutationBatch(g,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=Ht();for(let w=0;w<l.mutationResults.length;++w)l.mutationResults[w].transformResults.length>0&&(g=g.add(l.batch.mutations[w].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);gT(t,r,null),pT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield md(t,s)}catch(s){yield Ac(s)}}),dT.apply(this,arguments)}function dM(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,Ie.Z)(function*(n,e,t){const r=nt(n);try{const s=yield function(u,l){const g=nt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let C;return g.mutationQueue.lookupMutationBatch(w,l).next(S=>(_t(null!==S),C=S.keys(),g.mutationQueue.removeMutationBatch(w,S))).next(()=>g.mutationQueue.performConsistencyCheck(w)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(w,C,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,C)).next(()=>g.localDocuments.getDocuments(w,C))})}(r.localStore,e);gT(r,e,t),pT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield md(r,s)}catch(s){yield Ac(s)}}),hT.apply(this,arguments)}function pT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function gT(n,e,t){const r=nt(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function My(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||PA(n,r)})}function PA(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(_0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),yT(n))}function mT(n,e,t){for(const r of t)r instanceof SA?(n.Ic.addReference(r.key,e),fM(n,r)):r instanceof AA?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||PA(n,r.key)):dt()}function fM(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),yT(n))}function yT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new et(rn.fromString(e)),r=n.Ac.next();n.yc.set(r,new iM(t)),n.gc=n.gc.insert(t,r),UI(n.remoteStore,new gu(Mi(kc(t.path)),r,"TargetPurposeLimboResolution",zi.ct))}}function md(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=(0,Ie.Z)(function*(n,e,t){const r=nt(n),s=[],u=[],l=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,w)=>{l.push(r.Rc(w,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const S=gt.Li(w.targetId,C);u.push(S)}}))}),yield Promise.all(l),r.dc.nu(s),yield(g=(0,Ie.Z)(function*(w,C){const S=nt(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ie.forEach(C,$=>ie.forEach($.Fi,Z=>S.persistence.referenceDelegate.addReference(P,$.targetId,Z)).next(()=>ie.forEach($.Bi,Z=>S.persistence.referenceDelegate.removeReference(P,$.targetId,Z)))))}catch(P){if(!xc(P))throw P;Ue("LocalStore","Failed to update sequence numbers: "+P)}for(const P of C){const $=P.targetId;if(!P.fromCache){const Z=S.Ji.get($),Oe=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion);S.Ji=S.Ji.insert($,Oe)}}}),function(w,C){return g.apply(this,arguments)})(r.localStore,u))}),vT.apply(this,arguments)}function pM(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,Ie.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield Un(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(g=>{g.reject(new Re(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(t,r.er)}var s}),_T.apply(this,arguments)}function gM(n,e){const t=nt(n),r=t.yc.get(e);if(r&&r.fc)return Ht().add(r.key);{let s=Ht();const u=t._c.get(e);if(!u)return s;for(const l of u){const g=t.wc.get(l);s=s.unionWith(g.view.nc)}return s}}class w0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.serializer=y0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Vt(n,e,t,r){return new ke(n,e,t,r)}(this.persistence,new At,e.initialUser,this.serializer)}createPersistence(e){return new v(b.zs,this.serializer)}createSharedClientState(e){return new pA}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Py{initialize(e,t){var r=this;return(0,Ie.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>MA(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,r.syncEngine),yield function ZC(n,e){return YC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new XR}createDatastore(e){const t=y0(e.databaseInfo.databaseId),r=new kR(e.databaseInfo);return new UR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>MA(this.syncEngine,g,0),l=gA.D()?new gA:new PR,new jR(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,w,C){const S=new sM(r,s,u,l,g,w);return C&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const r=nt(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Cy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class AM{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yn.UNAUTHENTICATED,this.clientId=Hh.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ie.Z)(function*(g){Ue("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Ay(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function jI(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ie.Z)(function*(u){r.isEqual(u)||(yield Un(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),RT.apply(this,arguments)}function MT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NT(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>DA(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>DA(e.remoteStore,u)),n._onlineComponents=e}),PT.apply(this,arguments)}function NT(n){return OT.apply(this,arguments)}function OT(){return OT=(0,Ie.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function FA(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;bs("Error using user provided cache. Falling back to memory cache: "+t),yield jI(n,new w0)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield jI(n,new w0);return n._offlineComponents}),OT.apply(this,arguments)}function $I(n){return kT.apply(this,arguments)}function kT(){return kT=(0,Ie.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield MT(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield MT(n,new Py))),n._onlineComponents}),kT.apply(this,arguments)}function HI(n){return NT(n).then(e=>e.localStore)}function Ny(n){return FT.apply(this,arguments)}function FT(){return FT=(0,Ie.Z)(function*(n){const e=yield $I(n),t=e.eventManager;return t.onListen=oM.bind(null,e.syncEngine),t.onUnlisten=aM.bind(null,e.syncEngine),t}),FT.apply(this,arguments)}function jA(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,u,l,g,w){const C=new BI({next:P=>{u.enqueueAndForget(()=>eT(s,S));const $=P.docs.has(l);!$&&P.fromCache?w.reject(new Re(le.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&P.fromCache&&g&&"server"===g.source?w.reject(new Re(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new rT(kc(l.path),C,{includeMetadataChanges:!0,Ku:!0});return XC(s,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function $A(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,u,l,g,w){const C=new BI({next:P=>{u.enqueueAndForget(()=>eT(s,S)),P.fromCache&&"server"===g.source?w.reject(new Re(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(P)},error:P=>w.reject(P)}),S=new rT(l,C,{includeMetadataChanges:!0,Ku:!0});return XC(s,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function HA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const zA=new Map;function UT(n,e,t){if(!t)throw new Re(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WA(n){if(!et.isDocumentKey(n))throw new Re(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qA(n){if(et.isDocumentKey(n))throw new Re(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zI(n);throw new Re(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KA(n,e){if(e<=0)throw new Re(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZA{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function GA(n,e,t,r){if(!0===e&&!0===r)throw new Re(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HA(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Re(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Cb;switch(t.type){case"firstParty":return new cE(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zA.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),zA.delete(e),t.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Hc extends Gi{constructor(e,t,r){super(e,t,kc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new et(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function GI(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=Hh.A()),UT("doc","path",e),n instanceof E0){const r=rn.fromString(e,...t);return WA(r),new Jn(n,null,new et(r))}{if(!(n instanceof Jn||n instanceof Hc))throw new Re(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return WA(r),new Jn(n.firestore,n instanceof Hc?n.converter:null,new et(r))}}function XA(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof Jn||n instanceof Hc)&&(e instanceof Jn||e instanceof Hc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function VT(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof Gi&&e instanceof Gi&&n.firestore===e.firestore&&Jh(n._query,e._query)&&n.converter===e.converter}class UM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new PC(this,"async_queue_retry"),this.Xc=()=>{const t=FI();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=FI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=FI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!xc(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,lr("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=QC.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function BT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class er extends E0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new UM,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JA(this),this._firestoreClient.terminate()}}function jr(n){return n._firestoreClient||JA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JA(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zb(n._databaseId,g,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,HA(C.experimentalLongPollingOptions),C.useFetchStreams));var g,C;n._firestoreClient=new AM(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zc(vr.fromBase64String(e))}catch(t){throw new Re(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zc(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vg{constructor(e){this._methodName=e}}class WI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const YM=/^__.*__$/;class QM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new sd(e,this.data,t,this.fieldTransforms)}}class nx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class qI{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new qI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return YI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(rx(this.ca)&&YM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class XM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||y0(e)}ya(e,t,r,s=!1){return new qI({ca:e,methodName:t,ga:r,path:dr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(n){const e=n._freezeSettings(),t=y0(n._databaseId);return new XM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KI(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);zT("Data must be an object, but it was:",l,r);const g=ox(r,l);let w,C;if(u.merge)w=new Ri(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const P of u.mergeFields){const $=b0(e,P,t);if(!l.contains($))throw new Re(le.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);ux(S,$)||S.push($)}w=new Ri(S),C=l.fieldTransforms.filter(P=>w.covers(P.field))}else w=null,C=l.fieldTransforms;return new QM(new ei(g),w,C)}class D0 extends vg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function sx(n,e,t,r=!1){return wg(t,n.ya(r?4:3,e))}function wg(n,e){if(ax(n=(0,on.m9)(n)))return zT("Unsupported field value:",e,n),ox(n,e);if(n instanceof vg)return function(t,r){if(!rx(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=wg(l,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zb(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Ln.fromDate(t);return{timestampValue:af(r.serializer,s)}}if(t instanceof Ln){const s=new Ln(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:af(r.serializer,s)}}if(t instanceof WI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zc)return{bytesValue:Q_(r.serializer,t._byteString)};if(t instanceof Jn){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cs(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${zI(t)}`)}(n,e)}function ox(n,e){const t={};return Ql(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rc(n,(r,s)=>{const u=wg(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ax(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ln||n instanceof WI||n instanceof zc||n instanceof Jn||n instanceof vg)}function zT(n,e,t){if(!ax(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function b0(n,e,t){if((e=(0,on.m9)(e))instanceof yd)return e._internalPath;if("string"==typeof e)return ZI(n,e);throw YI("Field path arguments must be of type string or ",n,!1,void 0,t)}const nP=new RegExp("[~\\*/\\[\\]]");function ZI(n,e,t){if(e.search(nP)>=0)throw YI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yd(...e.split("."))._internalPath}catch{throw YI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function YI(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let w="";return(u||l)&&(w+=" (found",u&&(w+=` in field ${r}`),l&&(w+=` in document ${s}`),w+=")"),new Re(le.INVALID_ARGUMENT,g+n+w)}function ux(n,e){return n.some(t=>t.isEqual(e))}class C0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rP extends C0{data(){return super.data()}}function QI(n,e){return"string"==typeof e?ZI(n,e):e instanceof yd?e._internalPath:e._delegate._internalPath}function cx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GT{}class T0 extends GT{}function ff(n,e,...t){let r=[];e instanceof GT&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof Oy).length,l=s.filter(g=>g instanceof S0).length;if(u>1||u>0&&l>0)throw new Re(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class S0 extends T0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new S0(e,t,r)}_apply(e){const t=this._parse(e);return fx(e._query,t),new Gi(e.firestore,e.converter,ty(e._query,t))}_parse(e){const t=_g(e.firestore);return function(s,u,l,g,w,C,S){let P;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Re(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){hx(S,C);const $=[];for(const Z of S)$.push(dx(g,s,Z));P={arrayValue:{values:$}}}else P=dx(g,s,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||hx(S,C),P=sx(l,"where",S,"in"===C||"not-in"===C);return qt.create(w,C,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Oy extends GT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:_n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const g of l)fx(u,g),u=ty(u,g)}(e._query,t),new Gi(e.firestore,e.converter,ty(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WT extends T0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WT(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Re(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Qh(s,u);return function(g,w){if(null===G_(g)){const C=qp(g);null!==C&&px(0,C,w.field)}}(r,l),l}(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new fu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class XI extends T0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new XI(e,t,r)}_apply(e){return new Gi(e.firestore,e.converter,ny(e._query,this._limit,this._limitType))}}class JI extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new JI(e,t,r)}_apply(e){const t=lx(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(s=t,new fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class eD extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new eD(e,t,r)}_apply(e){const t=lx(e,this.type,this._docOrFields,this._inclusive);return new Gi(e.firestore,e.converter,(s=t,new fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function lx(n,e,t,r){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof C0)return function(s,u,l,g,w){if(!g)throw new Re(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const S of rd(s))if(S.field.isKeyField())C.push(Jl(u,g.key));else{const P=g.data.field(S.field);if(zm(P))throw new Re(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const $=S.field.canonicalString();throw new Re(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}C.push(P)}return new ed(C,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=_g(n.firestore);return function(u,l,g,w,C,S){const P=u.explicitOrderBy;if(C.length>P.length)throw new Re(le.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let Z=0;Z<C.length;Z++){const ce=C[Z];if(P[Z].field.isKeyField()){if("string"!=typeof ce)throw new Re(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ce}`);if(!ey(u)&&-1!==ce.indexOf("/"))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ce}' contains a slash.`);const Oe=u.path.child(rn.fromString(ce));if(!et.isDocumentKey(Oe))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Le=new et(Oe);$.push(Jl(l,Le))}else{const Oe=sx(g,w,ce);$.push(Oe)}}return new ed($,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function dx(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Re(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ey(e)&&-1!==t.indexOf("/"))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!et.isDocumentKey(r))throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jl(n,new et(r))}if(t instanceof Jn)return Jl(n,t._key);throw new Re(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zI(t)}.`)}function hx(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fx(n,e){if(e.isInequality()){const r=qp(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Re(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=G_(n);null!==u&&px(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function px(n,e,t){if(!t.isEqual(e))throw new Re(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class qT{convertValue(e,t="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Rc(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new WI(Qn(e.latitude),Qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Gm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($p(e));default:return null}}convertTimestamp(e){const t=du(e);return new Ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);_t(bI(r));const s=new hu(r.get(1),r.get(3)),u=new et(r.popFirst(5));return s.isEqual(t)||lr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Eg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vd extends C0{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(QI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class A0 extends vd{data(e={}){return super.data(e)}}class pf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Eg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new A0(this._firestore,this._userDataWriter,r.key,r,new Eg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Eg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Eg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,C=-1;return 0!==l.type&&(w=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:pP(l.type),doc:g,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function mx(n,e){return n instanceof vd&&e instanceof vd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pf&&e instanceof pf&&n._firestore===e._firestore&&VT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gf extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function yx(n,e,t){n=sn(n,Jn);const r=sn(n.firestore,er),s=tD(n.converter,e,t);return ky(r,[KI(_g(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,zn.none())])}function vx(n,e,t,...r){n=sn(n,Jn);const s=sn(n.firestore,er),u=_g(s);let l;return l="string"==typeof(e=(0,on.m9)(e))||e instanceof yd?function HT(n,e,t,r,s,u){const l=n.ya(1,e,t),g=[b0(e,r,t)],w=[s];if(u.length%2!=0)throw new Re(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<u.length;$+=2)g.push(b0(e,u[$])),w.push(u[$+1]);const C=[],S=ei.empty();for(let $=g.length-1;$>=0;--$)if(!ux(C,g[$])){const Z=g[$];let ce=w[$];ce=(0,on.m9)(ce);const Oe=l.da(Z);if(ce instanceof D0)C.push(Z);else{const Le=wg(ce,Oe);null!=Le&&(C.push(Z),S.set(Z,Le))}}const P=new Ri(C);return new nx(S,P,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function $T(n,e,t,r){const s=n.ya(1,e,t);zT("Data must be an object, but it was:",s,r);const u=[],l=ei.empty();Rc(r,(w,C)=>{const S=ZI(e,w,t);C=(0,on.m9)(C);const P=s.da(S);if(C instanceof D0)u.push(S);else{const $=wg(C,P);null!=$&&(u.push(S),l.set(S,$))}});const g=new Ri(u);return new nx(l,g,s.fieldTransforms)}(u,"updateDoc",n._key,e),ky(s,[l.toMutation(n._key,zn.exists(!0))])}function _x(n,...e){var t,r,s;n=(0,on.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||BT(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(BT(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let w,C,S;if(n instanceof Jn)C=sn(n.firestore,er),S=kc(n._key.path),w={next:P=>{e[l]&&e[l](KT(C,n,P))},error:e[l+1],complete:e[l+2]};else{const P=sn(n,Gi);C=sn(P.firestore,er),S=P._query;const $=new gf(C);w={next:Z=>{e[l]&&e[l](new pf(C,$,P,Z))},error:e[l+1],complete:e[l+2]},cx(n._query)}return function(P,$,Z,ce){const Oe=new BI(ce),Le=new rT($,Oe,Z);return P.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return XC(yield Ny(P),Le)})),()=>{Oe.Dc(),P.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return eT(yield Ny(P),Le)}))}}(jr(C),S,g,w)}function ky(n,e){return function(t,r){const s=new Vr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function uM(n,e,t){return uT.apply(this,arguments)}(yield function LT(n){return $I(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(jr(n),e)}function KT(n,e,t){const r=t.docs.get(e._key),s=new gf(n);return new vd(n,s,e._key,r,new Eg(t.hasPendingWrites,t.fromCache),e.converter)}function Ix(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function Dx(){if(!function AE(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class x0{constructor(e){this._delegate=e}static fromBase64String(e){return Dx(),new x0(zc.fromBase64String(e))}static fromUint8Array(e){return Ix(),new x0(zc.fromUint8Array(e))}toBase64(){return Dx(),this._delegate.toBase64()}toUint8Array(){return Ix(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YT(n){return function $P(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class nD extends qT{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new zc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _a.forKey(t,this.firestore,null)}}class Ig{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new A0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ig.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Ig(e,new nD(e),t),s.set(t,u)),u}}Ig.INSTANCES=new WeakMap;class _a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _a(t,new Jn(t._delegate,r,new et(e)))}static forKey(e,t,r){return new _a(t,new Jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ly(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ly(this.firestore,function QA(n,e,...t){if(n=(0,on.m9)(n),UT("collection","path",e),n instanceof E0){const r=rn.fromString(e,...t);return qA(r),new Hc(n,null,r)}{if(!(n instanceof Jn||n instanceof Hc))throw new Re(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return qA(r),new Hc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof Jn&&XA(this._delegate,e)}set(e,t){t=function ZT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?yx(this._delegate,e,t):yx(this._delegate,e)}catch(r){throw Ss(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?vx(this._delegate,e):vx(this._delegate,e,t,...r)}catch(s){throw Ss(s,"updateDoc()","DocumentReference.update()")}}delete(){return function EP(n){return ky(sn(n.firestore,er),[new ng(n._key,zn.none())])}(this._delegate)}onSnapshot(...e){const t=Sx(e),r=Ax(e,s=>new R0(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return _x(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function mP(n){n=sn(n,Jn);const e=sn(n.firestore,er),t=jr(e),r=new gf(e);return function MM(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(s,u,l){try{const g=yield function(w,C){const S=nt(w);return S.persistence.runTransaction("read document","readonly",P=>S.localDocuments.getDocument(P,C))}(s,u);g.isFoundDocument()?l.resolve(g):g.isNoDocument()?l.resolve(null):l.reject(new Re(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const w=Ay(g,`Failed to get document '${u} from cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield HI(n),e,t);var r})),t.promise}(t,n._key).then(s=>new vd(e,r,n._key,s,new Eg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function yP(n){n=sn(n,Jn);const e=sn(n.firestore,er);return jA(jr(e),n._key,{source:"server"}).then(t=>KT(e,n,t))}(this._delegate):function gP(n){n=sn(n,Jn);const e=sn(n.firestore,er);return jA(jr(e),n._key).then(t=>KT(e,n,t))}(this._delegate),t.then(r=>new R0(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _a(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function Sx(n){for(const e of n)if("object"==typeof e&&!YT(e))return e;return{}}function Ax(n,e){var t,r;let s;return s=YT(n[0])?n[0]:YT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class R0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mx(this._delegate,e._delegate)}}class M0 extends R0{data(e){const t=this._delegate.data(e);return function uE(n,e){n||dt()}(void 0!==t),t}}class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}where(e,t,r){try{return new As(this.firestore,ff(this._delegate,function iP(n,e,t){const r=e,s=QI("where",n);return S0._create(s,r,t)}(e,t,r)))}catch(s){throw Ss(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new As(this.firestore,ff(this._delegate,function sP(n,e="asc"){const t=e,r=QI("orderBy",n);return WT._create(r,t)}(e,t)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new As(this.firestore,ff(this._delegate,function oP(n){return KA("limit",n),XI._create("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new As(this.firestore,ff(this._delegate,function aP(n){return KA("limitToLast",n),XI._create("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new As(this.firestore,ff(this._delegate,function uP(...n){return JI._create("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new As(this.firestore,ff(this._delegate,function cP(...n){return JI._create("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new As(this.firestore,ff(this._delegate,function lP(...n){return eD._create("endBefore",n,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new As(this.firestore,ff(this._delegate,function dP(...n){return eD._create("endAt",n,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return VT(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _P(n){n=sn(n,Gi);const e=sn(n.firestore,er),t=jr(e),r=new gf(e);return function PM(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(r=(0,Ie.Z)(function*(s,u,l){try{const g=yield NI(s,u,!0),w=new xA(u,g.ir),C=w.sc(g.documents),S=w.applyChanges(C,!1);l.resolve(S.snapshot)}catch(g){const w=Ay(g,`Failed to execute query '${u} against cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield HI(n),e,t);var r})),t.promise}(t,n._query).then(s=>new pf(e,r,n,s))}(this._delegate):"server"===e?.source?function wP(n){n=sn(n,Gi);const e=sn(n.firestore,er),t=jr(e),r=new gf(e);return $A(t,n._query,{source:"server"}).then(s=>new pf(e,r,n,s))}(this._delegate):function vP(n){n=sn(n,Gi);const e=sn(n.firestore,er),t=jr(e),r=new gf(e);return cx(n._query),$A(t,n._query).then(s=>new pf(e,r,n,s))}(this._delegate),t.then(r=>new QT(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Sx(e),r=Ax(e,s=>new QT(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return _x(this._delegate,t,r)}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}class GP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new As(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new M0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new GP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new M0(this._firestore,r))})}isEqual(e){return mx(this._delegate,e._delegate)}}class Ly extends As{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _a(this.firestore,e):null}doc(e){try{return new _a(this.firestore,void 0===e?GI(this._delegate):GI(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function IP(n,e){const t=sn(n.firestore,er),r=GI(n),s=tD(n.converter,e);return ky(t,[KI(_g(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new _a(this.firestore,t))}isEqual(e){return XA(this._delegate,e._delegate)}withConverter(e){return new Ly(this.firestore,this._delegate.withConverter(e?Ig.getInstance(this.firestore,e):null))}}var ZP=k(6451),rD=k(5363),YP=k(6063);class QP extends Pr.x{constructor(e=1/0,t=1/0,r=YP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let w=1;w<r.length&&r[w]<=l;w+=2)g=w;g&&r.splice(0,g+1)}}}var XP=k(3099);function xx(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,XP.B)({connector:()=>new QP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Rx(n,e){return(0,Ka.m)(e)?Zn(()=>n,e):Zn(()=>n)}var JT=k(9468);k(8140);var tS=k(9681);const nS=new Map,Px={activated:!1,tokenObservers:[]},rN={initialized:!1,enabled:!1};function Tr(n){return nS.get(n)||Object.assign({},Px)}function sD(){return rN}const rS="https://content-firebaseappcheck.googleapis.com/v1",aN="exchangeDebugToken",Nx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cN{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function lN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wi=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iS(n){if(!Tr(n).activated)throw Wi.create("use-before-activation",{appName:n.name})}function uD(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,Ie.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const P=yield s.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(P){throw Wi.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==l.status)throw Wi.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(P){throw Wi.create("fetch-parse-error",{originalErrorMessage:P?.message})}const w=g.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(w[1]),S=Date.now();return{token:g.token,expireTimeMillis:S+C,issuedAtTimeMillis:S}}),oS.apply(this,arguments)}function Ox(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${rS}/projects/${t}/apps/${r}:${aN}?key=${s}`,body:{debug_token:e}}}const pN="firebase-app-check-database",gN=1,P0="firebase-app-check-store";let cD=null;function aS(){return aS=(0,Ie.Z)(function*(n,e){const r=(yield function Lx(){return cD||(cD=new Promise((n,e)=>{try{const t=indexedDB.open(pN,gN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Wi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(P0,{keyPath:"compositeKey"})}}catch(t){e(Wi.create("storage-open",{originalErrorMessage:t?.message}))}}),cD)}()).transaction(P0,"readwrite"),u=r.objectStore(P0).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=w=>{l()},r.onerror=w=>{var C;g(Wi.create("storage-set",{originalErrorMessage:null===(C=w.target.error)||void 0===C?void 0:C.message}))}})}),aS.apply(this,arguments)}const N0=new vc.Yd("@firebase/app-check");function lS(n,e){return(0,on.hl)()?function yN(n,e){return function Fx(n,e){return aS.apply(this,arguments)}(function Vx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{N0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hS(){return sD().enabled}function fS(){return pS.apply(this,arguments)}function pS(){return pS=(0,Ie.Z)(function*(){const n=sD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pS.apply(this,arguments)}const DN={error:"UNKNOWN_ERROR"};function bN(n){return on.US.encodeString(JSON.stringify(n),!1)}function lD(n){return gS.apply(this,arguments)}function gS(){return gS=(0,Ie.Z)(function*(n,e=!1){const t=n.app;iS(t);const r=Tr(t);let u,s=r.token;if(s&&!Fy(s)&&(r.token=void 0,s=void 0),!s){const w=yield r.cachedTokenPromise;w&&(Fy(w)?s=w:yield lS(t,void 0))}if(!e&&s&&Fy(s))return{token:s.token};let g,l=!1;if(hS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uD(Ox(t,yield fS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const w=yield r.exchangeTokenPromise;return yield lS(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield Tr(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?N0.warn(w.message):N0.error(w),u=w}return s?u?g=Fy(s)?{token:s.token,internalError:u}:Hx(u):(g={token:s.token},r.token=s,yield lS(t,s)):g=Hx(u),l&&function $x(n,e){const t=Tr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),gS.apply(this,arguments)}function mS(){return mS=(0,Ie.Z)(function*(n){const e=n.app;iS(e);const{provider:t}=Tr(e);if(hS()){const r=yield fS(),{token:s}=yield uD(Ox(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),mS.apply(this,arguments)}function vS(n,e){const t=Tr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function jx(n){const{app:e}=n,t=Tr(e);let r=t.tokenRefresher;r||(r=function CN(n){const{app:e}=n;return new cN((0,Ie.Z)(function*(){let r;if(r=Tr(e).token?yield lD(n,!0):yield lD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Tr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Nx.RETRIAL_MIN_WAIT,Nx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Fy(n){return n.expireTimeMillis-Date.now()>0}function Hx(n){return{token:bN(DN),error:n}}class TN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Tr(this.app);for(const t of e)vS(this.app,t.next);return Promise.resolve()}}const Qx="app-check-internal";!function BN(){(0,tS.Xd)(new fp.wA("app-check",n=>function SN(n,e){return new TN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Qx).initialize()})),(0,tS.Xd)(new fp.wA(Qx,n=>function AN(n){return{getToken:e=>lD(n,e),getLimitedUseToken:()=>function Bx(n){return mS.apply(this,arguments)}(n),addTokenListener:e=>function yS(n,e,t,r){const{app:s}=n,u=Tr(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Fy(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),jx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>jx(n))}(n,"INTERNAL",e),removeTokenListener:e=>vS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tS.KN)("@firebase/app-check","0.8.0")}();class IS{constructor(){return(0,Fr.vb)("app-check")}}typeof window<"u"&&window,k(1274);const Jx=new y.OlP("angularfire2.auth.use-emulator"),eR=new y.OlP("angularfire2.auth.settings"),tR=new y.OlP("angularfire2.auth.tenant-id"),nR=new y.OlP("angularfire2.auth.langugage-code"),rR=new y.OlP("angularfire2.auth.use-device-language"),iR=new y.OlP("angularfire.auth.persistence"),sR=(n,e,t,r,s,u,l,g)=>(0,_s.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),l)for(const[C,S]of Object.entries(l))w.settings[C]=S;return g&&w.setPersistence(g),w},[t,r,s,u,l,g]);let oR=(()=>{class n{constructor(t,r,s,u,l,g,w,C,S,P,$,Z){const ce=new Pr.x,Oe=ft(void 0).pipe((0,rD.Q)(l.outsideAngular),Zn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8463)))),(0,Et.U)(()=>(0,_s.on)(t,u,r)),(0,Et.U)(Le=>sR(Le,u,g,C,S,P,w,$)),xx({bufferSize:1,refCount:!1}));if(us(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ft(null);else{Oe.pipe(Ui()).subscribe();const ht=Oe.pipe(Zn(Pt=>Pt.getRedirectResult().then(Gt=>Gt,()=>null)),Fr.iC,xx({bufferSize:1,refCount:!1})),Ct=Oe.pipe(Zn(Pt=>new wi.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Pt.onAuthStateChanged(un=>Gt.next(un),un=>Gt.error(un),()=>Gt.complete()))})))),Dt=Oe.pipe(Zn(Pt=>new wi.y(Gt=>({unsubscribe:u.runOutsideAngular(()=>Pt.onIdTokenChanged(un=>Gt.next(un),un=>Gt.error(un),()=>Gt.complete()))}))));this.authState=ht.pipe(Rx(Ct),(0,JT.R)(l.outsideAngular),(0,rD.Q)(l.insideAngular)),this.user=ht.pipe(Rx(Dt),(0,JT.R)(l.outsideAngular),(0,rD.Q)(l.insideAngular)),this.idToken=this.user.pipe(Zn(Pt=>Pt?(0,dn.D)(Pt.getIdToken()):ft(null))),this.idTokenResult=this.user.pipe(Zn(Pt=>Pt?(0,dn.D)(Pt.getIdTokenResult()):ft(null))),this.credential=(0,ZP.T)(ht,ce,this.authState.pipe(Zr(Pt=>!Pt))).pipe((0,Et.U)(Pt=>Pt?.user?Pt:null),(0,JT.R)(l.outsideAngular),(0,rD.Q)(l.insideAngular))}return(0,_s.pX)(this,Oe,u,{spy:{apply:(Le,ht,Ct)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&Ct.then(Dt=>ce.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(_s.Dh),y.LFG(_s.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Fr.HU),y.LFG(Jx,8),y.LFG(eR,8),y.LFG(tR,8),y.LFG(nR,8),y.LFG(rR,8),y.LFG(iR,8),y.LFG(IS,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aR(n,e){return function WN(n,e=Rv.z){return new wi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function bS(n,e){return aR(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function hD(n,e){return bS(n,e).pipe(bo(void 0),rm(),(0,Et.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,g)=>{const w=s.find(S=>S.doc.ref.isEqual(l.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(l.metadata)||!w&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:l}})}),u}))}function uR(n,e,t){return hD(n,t).pipe(ic((r,s)=>function KN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ZN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return CS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return CS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function Mv(n,e=Us.y){return n=n??Pv,(0,Or.e)((t,r)=>{let s,u=!0;t.subscribe((0,Nr.x)(r,l=>{const g=e(l);(u||!n(s,g))&&(u=!1,s=g,r.next(l))}))})}(),(0,Et.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function CS(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function cR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class lR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=hD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(bo(void 0),rm(),Zr(([r,s])=>s.length>0||!r),(0,Et.U)(([r,s])=>s),Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ic((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cR(e);return uR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return bS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Fr.iC)}add(e){return this.ref.add(e)}doc(e){return new dR(this.ref.doc(e),this.afs)}}class dR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=hR(r,t);return new lR(s,u,this.afs)}snapshotChanges(){return function qN(n,e){return aR(n,e).pipe(bo(void 0),rm(),(0,Et.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(Fr.iC)}}class YN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?hD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Zr(t=>t.length>0),Fr.iC):hD(this.query,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ic((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cR(e);return uR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return bS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Fr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Fr.iC)}}const QN=new y.OlP("angularfire2.enableFirestorePersistence"),XN=new y.OlP("angularfire2.firestore.persistenceSettings"),JN=new y.OlP("angularfire2.firestore.settings"),eO=new y.OlP("angularfire2.firestore.use-emulator");function hR(n,e=(t=>t)){return{query:e(n),ref:n}}let tO=(()=>{class n{constructor(t,r,s,u,l,g,w,C,S,P,$,Z,ce,Oe,Le,ht,Ct){this.schedulers=w;const Dt=(0,_s.on)(t,g,r),Pt=S;P&&sR(Dt,g,$,ce,Oe,Le,Z,ht),[this.firestore,this.persistenceEnabled$]=(0,_s.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const Gt=g.runOutsideAngular(()=>Dt.firestore());if(u&&Gt.settings(u),Pt&&Gt.useEmulator(...Pt),s&&!us(l)){const un=()=>{try{return(0,dn.D)(Gt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(rs){return typeof console<"u"&&console.warn(rs),ft(!1)}};return[Gt,g.runOutsideAngular(un)]}return[Gt,ft(!1)]},[u,Pt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=hR(s,r),g=this.schedulers.ngZone.run(()=>u);return new lR(g,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new YN(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new dR(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(_s.Dh),y.LFG(_s.xv,8),y.LFG(QN,8),y.LFG(JN,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Fr.HU),y.LFG(XN,8),y.LFG(eO,8),y.LFG(oR,8),y.LFG(Jx,8),y.LFG(eR,8),y.LFG(tR,8),y.LFG(nR,8),y.LFG(rR,8),y.LFG(iR,8),y.LFG(IS,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nO=(()=>{var n;class e{constructor(r){this.firestore=r,this.room=this.getDataChange("room"),this.game=this.getDataChange("game"),this.roles=this.getDataChange("roles")}getDataChange(r){return this.firestore.collection(r).snapshotChanges().pipe((0,Et.U)(s=>s.map(u=>{const l=u.payload.doc.data();return{id:u.payload.doc.id,...l}})))}addData(r,s){this.firestore.collection(r).add(s)}addNewData(r,s,u){this.firestore.doc(r+`/${s}`).set(u)}deleteAllData(r){this.firestore.doc(r).delete()}deleteData(r,s){this.firestore.doc(r+`/${s}`).delete()}getAllData(r){return new Promise(s=>{this.firestore.collection(r).valueChanges({idField:"id"}).subscribe(u=>s(u))})}updateData(r,s,u){this.firestore.doc(r+`/${s}`).update(u)}getRoom(){return this.room}getGame(){return this.game}getRoles(){return this.roles}}return(n=e).\u0275fac=function(r){return new(r||n)(y.LFG(tO))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class fD{}class TS{}class _d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let s;if(s="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),s.length>0){const u=t.toLowerCase();this.headers.set(u,s),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(g=>-1===u.indexOf(g)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rO{encodeKey(e){return fR(e)}encodeValue(e){return fR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sO=/%(\d[a-f0-9])/gi,oO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fR(n){return encodeURIComponent(n).replace(sO,(e,t)=>oO[t]??e)}function pD(n){return`${n}`}class yf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function iO(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[l,g]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],w=t.get(l)||[];w.push(g),t.set(l,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(pD):[pD(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new yf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(pD(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class aO{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gR(n){return typeof Blob<"u"&&n instanceof Blob}function mR(n){return typeof FormData<"u"&&n instanceof FormData}class O0{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function uO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new _d),this.context||(this.context=new aO),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+l}}else this.params=new yf,this.urlWithParams=t}serializeBody(){return null===this.body?null:pR(this.body)||gR(this.body)||mR(this.body)||function cO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mR(this.body)?null:gR(this.body)?this.body.type||null:pR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,C=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((P,$)=>P.set($,e.setHeaders[$]),w)),e.setParams&&(C=Object.keys(e.setParams).reduce((P,$)=>P.set($,e.setParams[$]),C)),new O0(t,r,u,{params:C,headers:w,context:S,reportProgress:g,responseType:s,withCredentials:l})}}var ti=(()=>((ti=ti||{})[ti.Sent=0]="Sent",ti[ti.UploadProgress=1]="UploadProgress",ti[ti.ResponseHeader=2]="ResponseHeader",ti[ti.DownloadProgress=3]="DownloadProgress",ti[ti.Response=4]="Response",ti[ti.User=5]="User",ti))();class SS{constructor(e,t=200,r="OK"){this.headers=e.headers||new _d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class AS extends SS{constructor(e={}){super(e),this.type=ti.ResponseHeader}clone(e={}){return new AS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gD extends SS{constructor(e={}){super(e),this.type=ti.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yR extends SS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vR=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof O0)u=t;else{let w,C;w=s.headers instanceof _d?s.headers:new _d(s.headers),s.params&&(C=s.params instanceof yf?s.params:new yf({fromObject:s.params})),u=new O0(t,r,void 0!==s.body?s.body:null,{headers:w,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const l=ft(u).pipe(Xi(w=>this.handler.handle(w)));if(t instanceof O0||"events"===s.observe)return l;const g=l.pipe(Zr(w=>w instanceof gD));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Et.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return g.pipe((0,Et.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return g.pipe((0,Et.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return g.pipe((0,Et.U)(w=>w.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new yf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,xS(s,r))}post(t,r,s={}){return this.request("POST",t,xS(s,r))}put(t,r,s={}){return this.request("PUT",t,xS(s,r))}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(fD))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function _R(n,e){return e(n)}function lO(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const hO=new y.OlP("HTTP_INTERCEPTORS"),k0=new y.OlP("HTTP_INTERCEPTOR_FNS");function fO(){let n=null;return(e,t)=>(null===n&&(n=((0,y.f3M)(hO,{optional:!0})??[]).reduceRight(lO,_R)),n(e,t))}let wR=(()=>{class n extends fD{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(k0)));this.chain=r.reduceRight((s,u)=>function dO(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(s,u,this.injector),_R)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(TS),y.LFG(y.lqb))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const yO=/^\)\]\}',?\n/;let IR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new wi.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((Z,ce)=>s.setRequestHeader(Z,ce.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Z=t.detectContentTypeHeader();null!==Z&&s.setRequestHeader("Content-Type",Z)}if(t.responseType){const Z=t.responseType.toLowerCase();s.responseType="json"!==Z?Z:"text"}const u=t.serializeBody();let l=null;const g=()=>{if(null!==l)return l;const Z=s.statusText||"OK",ce=new _d(s.getAllResponseHeaders()),Oe=function vO(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new AS({headers:ce,status:s.status,statusText:Z,url:Oe}),l},w=()=>{let{headers:Z,status:ce,statusText:Oe,url:Le}=g(),ht=null;204!==ce&&(ht=typeof s.response>"u"?s.responseText:s.response),0===ce&&(ce=ht?200:0);let Ct=ce>=200&&ce<300;if("json"===t.responseType&&"string"==typeof ht){const Dt=ht;ht=ht.replace(yO,"");try{ht=""!==ht?JSON.parse(ht):null}catch(Pt){ht=Dt,Ct&&(Ct=!1,ht={error:Pt,text:ht})}}Ct?(r.next(new gD({body:ht,headers:Z,status:ce,statusText:Oe,url:Le||void 0})),r.complete()):r.error(new yR({error:ht,headers:Z,status:ce,statusText:Oe,url:Le||void 0}))},C=Z=>{const{url:ce}=g(),Oe=new yR({error:Z,status:s.status||0,statusText:s.statusText||"Unknown Error",url:ce||void 0});r.error(Oe)};let S=!1;const P=Z=>{S||(r.next(g()),S=!0);let ce={type:ti.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(ce.total=Z.total),"text"===t.responseType&&s.responseText&&(ce.partialText=s.responseText),r.next(ce)},$=Z=>{let ce={type:ti.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(ce.total=Z.total),r.next(ce)};return s.addEventListener("load",w),s.addEventListener("error",C),s.addEventListener("timeout",C),s.addEventListener("abort",C),t.reportProgress&&(s.addEventListener("progress",P),null!==u&&s.upload&&s.upload.addEventListener("progress",$)),s.send(u),r.next({type:ti.Sent}),()=>{s.removeEventListener("error",C),s.removeEventListener("abort",C),s.removeEventListener("load",w),s.removeEventListener("timeout",C),t.reportProgress&&(s.removeEventListener("progress",P),null!==u&&s.upload&&s.upload.removeEventListener("progress",$)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Sa))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const RS=new y.OlP("XSRF_ENABLED"),DR=new y.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bR=new y.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class CR{}let EO=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ae),y.LFG(y.Lbi),y.LFG(DR))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function IO(n,e){const t=n.url.toLowerCase();if(!(0,y.f3M)(RS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,y.f3M)(CR).getToken(),s=(0,y.f3M)(bR);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var $r=(()=>(($r=$r||{})[$r.Interceptors=0]="Interceptors",$r[$r.LegacyInterceptors=1]="LegacyInterceptors",$r[$r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$r[$r.NoXsrfProtection=3]="NoXsrfProtection",$r[$r.JsonpSupport=4]="JsonpSupport",$r[$r.RequestsMadeViaParent=5]="RequestsMadeViaParent",$r))();function Uy(n,e){return{\u0275kind:n,\u0275providers:e}}function DO(...n){const e=[vR,IR,wR,{provide:fD,useExisting:wR},{provide:TS,useExisting:IR},{provide:k0,useValue:IO,multi:!0},{provide:RS,useValue:!0},{provide:CR,useClass:EO}];for(const t of n)e.push(...t.\u0275providers);return(0,y.MR2)(e)}const TR=new y.OlP("LEGACY_INTERCEPTOR_FN");let CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[DO(Uy($r.LegacyInterceptors,[{provide:TR,useFactory:fO},{provide:k0,useExisting:TR,multi:!0}]))]}),n})();function TO(n,e){if(1&n&&(y.TgZ(0,"strong",6),y._uU(1),y.qZA()),2&n){const t=y.oxw();y.xp6(1),y.Oqu(t.alert)}}function SO(n,e){if(1&n&&(y.TgZ(0,"h2"),y._uU(1),y.qZA()),2&n){const t=y.oxw();y.xp6(1),y.AsE("",t.went+1,"/",t.inRoom.length,"")}}const AO=function(n){return{"background-color":n}};function xO(n,e){if(1&n){const t=y.EpF();y.TgZ(0,"div",7),y.NdJ("click",function(){y.CHM(t);const s=y.oxw();return y.KtG(s.ready())}),y._uU(1),y.qZA()}if(2&n){const t=y.oxw();y.Q6J("ngStyle",y.VKq(2,AO,t.button.color)),y.xp6(1),y.hij(" ",t.button.title," ")}}function RO(n,e){if(1&n){const t=y.EpF();y.TgZ(0,"span",8),y.NdJ("click",function(){y.CHM(t);const s=y.oxw();return y.KtG(s.startGame())}),y._uU(1,"Ti\xea\u0301p tu\u0323c"),y.qZA()}}let MO=(()=>{var n;class e{constructor(r,s){this.crud=r,this.http=s,this.title="spy",this.id="",this.button={title:"S\u0102\u0303N S\u0102\u0300NG",color:"rgb(54, 162, 235)"},this.leader=!1,this.inRoom=[],this.ip="",this.me={},this.went=0,this.roles=[],this.alert="",this.unsub=[]}ngOnInit(){this.getIPAddress(),this.getRoom()}getRoles(){this.unsub[1]=this.crud.getRoles().subscribe(r=>{this.roles=r})}getIPAddress(){this.http.get("http://api.ipify.org/?format=json").subscribe(r=>{this.ip=r.ip})}getRoom(){this.unsub[0]=this.crud.getRoom().subscribe(r=>{let s=!1,u=-1;this.went=0;for(let g of r)g.id==this.ip&&(s=!0,this.me=g),g.status&&!g.leader&&this.went++;console.log(s),s||(this.crud.addNewData("room",this.ip,{leader:!1,status:!1,role:""}),this.getRoom());let l=!1;for(let g of r)if(1==g.leader){l=!0;break}r.length>0&&(l||(u=this.randomLeader(r),this.crud.updateData("room",r[0].id,{leader:!0})),this.me.leader?(this.leader=!0,console.log("s",this.me.status),this.me.status?(this.button.title="K\xca\u0301T THU\u0301C",this.button.color="rgb(255, 99, 132)"):(this.button.title="B\u0102\u0301T \u0110\xc2\u0300U",this.button.color="rgb(54, 162, 235)")):(this.leader=!1,this.me.status?(this.button.title="HU\u0309Y",this.button.color="rgb(255, 99, 132)"):(this.button.title="S\u0102\u0303N SA\u0300NG",this.button.color="rgb(54, 162, 235)"))),this.me.leader&&this.getRoles(),this.inRoom=r})}ngOnDestroy(){for(let r of this.unsub)r.unsubscribe();this.crud.deleteData("room",this.id)}getRandomInt(r,s){return r=Math.ceil(r),s=Math.floor(s),Math.floor(Math.random()*(s-r)+r)}randomLeader(r){return this.getRandomInt(0,r.length)}ready(){this.me.leader?this.me.status?(this.button.title="B\u0102\u0301T \u0110\xc2\u0300U",this.button.color="rgb(54, 162, 235)",this.cancel()):(this.button.title="K\xca\u0301T THU\u0301C",this.button.color="rgb(255, 99, 132)",this.startGame(),this.crud.updateData("room",this.ip,{status:!0})):this.me.status?(this.button.title="S\u0102\u0303N SA\u0300NG",this.button.color="rgb(54, 162, 235)",this.crud.updateData("room",this.ip,{status:!1})):(this.button.title="HU\u0309Y",this.button.color="rgb(255, 99, 132)",this.crud.updateData("room",this.ip,{status:!0}))}cancel(){for(let r of this.inRoom)r.id!=this.ip?this.crud.deleteData("room",r.id):this.crud.updateData("room",r.id,{status:!1,role:""})}resetGame(){for(let r of this.inRoom)this.crud.updateData("room",r.id,{status:!1,role:""})}startGame(){let r=!0;for(let s of this.inRoom)if(0==s.status){r=!1;break}if(r=!0,r){let s=this.getRandomInt(0,this.roles.length),u=this.roles[s],l=this.getRandomInt(0,this.inRoom.length),g=this.inRoom[l].id;for(let w of this.inRoom)this.crud.updateData("room",w.id,w.id!=g?{role:u.role}:{role:u.spy+" (GIA\u0301N \u0110I\xca\u0323P)"})}else this.createAlert("Co\u0301 ng\u01b0\u01a1\u0300i ch\u01b0a s\u0103\u0303n sa\u0300ng")}createAlert(r){this.alert=r,setTimeout(()=>{this.alert=""},3e3)}}return(n=e).\u0275fac=function(r){return new(r||n)(y.Y36(nO),y.Y36(vR))},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:5,consts:[[1,"main"],["style","color: rgb(255, 99, 132);",4,"ngIf"],[4,"ngIf"],[1,"role"],["class","button",3,"ngStyle","click",4,"ngIf"],[3,"click",4,"ngIf"],[2,"color","rgb(255, 99, 132)"],[1,"button",3,"ngStyle","click"],[3,"click"]],template:function(r,s){1&r&&(y.TgZ(0,"div",0),y.YNc(1,TO,2,1,"strong",1),y.YNc(2,SO,2,2,"h2",2),y.TgZ(3,"h1",3),y._uU(4),y.qZA(),y.YNc(5,xO,2,4,"div",4),y.YNc(6,RO,2,0,"span",5),y.qZA()),2&r&&(y.xp6(1),y.Q6J("ngIf",""!=s.alert),y.xp6(1),y.Q6J("ngIf",""!=s.me.role||1==s.me.leader),y.xp6(2),y.Oqu(s.me.role),y.xp6(1),y.Q6J("ngIf",""!=s.me.role||1==s.me.leader),y.xp6(1),y.Q6J("ngIf",1==s.me.leader&&1==s.me.status))},dependencies:[Rs,Ms],styles:[".main[_ngcontent-%COMP%]{padding-top:100px;display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}.main[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:100px}.main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{padding:20px 40px;background-color:#36a2eb;font-weight:600;cursor:pointer;margin-bottom:20px}"]}),e})();const PO_firebase={apiKey:"AIzaSyD0MVQqtj7_aLD0ikx6madgMd7_pThjx6k",authDomain:"spyy-78ecc.firebaseapp.com",projectId:"spyy-78ecc",storageBucket:"spyy-78ecc.appspot.com",messagingSenderId:"163846304138",appId:"1:163846304138:web:614c449ebf53fbb9919873",measurementId:"G-NC8YRLKLPX"};let NO=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=y.oAB({type:n,bootstrap:[MO]}),n.\u0275inj=y.cJS({imports:[Jo,hp,CO,_s.hO.initializeApp(PO_firebase)]}),e})();ul().bootstrapModule(NO).catch(n=>console.error(n))},9751:(yt,xe,k)=>{k.d(xe,{y:()=>_e});var y=k(2961),X=k(727),O=k(8822),ee=k(9635),oe=k(2416),ae=k(576),ve=k(2806);let _e=(()=>{class K{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ye=new K;return Ye.source=this,Ye.operator=Te,Ye}subscribe(Te,Ye,ut){const ye=function H(K){return K&&K instanceof y.Lv||function V(K){return K&&(0,ae.m)(K.next)&&(0,ae.m)(K.error)&&(0,ae.m)(K.complete)}(K)&&(0,X.Nn)(K)}(Te)?Te:new y.Hp(Te,Ye,ut);return(0,ve.x)(()=>{const{operator:Ae,source:Me}=this;ye.add(Ae?Ae.call(ye,Me):Me?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ye){Te.error(Ye)}}forEach(Te,Ye){return new(Ye=fe(Ye))((ut,ye)=>{const Ae=new y.Hp({next:Me=>{try{Te(Me)}catch($e){ye($e),Ae.unsubscribe()}},error:ye,complete:ut});this.subscribe(Ae)})}_subscribe(Te){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Te)}[O.L](){return this}pipe(...Te){return(0,ee.U)(Te)(this)}toPromise(Te){return new(Te=fe(Te))((Ye,ut)=>{let ye;this.subscribe(Ae=>ye=Ae,Ae=>ut(Ae),()=>Ye(ye))})}}return K.create=ze=>new K(ze),K})();function fe(K){var ze;return null!==(ze=K??oe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(yt,xe,k)=>{k.d(xe,{x:()=>ve});var y=k(9751),X=k(727);const ee=(0,k(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=k(8737),ae=k(2806);let ve=(()=>{class fe extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const K=new _e(this,this);return K.operator=H,K}_throwIfClosed(){if(this.closed)throw new ee}next(H){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(H)}})}error(H){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:K}=this;for(;K.length;)K.shift().error(H)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:K,isStopped:ze,observers:Te}=this;return K||ze?X.Lc:(this.currentObservers=null,Te.push(H),new X.w0(()=>{this.currentObservers=null,(0,oe.P)(Te,H)}))}_checkFinalizedStatuses(H){const{hasError:K,thrownError:ze,isStopped:Te}=this;K?H.error(ze):Te&&H.complete()}asObservable(){const H=new y.y;return H.source=this,H}}return fe.create=(V,H)=>new _e(V,H),fe})();class _e extends ve{constructor(V,H){super(),this.destination=V,this.source=H}next(V){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===K||K.call(H,V)}error(V){var H,K;null===(K=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===K||K.call(H,V)}complete(){var V,H;null===(H=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===H||H.call(V)}_subscribe(V){var H,K;return null!==(K=null===(H=this.source)||void 0===H?void 0:H.subscribe(V))&&void 0!==K?K:X.Lc}}},2961:(yt,xe,k)=>{k.d(xe,{Hp:()=>ut,Lv:()=>K});var y=k(576),X=k(727),O=k(2416),ee=k(7849);function oe(){}const ae=fe("C",void 0,void 0);function fe(Fe,be,De){return{kind:Fe,value:be,error:De}}var V=k(3410),H=k(2806);class K extends X.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,X.Nn)(be)&&be.add(this)):this.destination=$e}static create(be,De,Be){return new ut(be,De,Be)}next(be){this.isStopped?Me(function _e(Fe){return fe("N",Fe,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Me(function ve(Fe){return fe("E",void 0,Fe)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Me(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Te(Fe,be){return ze.call(Fe,be)}class Ye{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(Be){ye(Be)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(Be){ye(Be)}else ye(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){ye(De)}}}class ut extends K{constructor(be,De,Be){let Ne;if(super(),(0,y.m)(be)||!be)Ne={next:be??void 0,error:De??void 0,complete:Be??void 0};else{let de;this&&O.v.useDeprecatedNextContext?(de=Object.create(be),de.unsubscribe=()=>this.unsubscribe(),Ne={next:be.next&&Te(be.next,de),error:be.error&&Te(be.error,de),complete:be.complete&&Te(be.complete,de)}):Ne=be}this.destination=new Ye(Ne)}}function ye(Fe){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Fe):(0,ee.h)(Fe)}function Me(Fe,be){const{onStoppedNotification:De}=O.v;De&&V.z.setTimeout(()=>De(Fe,be))}const $e={closed:!0,next:oe,error:function Ae(Fe){throw Fe},complete:oe}},727:(yt,xe,k)=>{k.d(xe,{Lc:()=>ae,w0:()=>oe,Nn:()=>ve});var y=k(576);const O=(0,k(3888).d)(fe=>function(H){fe(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((K,ze)=>`${ze+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ee=k(8737);class oe{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Te of H)Te.remove(this);else H.remove(this);const{initialTeardown:K}=this;if((0,y.m)(K))try{K()}catch(Te){V=Te instanceof O?Te.errors:[Te]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Te of ze)try{_e(Te)}catch(Ye){V=V??[],Ye instanceof O?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new O(V)}}add(V){var H;if(V&&V!==this)if(this.closed)_e(V);else{if(V instanceof oe){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(V)}}_hasParent(V){const{_parentage:H}=this;return H===V||Array.isArray(H)&&H.includes(V)}_addParent(V){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(V),H):H?[H,V]:V}_removeParent(V){const{_parentage:H}=this;H===V?this._parentage=null:Array.isArray(H)&&(0,ee.P)(H,V)}remove(V){const{_finalizers:H}=this;H&&(0,ee.P)(H,V),V instanceof oe&&V._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const ae=oe.EMPTY;function ve(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,y.m)(fe.remove)&&(0,y.m)(fe.add)&&(0,y.m)(fe.unsubscribe)}function _e(fe){(0,y.m)(fe)?fe():fe.unsubscribe()}},2416:(yt,xe,k)=>{k.d(xe,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,xe,k)=>{k.d(xe,{E:()=>X});const X=new(k(9751).y)(oe=>oe.complete())},8996:(yt,xe,k)=>{k.d(xe,{D:()=>be});var y=k(8421),X=k(5363),O=k(9468),ae=k(9751),_e=k(2202),fe=k(576),V=k(9672);function K(De,Be){if(!De)throw new Error("Iterable cannot be null");return new ae.y(Ne=>{(0,V.f)(Ne,Be,()=>{const de=De[Symbol.asyncIterator]();(0,V.f)(Ne,Be,()=>{de.next().then(G=>{G.done?Ne.complete():Ne.next(G.value)})},0,!0)})})}var ze=k(3670),Te=k(8239),Ye=k(1144),ut=k(6495),ye=k(2206),Ae=k(4532),Me=k(3260);function be(De,Be){return Be?function Fe(De,Be){if(null!=De){if((0,ze.c)(De))return function ee(De,Be){return(0,y.Xf)(De).pipe((0,O.R)(Be),(0,X.Q)(Be))}(De,Be);if((0,Ye.z)(De))return function ve(De,Be){return new ae.y(Ne=>{let de=0;return Be.schedule(function(){de===De.length?Ne.complete():(Ne.next(De[de++]),Ne.closed||this.schedule())})})}(De,Be);if((0,Te.t)(De))return function oe(De,Be){return(0,y.Xf)(De).pipe((0,O.R)(Be),(0,X.Q)(Be))}(De,Be);if((0,ye.D)(De))return K(De,Be);if((0,ut.T)(De))return function H(De,Be){return new ae.y(Ne=>{let de;return(0,V.f)(Ne,Be,()=>{de=De[_e.h](),(0,V.f)(Ne,Be,()=>{let G,Ge;try{({value:G,done:Ge}=de.next())}catch(He){return void Ne.error(He)}Ge?Ne.complete():Ne.next(G)},0,!0)}),()=>(0,fe.m)(de?.return)&&de.return()})}(De,Be);if((0,Me.L)(De))return function $e(De,Be){return K((0,Me.Q)(De),Be)}(De,Be)}throw(0,Ae.z)(De)}(De,Be):(0,y.Xf)(De)}},8421:(yt,xe,k)=>{k.d(xe,{Xf:()=>ze});var y=k(7582),X=k(1144),O=k(8239),ee=k(9751),oe=k(3670),ae=k(2206),ve=k(4532),_e=k(6495),fe=k(3260),V=k(576),H=k(7849),K=k(8822);function ze(Fe){if(Fe instanceof ee.y)return Fe;if(null!=Fe){if((0,oe.c)(Fe))return function Te(Fe){return new ee.y(be=>{const De=Fe[K.L]();if((0,V.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,X.z)(Fe))return function Ye(Fe){return new ee.y(be=>{for(let De=0;De<Fe.length&&!be.closed;De++)be.next(Fe[De]);be.complete()})}(Fe);if((0,O.t)(Fe))return function ut(Fe){return new ee.y(be=>{Fe.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,H.h)})}(Fe);if((0,ae.D)(Fe))return Ae(Fe);if((0,_e.T)(Fe))return function ye(Fe){return new ee.y(be=>{for(const De of Fe)if(be.next(De),be.closed)return;be.complete()})}(Fe);if((0,fe.L)(Fe))return function Me(Fe){return Ae((0,fe.Q)(Fe))}(Fe)}throw(0,ve.z)(Fe)}function Ae(Fe){return new ee.y(be=>{(function $e(Fe,be){var De,Be,Ne,de;return(0,y.mG)(this,void 0,void 0,function*(){try{for(De=(0,y.KL)(Fe);!(Be=yield De.next()).done;)if(be.next(Be.value),be.closed)return}catch(G){Ne={error:G}}finally{try{Be&&!Be.done&&(de=De.return)&&(yield de.call(De))}finally{if(Ne)throw Ne.error}}be.complete()})})(Fe,be).catch(De=>be.error(De))})}},6451:(yt,xe,k)=>{k.d(xe,{T:()=>ae});var y=k(8189),X=k(8421),O=k(515),ee=k(7669),oe=k(8996);function ae(...ve){const _e=(0,ee.yG)(ve),fe=(0,ee._6)(ve,1/0),V=ve;return V.length?1===V.length?(0,X.Xf)(V[0]):(0,y.J)(fe)((0,oe.D)(V,_e)):O.E}},5403:(yt,xe,k)=>{k.d(xe,{x:()=>X});var y=k(2961);function X(ee,oe,ae,ve,_e){return new O(ee,oe,ae,ve,_e)}class O extends y.Lv{constructor(oe,ae,ve,_e,fe,V){super(oe),this.onFinalize=fe,this.shouldUnsubscribe=V,this._next=ae?function(H){try{ae(H)}catch(K){oe.error(K)}}:super._next,this._error=_e?function(H){try{_e(H)}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(H){oe.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(yt,xe,k)=>{k.d(xe,{U:()=>O});var y=k(4482),X=k(5403);function O(ee,oe){return(0,y.e)((ae,ve)=>{let _e=0;ae.subscribe((0,X.x)(ve,fe=>{ve.next(ee.call(oe,fe,_e++))}))})}},8189:(yt,xe,k)=>{k.d(xe,{J:()=>O});var y=k(5577),X=k(4671);function O(ee=1/0){return(0,y.z)(X.y,ee)}},5577:(yt,xe,k)=>{k.d(xe,{z:()=>_e});var y=k(4004),X=k(8421),O=k(4482),ee=k(9672),oe=k(5403),ve=k(576);function _e(fe,V,H=1/0){return(0,ve.m)(V)?_e((K,ze)=>(0,y.U)((Te,Ye)=>V(K,Te,ze,Ye))((0,X.Xf)(fe(K,ze))),H):("number"==typeof V&&(H=V),(0,O.e)((K,ze)=>function ae(fe,V,H,K,ze,Te,Ye,ut){const ye=[];let Ae=0,Me=0,$e=!1;const Fe=()=>{$e&&!ye.length&&!Ae&&V.complete()},be=Be=>Ae<K?De(Be):ye.push(Be),De=Be=>{Te&&V.next(Be),Ae++;let Ne=!1;(0,X.Xf)(H(Be,Me++)).subscribe((0,oe.x)(V,de=>{ze?.(de),Te?be(de):V.next(de)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ae--;ye.length&&Ae<K;){const de=ye.shift();Ye?(0,ee.f)(V,Ye,()=>De(de)):De(de)}Fe()}catch(de){V.error(de)}}))};return fe.subscribe((0,oe.x)(V,be,()=>{$e=!0,Fe()})),()=>{ut?.()}}(K,ze,fe,H)))}},5363:(yt,xe,k)=>{k.d(xe,{Q:()=>ee});var y=k(9672),X=k(4482),O=k(5403);function ee(oe,ae=0){return(0,X.e)((ve,_e)=>{ve.subscribe((0,O.x)(_e,fe=>(0,y.f)(_e,oe,()=>_e.next(fe),ae),()=>(0,y.f)(_e,oe,()=>_e.complete(),ae),fe=>(0,y.f)(_e,oe,()=>_e.error(fe),ae)))})}},3099:(yt,xe,k)=>{k.d(xe,{B:()=>oe});var y=k(8421),X=k(7579),O=k(2961),ee=k(4482);function oe(ve={}){const{connector:_e=(()=>new X.x),resetOnError:fe=!0,resetOnComplete:V=!0,resetOnRefCountZero:H=!0}=ve;return K=>{let ze,Te,Ye,ut=0,ye=!1,Ae=!1;const Me=()=>{Te?.unsubscribe(),Te=void 0},$e=()=>{Me(),ze=Ye=void 0,ye=Ae=!1},Fe=()=>{const be=ze;$e(),be?.unsubscribe()};return(0,ee.e)((be,De)=>{ut++,!Ae&&!ye&&Me();const Be=Ye=Ye??_e();De.add(()=>{ut--,0===ut&&!Ae&&!ye&&(Te=ae(Fe,H))}),Be.subscribe(De),!ze&&ut>0&&(ze=new O.Hp({next:Ne=>Be.next(Ne),error:Ne=>{Ae=!0,Me(),Te=ae($e,fe,Ne),Be.error(Ne)},complete:()=>{ye=!0,Me(),Te=ae($e,V),Be.complete()}}),(0,y.Xf)(be).subscribe(ze))})(K)}}function ae(ve,_e,...fe){if(!0===_e)return void ve();if(!1===_e)return;const V=new O.Hp({next:()=>{V.unsubscribe(),ve()}});return(0,y.Xf)(_e(...fe)).subscribe(V)}},9468:(yt,xe,k)=>{k.d(xe,{R:()=>X});var y=k(4482);function X(O,ee=0){return(0,y.e)((oe,ae)=>{ae.add(O.schedule(()=>oe.subscribe(ae),ee))})}},8505:(yt,xe,k)=>{k.d(xe,{b:()=>oe});var y=k(576),X=k(4482),O=k(5403),ee=k(4671);function oe(ae,ve,_e){const fe=(0,y.m)(ae)||ve||_e?{next:ae,error:ve,complete:_e}:ae;return fe?(0,X.e)((V,H)=>{var K;null===(K=fe.subscribe)||void 0===K||K.call(fe);let ze=!0;V.subscribe((0,O.x)(H,Te=>{var Ye;null===(Ye=fe.next)||void 0===Ye||Ye.call(fe,Te),H.next(Te)},()=>{var Te;ze=!1,null===(Te=fe.complete)||void 0===Te||Te.call(fe),H.complete()},Te=>{var Ye;ze=!1,null===(Ye=fe.error)||void 0===Ye||Ye.call(fe,Te),H.error(Te)},()=>{var Te,Ye;ze&&(null===(Te=fe.unsubscribe)||void 0===Te||Te.call(fe)),null===(Ye=fe.finalize)||void 0===Ye||Ye.call(fe)}))}):ee.y}},4408:(yt,xe,k)=>{k.d(xe,{o:()=>oe});var y=k(727);class X extends y.w0{constructor(ve,_e){super()}schedule(ve,_e=0){return this}}const O={setInterval(ae,ve,..._e){const{delegate:fe}=O;return fe?.setInterval?fe.setInterval(ae,ve,..._e):setInterval(ae,ve,..._e)},clearInterval(ae){const{delegate:ve}=O;return(ve?.clearInterval||clearInterval)(ae)},delegate:void 0};var ee=k(8737);class oe extends X{constructor(ve,_e){super(ve,_e),this.scheduler=ve,this.work=_e,this.pending=!1}schedule(ve,_e=0){var fe;if(this.closed)return this;this.state=ve;const V=this.id,H=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(H,V,_e)),this.pending=!0,this.delay=_e,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(H,this.id,_e),this}requestAsyncId(ve,_e,fe=0){return O.setInterval(ve.flush.bind(ve,this),fe)}recycleAsyncId(ve,_e,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return _e;null!=_e&&O.clearInterval(_e)}execute(ve,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ve,_e);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,_e){let V,fe=!1;try{this.work(ve)}catch(H){fe=!0,V=H||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:ve,scheduler:_e}=this,{actions:fe}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(fe,this),null!=ve&&(this.id=this.recycleAsyncId(_e,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,xe,k)=>{k.d(xe,{v:()=>O});var y=k(6063);class X{constructor(oe,ae=X.now){this.schedulerActionCtor=oe,this.now=ae}schedule(oe,ae=0,ve){return new this.schedulerActionCtor(this,oe).schedule(ve,ae)}}X.now=y.l.now;class O extends X{constructor(oe,ae=X.now){super(oe,ae),this.actions=[],this._active=!1}flush(oe){const{actions:ae}=this;if(this._active)return void ae.push(oe);let ve;this._active=!0;do{if(ve=oe.execute(oe.state,oe.delay))break}while(oe=ae.shift());if(this._active=!1,ve){for(;oe=ae.shift();)oe.unsubscribe();throw ve}}}},4986:(yt,xe,k)=>{k.d(xe,{z:()=>O});var y=k(4408);const O=new(k(7565).v)(y.o)},6063:(yt,xe,k)=>{k.d(xe,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(yt,xe,k)=>{k.d(xe,{z:()=>y});const y={setTimeout(X,O,...ee){const{delegate:oe}=y;return oe?.setTimeout?oe.setTimeout(X,O,...ee):setTimeout(X,O,...ee)},clearTimeout(X){const{delegate:O}=y;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(yt,xe,k)=>{k.d(xe,{h:()=>X});const X=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,xe,k)=>{k.d(xe,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,xe,k)=>{k.d(xe,{_6:()=>ae,jO:()=>ee,yG:()=>oe});var y=k(576);function O(ve){return ve[ve.length-1]}function ee(ve){return(0,y.m)(O(ve))?ve.pop():void 0}function oe(ve){return function X(ve){return ve&&(0,y.m)(ve.schedule)}(O(ve))?ve.pop():void 0}function ae(ve,_e){return"number"==typeof O(ve)?ve.pop():_e}},8737:(yt,xe,k)=>{function y(X,O){if(X){const ee=X.indexOf(O);0<=ee&&X.splice(ee,1)}}k.d(xe,{P:()=>y})},3888:(yt,xe,k)=>{function y(X){const ee=X(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}k.d(xe,{d:()=>y})},2806:(yt,xe,k)=>{k.d(xe,{O:()=>ee,x:()=>O});var y=k(2416);let X=null;function O(oe){if(y.v.useDeprecatedSynchronousErrorHandling){const ae=!X;if(ae&&(X={errorThrown:!1,error:null}),oe(),ae){const{errorThrown:ve,error:_e}=X;if(X=null,ve)throw _e}}else oe()}function ee(oe){y.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=oe)}},9672:(yt,xe,k)=>{function y(X,O,ee,oe=0,ae=!1){const ve=O.schedule(function(){ee(),ae?X.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(X.add(ve),!ae)return ve}k.d(xe,{f:()=>y})},4671:(yt,xe,k)=>{function y(X){return X}k.d(xe,{y:()=>y})},1144:(yt,xe,k)=>{k.d(xe,{z:()=>y});const y=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(yt,xe,k)=>{k.d(xe,{D:()=>X});var y=k(576);function X(O){return Symbol.asyncIterator&&(0,y.m)(O?.[Symbol.asyncIterator])}},576:(yt,xe,k)=>{function y(X){return"function"==typeof X}k.d(xe,{m:()=>y})},3670:(yt,xe,k)=>{k.d(xe,{c:()=>O});var y=k(8822),X=k(576);function O(ee){return(0,X.m)(ee[y.L])}},6495:(yt,xe,k)=>{k.d(xe,{T:()=>O});var y=k(2202),X=k(576);function O(ee){return(0,X.m)(ee?.[y.h])}},8239:(yt,xe,k)=>{k.d(xe,{t:()=>X});var y=k(576);function X(O){return(0,y.m)(O?.then)}},3260:(yt,xe,k)=>{k.d(xe,{L:()=>ee,Q:()=>O});var y=k(7582),X=k(576);function O(oe){return(0,y.FC)(this,arguments,function*(){const ve=oe.getReader();try{for(;;){const{value:_e,done:fe}=yield(0,y.qq)(ve.read());if(fe)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(_e)}}finally{ve.releaseLock()}})}function ee(oe){return(0,X.m)(oe?.getReader)}},4482:(yt,xe,k)=>{k.d(xe,{A:()=>X,e:()=>O});var y=k(576);function X(ee){return(0,y.m)(ee?.lift)}function O(ee){return oe=>{if(X(oe))return oe.lift(function(ae){try{return ee(ae,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,xe,k)=>{k.d(xe,{U:()=>O,z:()=>X});var y=k(4671);function X(...ee){return O(ee)}function O(ee){return 0===ee.length?y.y:1===ee.length?ee[0]:function(ae){return ee.reduce((ve,_e)=>_e(ve),ae)}}},7849:(yt,xe,k)=>{k.d(xe,{h:()=>O});var y=k(2416),X=k(3410);function O(ee){X.z.setTimeout(()=>{const{onUnhandledError:oe}=y.v;if(!oe)throw ee;oe(ee)})}},4532:(yt,xe,k)=>{function y(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(xe,{z:()=>y})},4650:(yt,xe,k)=>{k.d(xe,{$8M:()=>Xo,$WT:()=>Ki,$Z:()=>dw,AFp:()=>dI,AaK:()=>_e,AsE:()=>Pm,CHM:()=>Ma,CRH:()=>ey,CZH:()=>sg,CqO:()=>kw,D6c:()=>vC,EJc:()=>tC,EpF:()=>n_,F4k:()=>r_,FYo:()=>mv,FiY:()=>Wa,GfV:()=>G0,JOm:()=>bt,KtG:()=>Pa,LFG:()=>Qt,Lbi:()=>ag,Lck:()=>$m,MMx:()=>Ri,MR2:()=>mD,NdJ:()=>zl,OlP:()=>Kt,Oqu:()=>Mm,P3R:()=>oh,PXZ:()=>gu,Q6J:()=>Ep,QGY:()=>Dm,Qsj:()=>bD,R0b:()=>Ts,RDi:()=>Bg,Rgc:()=>td,SBq:()=>hh,Sil:()=>sC,Suo:()=>qp,TTD:()=>Yc,TgZ:()=>Hl,VKq:()=>qm,X6Q:()=>cd,XFs:()=>lt,Xpm:()=>is,Xts:()=>ov,Y36:()=>yh,YKP:()=>Cn,YNc:()=>e_,Yjl:()=>wu,Yz7:()=>ct,Z0I:()=>Bt,ZZ4:()=>Ey,_UZ:()=>Em,_Vd:()=>dh,_c5:()=>Iy,_uU:()=>Qw,aQg:()=>g0,c2e:()=>hI,cJS:()=>mt,cg1:()=>I_,dDg:()=>t0,dqk:()=>Xt,eFA:()=>Vc,eJc:()=>Pi,eoX:()=>n0,f3M:()=>j,g9A:()=>sf,h0i:()=>Ql,hGG:()=>PI,hij:()=>Tc,iGM:()=>z_,ifc:()=>Ee,ip1:()=>ig,jDz:()=>AE,kL8:()=>D_,lG2:()=>xs,lqb:()=>Fl,lri:()=>EI,n5z:()=>Ku,oAB:()=>wa,oxw:()=>Lw,q4F:()=>W0,qLn:()=>sp,qZA:()=>Dc,rWj:()=>e0,sBO:()=>lC,s_b:()=>Xm,soG:()=>ug,tb:()=>ad,tp0:()=>Et,uIk:()=>wm,vHH:()=>ye,vpe:()=>Ks,wAp:()=>St,xp6:()=>rw,z2F:()=>lg,zSh:()=>yc,zs3:()=>ph});var y=k(7579),X=k(727),O=k(9751),ee=k(6451),oe=k(3099);function ae(i){for(let o in i)if(i[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function _e(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(_e).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function fe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const V=ae({__forward_ref__:ae});function H(i){return i.__forward_ref__=H,i.toString=function(){return _e(this())},i}function K(i){return ze(i)?i():i}function ze(i){return"function"==typeof i&&i.hasOwnProperty(V)&&i.__forward_ref__===H}function Te(i){return i&&!!i.\u0275providers}const ut="https://g.co/ng/security#xss";class ye extends Error{constructor(o,a){super(Ae(o,a)),this.code=o}}function Ae(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function Me(i){return"string"==typeof i?i:null==i?"":String(i)}function Be(i,o){throw new ye(-201,!1)}function ue(i,o){null==i&&function re(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function ct(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function mt(i){return{providers:i.providers||[],imports:i.imports||[]}}function zt(i){return cn(i,Sn)||cn(i,Hr)}function Bt(i){return null!==zt(i)}function cn(i,o){return i.hasOwnProperty(o)?i[o]:null}function Vn(i){return i&&(i.hasOwnProperty(Ar)||i.hasOwnProperty(Pn))?i[Ar]:null}const Sn=ae({\u0275prov:ae}),Ar=ae({\u0275inj:ae}),Hr=ae({ngInjectableDef:ae}),Pn=ae({ngInjectorDef:ae});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let zr;function tr(i){const o=zr;return zr=i,o}function hi(i,o,a){const c=zt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void Be(_e(i))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},nr="__NG_DI_FLAG__",Nn="ngTempTokenPath",_r="ngTokenPath",En=/\n/gm,Zs="\u0275",en="__source";let qi;function Wt(i){const o=qi;return qi=i,o}function Gr(i,o=lt.Default){if(void 0===qi)throw new ye(-203,!1);return null===qi?hi(i,void 0,o):qi.get(i,o&lt.Optional?null:void 0,o)}function Qt(i,o=lt.Default){return(function yu(){return zr}()||Gr)(K(i),o)}function j(i,o=lt.Default){return Qt(i,pe(o))}function pe(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function We(i){const o=[];for(let a=0;a<i.length;a++){const c=K(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ye(900,!1);let d,p=lt.Default;for(let v=0;v<c.length;v++){const I=c[v],b=vt(I);"number"==typeof b?-1===b?d=I.token:p|=b:d=I}o.push(Qt(d,p))}else o.push(Qt(c))}return o}function Qe(i,o){return i[nr]=o,i.prototype[nr]=o,i}function vt(i){return i[nr]}function F(i){return{toString:i}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),Ee=(()=>{return(i=Ee||(Ee={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ee;var i})();const ne={},Ve=[],Nt=ae({\u0275cmp:ae}),tn=ae({\u0275dir:ae}),rr=ae({\u0275pipe:ae}),On=ae({\u0275mod:ae}),hn=ae({\u0275fac:ae}),Yt=ae({__NG_ELEMENT_ID__:ae});let ri=0;function is(i){return F(()=>{const o=Eu(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||Ee.Emulated,id:"c"+ri++,styles:i.styles||Ve,_:null,schemas:i.schemas||null,tView:null};vf(a);const c=i.dependencies;return a.directiveDefs=Qs(c,!1),a.pipeDefs=Qs(c,!0),a})}function Gc(i){return nn(i)||hr(i)}function vu(i){return null!==i}function wa(i){return F(()=>({type:i.type,bootstrap:i.bootstrap||Ve,declarations:i.declarations||Ve,imports:i.imports||Ve,exports:i.exports||Ve,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Wc(i,o){if(null==i)return ne;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function xs(i){return F(()=>{const o=Eu(i);return vf(o),o})}function wu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function nn(i){return i[Nt]||null}function hr(i){return i[tn]||null}function wr(i){return i[rr]||null}function Ki(i){const o=nn(i)||hr(i)||wr(i);return null!==o&&o.standalone}function xr(i,o){const a=i[On]||null;if(!a&&!0===o)throw new Error(`Type ${_e(i)} does not have '\u0275mod' property.`);return a}function Eu(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Ve,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wc(i.inputs,o),outputs:Wc(i.outputs)}}function vf(i){i.features?.forEach(o=>o(i))}function Qs(i,o){if(!i)return null;const a=o?wr:Gc;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(vu)}const fi=0,Xe=1,kt=2,In=3,pi=4,ln=5,Wn=6,Ea=7,kn=8,Ia=9,Rs=10,jt=11,Da=12,Xs=13,ss=14,Js=15,jn=16,Bo=17,os=18,Ni=19,Ms=20,Er=21,gn=22,ba=1,qc=2,jo=7,Ps=8,eo=9,fr=10;function si(i){return Array.isArray(i)&&"object"==typeof i[ba]}function oi(i){return Array.isArray(i)&&!0===i[ba]}function Ca(i){return 0!=(4&i.flags)}function $o(i){return i.componentOffset>-1}function Kc(i){return 1==(1&i.flags)}function gi(i){return!!i.template}function Du(i){return 0!=(256&i[kt])}function Zi(i,o){return i.hasOwnProperty(hn)?i[hn]:null}class to{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Yc(){return Ta}function Ta(i){return i.type.prototype.ngOnChanges&&(i.setInput=Qc),bd}function bd(){const i=If(this),o=i?.current;if(o){const a=i.previous;if(a===ne)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Qc(i,o,a,c){const d=this.declaredInputs[a],p=If(i)||function Sa(i,o){return i[Ns]=o}(i,{previous:ne,current:null}),v=p.current||(p.current={}),I=p.previous,b=I[d];v[d]=new to(b&&b.currentValue,o,I===ne),i[c]=o}Yc.ngInherit=!0;const Ns="__ngSimpleChanges__";function If(i){return i[Ns]||null}const Wr=function(i,o,a){};function pr(i){for(;Array.isArray(i);)i=i[fi];return i}function gr(i,o){return pr(o[i.index])}function Td(i,o){return i.data[o]}function ir(i,o){const a=o[i];return si(a)?a:a[fi]}function ls(i){return 64==(64&i[kt])}function ks(i,o){return null==o?null:i[o]}function Go(i){i[os]=0}function xa(i,o){i[ln]+=o;let a=i,c=i[In];for(;null!==c&&(1===o&&1===a[ln]||-1===o&&0===a[ln]);)c[ln]+=o,a=c,c=c[In]}const Mt={lFrame:el(null),bindingsEnabled:!0};function xu(){return Mt.bindingsEnabled}function me(){return Mt.lFrame.lView}function Lt(){return Mt.lFrame.tView}function Ma(i){return Mt.lFrame.contextLView=i,i[kn]}function Pa(i){return Mt.lFrame.contextLView=null,i}function sr(){let i=no();for(;null!==i&&64===i.type;)i=i.parent;return i}function no(){return Mt.lFrame.currentTNode}function qr(i,o){const a=Mt.lFrame;a.currentTNode=i,a.isParent=o}function Md(){return Mt.lFrame.isParent}function ro(){return Mt.lFrame.bindingIndex++}function Pu(i,o){const a=Mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Kn(o)}function Kn(i){Mt.lFrame.currentDirectiveIndex=i}function Jc(){return Mt.lFrame.currentQueryIndex}function Nu(i){Mt.lFrame.currentQueryIndex=i}function Nd(i){const o=i[Xe];return 2===o.type?o.declTNode:1===o.type?i[Wn]:null}function Ou(i,o,a){if(a&lt.SkipSelf){let d=o,p=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=Nd(p),null===d||(p=p[Js],10&d.type))););if(null===d)return!1;o=d,i=p}const c=Mt.lFrame=ka();return c.currentTNode=o,c.lView=i,!0}function ku(i){const o=ka(),a=i[Xe];Mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ka(){const i=Mt.lFrame,o=null===i?null:i.child;return null===o?el(i):o}function el(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function La(){const i=Mt.lFrame;return Mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Od=La;function Lu(){const i=La();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ir(){return Mt.lFrame.selectedIndex}function hs(i){Mt.lFrame.selectedIndex=i}function Dn(){const i=Mt.lFrame;return Td(i.tView,i.selectedIndex)}function Vu(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:x,ngOnDestroy:M}=p;v&&(i.contentHooks??(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks??(i.contentHooks=[])).push(a,I),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,I)),b&&(i.viewHooks??(i.viewHooks=[])).push(-a,b),x&&((i.viewHooks??(i.viewHooks=[])).push(a,x),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,x)),null!=M&&(i.destroyHooks??(i.destroyHooks=[])).push(a,M)}}function tl(i,o,a){rl(i,o,3,a)}function nl(i,o,a,c){(3&i[kt])===a&&rl(i,o,a,c)}function Ld(i,o){let a=i[kt];(3&a)===o&&(a&=2047,a+=1,i[kt]=a)}function rl(i,o,a,c){const p=c??-1,v=o.length-1;let I=0;for(let b=void 0!==c?65535&i[os]:0;b<v;b++)if("number"==typeof o[b+1]){if(I=o[b],null!=c&&I>=c)break}else o[b]<0&&(i[os]+=65536),(I<p||-1==p)&&(qo(i,a,o,b),i[os]=(4294901760&i[os])+b+2),b++}function qo(i,o,a,c){const d=a[c]<0,p=a[c+1],I=i[d?-a[c]:a[c]];if(d){if(i[kt]>>11<i[os]>>16&&(3&i[kt])===o){i[kt]+=2048,Wr(4,I,p);try{p.call(I)}finally{Wr(5,I,p)}}}else{Wr(4,I,p);try{p.call(I)}finally{Wr(5,I,p)}}}const Ko=-1;class fs{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Zo(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],v=a[c++],I=a[c++];i.setAttribute(o,v,I,p)}else{const p=d,v=a[++c];ao(p)?i.setProperty(o,p,v):i.setAttribute(o,p,v),c++}}return c}function il(i){return 3===i||4===i||6===i}function ao(i){return 64===i.charCodeAt(0)}function uo(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||$u(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function $u(i,o,a,c,d){let p=0,v=i.length;if(-1===o)v=-1;else for(;p<i.length;){const I=i[p++];if("number"==typeof I){if(I===o){v=-1;break}if(I>o){v=p-1;break}}}for(;p<i.length;){const I=i[p];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==v&&(i.splice(v,0,o),p=v+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function co(i){return i!==Ko}function Ls(i){return 32767&i}function lo(i,o){let a=function Fd(i){return i>>16}(i),c=o;for(;a>0;)c=c[Js],a--;return c}let Hu=!0;function Ua(i){const o=Hu;return Hu=i,o}const zu=255,Ud=5;let ho=0;const ki={};function sl(i,o){const a=Qo(i,o);if(-1!==a)return a;const c=o[Xe];c.firstCreatePass&&(i.injectorIndex=o.length,Yo(c.data,i),Yo(o,null),Yo(c.blueprint,null));const d=Vd(i,o),p=i.injectorIndex;if(co(d)){const v=Ls(d),I=lo(d,o),b=I[Xe].data;for(let x=0;x<8;x++)o[p+x]=I[v+x]|b[v+x]}return o[p+8]=d,p}function Yo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Qo(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Vd(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=ja(d),null===c)return Ko;if(a++,d=d[Js],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Ko}function fn(i,o,a){!function ps(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Yt)&&(c=a[Yt]),null==c&&(c=a[Yt]=ho++);const d=c&zu;o.data[i+(d>>Ud)]|=1<<d}(i,o,a)}function Gu(i,o,a){if(a&lt.Optional||void 0!==i)return i;Be()}function ol(i,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),!(a&(lt.Self|lt.Host))){const d=i[Ia],p=tr(void 0);try{return d?d.get(o,c,a&lt.Optional):hi(o,c,a&lt.Optional)}finally{tr(p)}}return Gu(c,0,a)}function Wu(i,o,a,c=lt.Default,d){if(null!==i){if(1024&o[kt]){const v=function ul(i,o,a,c,d){let p=i,v=o;for(;null!==p&&null!==v&&1024&v[kt]&&!(256&v[kt]);){const I=qu(p,v,a,c|lt.Self,ki);if(I!==ki)return I;let b=p.parent;if(!b){const x=v[Er];if(x){const M=x.get(a,ki,c);if(M!==ki)return M}b=ja(v),v=v[Js]}p=b}return d}(i,o,a,c,ki);if(v!==ki)return v}const p=qu(i,o,a,c,ki);if(p!==ki)return p}return ol(o,a,c,d)}function qu(i,o,a,c,d){const p=function al(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Yt)?i[Yt]:void 0;return"number"==typeof o?o>=0?o&zu:Af:o}(a);if("function"==typeof p){if(!Ou(o,i,c))return c&lt.Host?Gu(d,0,c):ol(o,a,c,d);try{const v=p(c);if(null!=v||c&lt.Optional)return v;Be()}finally{Od()}}else if("number"==typeof p){let v=null,I=Qo(i,o),b=Ko,x=c&lt.Host?o[jn][Wn]:null;for((-1===I||c&lt.SkipSelf)&&(b=-1===I?Vd(i,o):o[I+8],b!==Ko&&Ba(c,!1)?(v=o[Xe],I=Ls(b),o=lo(b,o)):I=-1);-1!==I;){const M=o[Xe];if(Va(p,I,M.data)){const L=or(I,o,a,v,c,x);if(L!==ki)return L}b=o[I+8],b!==Ko&&Ba(c,o[Xe].data[I+8]===x)&&Va(p,I,o)?(v=M,I=Ls(b),o=lo(b,o)):I=-1}}return d}function or(i,o,a,c,d,p){const v=o[Xe],I=v.data[i+8],M=fo(I,v,a,null==c?$o(I)&&Hu:c!=v&&0!=(3&I.type),d&lt.Host&&p===I);return null!==M?$n(o,v,M,I):ki}function fo(i,o,a,c,d){const p=i.providerIndexes,v=o.data,I=1048575&p,b=i.directiveStart,M=p>>20,W=d?I+M:i.directiveEnd;for(let J=c?I:I+M;J<W;J++){const we=v[J];if(J<b&&a===we||J>=b&&we.type===a)return J}if(d){const J=v[b];if(J&&gi(J)&&J.type===a)return b}return null}function $n(i,o,a,c){let d=i[a];const p=o.data;if(function Ng(i){return i instanceof fs}(d)){const v=d;v.resolving&&function Fe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ye(-200,`Circular dependency in DI detected for ${i}${a}`)}(function $e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Me(i)}(p[a]));const I=Ua(v.canSeeViewProviders);v.resolving=!0;const b=v.injectImpl?tr(v.injectImpl):null;Ou(i,c,lt.Default);try{d=i[a]=v.factory(void 0,p,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Pg(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const v=Ta(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,v)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==b&&tr(b),Ua(I),v.resolving=!1,Od()}}return d}function Va(i,o,a){return!!(a[o+(i>>Ud)]&1<<i)}function Ba(i,o){return!(i&lt.Self||i&lt.Host&&o)}class gs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Wu(this._tNode,this._lView,o,pe(c),a)}}function Af(){return new gs(sr(),me())}function Ku(i){return F(()=>{const o=i.prototype.constructor,a=o[hn]||po(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[hn]||po(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function po(i){return ze(i)?()=>{const o=po(K(i));return o&&o()}:Zi(i)}function ja(i){const o=i[Xe],a=o.type;return 2===a?o.declTNode:1===a?i[Wn]:null}function Xo(i){return function Bd(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(il(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(sr(),i)}const Jo="__parameters__";function mo(i,o,a){return F(()=>{const c=function go(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const v=new d(...p);return I.annotation=v,I;function I(b,x,M){const L=b.hasOwnProperty(Jo)?b[Jo]:Object.defineProperty(b,Jo,{value:[]})[Jo];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(v),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Kt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ct({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qi(i,o){i.forEach(a=>Array.isArray(a)?Qi(a,o):o(a))}function Nf(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function vo(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}const Wa=Qe(mo("Optional"),8),Et=Qe(mo("SkipSelf"),4);var bt=(()=>((bt=bt||{})[bt.Important=1]="Important",bt[bt.DashCase=2]="DashCase",bt))();const Gd=new Map;let Bi=0;const Y="__ngContext__";function se(i,o){si(o)?(i[Y]=o[Ms],function qd(i){Gd.set(i[Ms],i)}(o)):i[Y]=o}let ji;function Bs(i,o){return ji(i,o)}function Il(i){const o=i[In];return oi(o)?o[In]:o}function Dl(i){return Vf(i[Xs])}function Ao(i){return Vf(i[pi])}function Vf(i){for(;null!==i&&!oi(i);)i=i[pi];return i}function xo(i,o,a,c,d){if(null!=c){let p,v=!1;oi(c)?p=c:si(c)&&(v=!0,c=c[fi]);const I=pr(c);0===i&&null!==a?null==d?Cl(o,a,I):ra(o,a,I,d||null,!0):1===i&&null!==a?ra(o,a,I,d||null,!0):2===i?function Hf(i,o,a){const c=Ro(i,o);c&&function Tl(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,I,v):3===i&&o.destroyNode(I),null!=p&&function Rl(i,o,a,c,d){const p=a[jo];p!==pr(a)&&xo(o,i,c,p,d);for(let I=fr;I<a.length;I++){const b=a[I];xl(b[Xe],b,i,o,c,p)}}(o,i,p,a,d)}}function jf(i,o,a){return i.createElement(o,a)}function Fg(i,o){const a=i[eo],c=a.indexOf(o),d=o[In];512&o[kt]&&(o[kt]&=-513,xa(d,-1)),a.splice(c,1)}function bl(i,o){if(i.length<=fr)return;const a=fr+o,c=i[a];if(c){const d=c[Bo];null!==d&&d!==i&&Fg(d,c),o>0&&(i[a-1][pi]=c[pi]);const p=vo(i,fr+o);!function Gy(i,o){xl(i,o,o[jt],2,null,null),o[fi]=null,o[Wn]=null}(c[Xe],c);const v=p[Ni];null!==v&&v.detachView(p[Xe]),c[In]=null,c[pi]=null,c[kt]&=-65}return c}function Yd(i,o){if(!(128&o[kt])){const a=o[jt];a.destroyNode&&xl(i,o,a,3,null,null),function L0(i){let o=i[Xs];if(!o)return na(i[Xe],i);for(;o;){let a=null;if(si(o))a=o[Xs];else{const c=o[fr];c&&(a=c)}if(!a){for(;o&&!o[pi]&&o!==i;)si(o)&&na(o[Xe],o),o=o[In];null===o&&(o=i),si(o)&&na(o[Xe],o),a=o&&o[pi]}o=a}}(o)}}function na(i,o){if(!(128&o[kt])){o[kt]&=-65,o[kt]|=128,function Ja(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof fs)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const I=d[p[v]],b=p[v+1];Wr(4,I,b);try{b.call(I)}finally{Wr(5,I,b)}}else{Wr(4,d,p);try{p.call(d)}finally{Wr(5,d,p)}}}}}(i,o),function qy(i,o){const a=i.cleanup,c=o[Ea];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+3];v>=0?c[d=v]():c[d=-v].unsubscribe(),p+=2}else{const v=c[d=a[p+1]];a[p].call(v)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[Ea]=null}}(i,o),1===o[Xe].type&&o[jt].destroy();const a=o[Bo];if(null!==a&&oi(o[In])){a!==o[In]&&Fg(a,o);const c=o[Ni];null!==c&&c.detachView(i)}!function E(i){Gd.delete(i[Ms])}(o)}}function lc(i,o,a){return function Ky(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[fi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=i.data[c.directiveStart+d];if(p===Ee.None||p===Ee.Emulated)return null}return gr(c,a)}}(i,o.parent,a)}function ra(i,o,a,c,d){i.insertBefore(o,a,c,d)}function Cl(i,o,a){i.appendChild(o,a)}function Ug(i,o,a,c,d){null!==c?ra(i,o,a,c,d):Cl(i,o,a)}function Ro(i,o){return i.parentNode(o)}let $f,Nl,hc,eu=function Sl(i,o,a){return 40&i.type?gr(i,a):null};function tu(i,o,a,c){const d=lc(i,c,o),p=o[jt],I=function Xd(i,o,a){return eu(i,o,a)}(c.parent||o[Wn],c,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)Ug(p,d,a[b],I,!1);else Ug(p,d,a,I,!1);void 0!==$f&&$f(p,c,o,a,d)}function eh(i,o){if(null!==o){const a=o.type;if(3&a)return gr(o,i);if(4&a)return ys(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return eh(i,c);{const d=i[o.index];return oi(d)?ys(-1,d):pr(d)}}if(32&a)return Bs(o,i)()||pr(i[o.index]);{const c=th(i,o);return null!==c?Array.isArray(c)?c[0]:eh(Il(i[jn]),c):eh(i,o.next)}}return null}function th(i,o){return null!==o?i[jn][Wn].projection[o.projection]:null}function ys(i,o){const a=fr+i+1;if(a<o.length){const c=o[a],d=c[Xe].firstChild;if(null!==d)return eh(c,d)}return o[jo]}function Al(i,o,a,c,d,p,v){for(;null!=a;){const I=c[a.index],b=a.type;if(v&&0===o&&(I&&se(pr(I),c),a.flags|=2),32!=(32&a.flags))if(8&b)Al(i,o,a.child,c,d,p,!1),xo(o,i,d,I,p);else if(32&b){const x=Bs(a,c);let M;for(;M=x();)xo(o,i,d,M,p);xo(o,i,d,I,p)}else 16&b?Gf(i,o,c,a,d,p):xo(o,i,d,I,p);a=v?a.projectionNext:a.next}}function xl(i,o,a,c,d,p){Al(a,c,i.firstChild,o,d,p,!1)}function Gf(i,o,a,c,d,p){const v=a[jn],b=v[Wn].projection[c.projection];if(Array.isArray(b))for(let x=0;x<b.length;x++)xo(o,i,d,b[x],p);else Al(i,o,b,v[In],d,p,!0)}function Ji(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Ml(i,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&Zo(i,o,c),null!==d&&Ji(i,o,d),null!==p&&function Wf(i,o,a){i.setAttribute(o,"style",a)}(i,o,p)}function Bg(i){Nl=i}function Zf(i){return function Kf(){if(void 0===hc&&(hc=null,Xt.trustedTypes))try{hc=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return hc}()?.createScriptURL(i)||i}class $g{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function Lr(i){return i instanceof $g?i.changingThisBreaksApplicationSecurity:i}function bi(i,o){const a=function fc(i){return i instanceof $g&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ut})`)}return a===o}const tp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function ih(i){const o=np();return o?o.sanitize(xn.URL,i)||"":bi(i,"URL")?Lr(i):function pc(i){return(i=String(i)).match(tp)?i:"unsafe:"+i}(Me(i))}function kl(i){const o=np();if(o)return Zf(o.sanitize(xn.RESOURCE_URL,i)||"");if(bi(i,"ResourceURL"))return Zf(Lr(i));throw new ye(904,!1)}function oh(i,o,a){return function rv(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?kl:ih}(o,a)(i)}function np(){const i=me();return i&&i[Da]}const ov=new Kt("ENVIRONMENT_INITIALIZER"),Ll=new Kt("INJECTOR",-1),ah=new Kt("INJECTOR_DEF_TYPES");class F0{get(o,a=ni){if(a===ni){const c=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw c.name="NullInjectorError",c}return a}}function mD(i){return{\u0275providers:i}}function rp(...i){return{\u0275providers:uh(0,i),\u0275fromNgModule:!0}}function uh(i,...o){const a=[],c=new Set;let d;return Qi(o,p=>{const v=p;av(v,a,[],c)&&(d||(d=[]),d.push(v))}),void 0!==d&&U0(d,a),a}function U0(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];uv(d,p=>{o.push(p)})}}function av(i,o,a,c){if(!(i=K(i)))return!1;let d=null,p=Vn(i);const v=!p&&nn(i);if(p||v){if(v&&!v.standalone)return!1;d=i}else{const b=i.ngModule;if(p=Vn(b),!p)return!1;d=b}const I=c.has(d);if(v){if(I)return!1;if(c.add(d),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of b)av(x,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!I){let x;c.add(d);try{Qi(p.imports,M=>{av(M,o,a,c)&&(x||(x=[]),x.push(M))})}finally{}void 0!==x&&U0(x,o)}if(!I){const x=Zi(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:Ve},{provide:ah,useValue:d,multi:!0},{provide:ov,useValue:()=>Qt(d),multi:!0})}const b=p.providers;null==b||I||uv(b,M=>{o.push(M)})}}return d!==i&&void 0!==i.providers}function uv(i,o){for(let a of i)Te(a)&&(a=a.\u0275providers),Array.isArray(a)?uv(a,o):o(a)}const yD=ae({provide:String,useValue:ae});function cv(i){return null!==i&&"object"==typeof i&&yD in i}function su(i){return"function"==typeof i}const yc=new Kt("Set Injector scope."),Zg={},_D={};let lv;function Yg(){return void 0===lv&&(lv=new F0),lv}class Fl{}class B0 extends Fl{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lh(o,v=>this.processProvider(v)),this.records.set(Ll,ch(void 0,this)),d.has("environment")&&this.records.set(Fl,ch(void 0,this));const p=this.records.get(yc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ah.multi,Ve,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Wt(this),c=tr(void 0);try{return o()}finally{Wt(a),tr(c)}}get(o,a=ni,c=lt.Default){this.assertNotDestroyed(),c=pe(c);const d=Wt(this),p=tr(void 0);try{if(!(c&lt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const b=function pv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Kt}(o)&&zt(o);I=b&&this.injectableDefInScope(b)?ch(dv(o),Zg):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&lt.Self?Yg():this.parent).get(o,a=c&lt.Optional&&a===ni?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Nn]=v[Nn]||[]).unshift(_e(o)),d)throw v;return function Zt(i,o,a,c){const d=i[Nn];throw o[en]&&d.unshift(o[en]),i.message=function U(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Zs?i.slice(2):i;let d=_e(o);if(Array.isArray(o))d=o.map(_e).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let I=o[v];p.push(v+":"+("string"==typeof I?JSON.stringify(I):_e(I)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(En,"\n  ")}`}("\n"+i.message,d,a,c),i[_r]=d,i[Nn]=null,i}(v,o,"R3InjectorError",this.source)}throw v}finally{tr(p),Wt(d)}}resolveInjectorInitializers(){const o=Wt(this),a=tr(void 0);try{const c=this.get(ov.multi,Ve,lt.Self);for(const d of c)d()}finally{Wt(o),tr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(_e(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(o){let a=su(o=K(o))?o:K(o&&o.provide);const c=function ED(i){return cv(i)?ch(void 0,i.useValue):ch(function hv(i,o,a){let c;if(su(i)){const d=K(i);return Zi(d)||dv(d)}if(cv(i))c=()=>K(i.useValue);else if(function V0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...We(i.deps||[]));else if(function vD(i){return!(!i||!i.useExisting)}(i))c=()=>Qt(K(i.useExisting));else{const d=K(i&&(i.useClass||i.provide));if(!function fv(i){return!!i.deps}(i))return Zi(d)||dv(d);c=()=>new d(...We(i.deps))}return c}(i),Zg)}(o);if(su(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=ch(void 0,Zg,!0),d.factory=()=>We(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Zg&&(a.value=_D,a.value=a.factory()),"object"==typeof a.value&&a.value&&function j0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function dv(i){const o=zt(i),a=null!==o?o.factory:Zi(i);if(null!==a)return a;if(i instanceof Kt)throw new ye(204,!1);if(i instanceof Function)return function wD(i){const o=i.length;if(o>0)throw function Yu(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new ye(204,!1);const a=function Tn(i){return i&&(i[Sn]||i[Hr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ye(204,!1)}function ch(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function lh(i,o){for(const a of i)Array.isArray(a)?lh(a,o):a&&Te(a)?lh(a.\u0275providers,o):o(a)}class ID{}class $0{}class z0{resolveComponentFactory(o){throw function DD(i){const o=Error(`No component factory found for ${_e(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let dh=(()=>{class i{}return i.NULL=new z0,i})();function Qg(){return ou(sr(),me())}function ou(i,o){return new hh(gr(i,o))}let hh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Qg,i})();function ip(i){return i instanceof hh?i.nativeElement:i}class mv{}let bD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function CD(){const i=me(),a=ir(sr().index,i);return(si(a)?a:i)[jt]}(),i})(),TD=(()=>{class i{}return i.\u0275prov=ct({token:i,providedIn:"root",factory:()=>null}),i})();class G0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const W0=new G0("15.2.9"),Xg={},yv="ngOriginalError";function vv(i){return i[yv]}class sp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&vv(o);for(;a&&vv(a);)a=vv(a);return a||null}}function sa(i){return i instanceof Function?i():i}function X0(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const _v="ng-template";function wv(i,o,a){let c=0,d=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&d){const v=i[c++];if(a&&"class"===p&&-1!==X0(v.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Ev(i){return 4===i.type&&i.value!==_v}function fh(i,o,a){return o===(4!==i.type||a?i.value:_v)}function Iv(i,o,a){let c=4;const d=i.attrs||[],p=function ew(i){for(let o=0;o<i.length;o++)if(il(i[o]))return o;return i.length}(d);let v=!1;for(let I=0;I<o.length;I++){const b=o[I];if("number"!=typeof b){if(!v)if(4&c){if(c=2|1&c,""!==b&&!fh(i,b,a)||""===b&&1===o.length){if(Mo(c))return!1;v=!0}}else{const x=8&c?b:o[++I];if(8&c&&null!==i.attrs){if(!wv(i.attrs,x,a)){if(Mo(c))return!1;v=!0}continue}const L=J0(8&c?"class":b,d,Ev(i),a);if(-1===L){if(Mo(c))return!1;v=!0;continue}if(""!==x){let W;W=L>p?"":d[L+1].toLowerCase();const J=8&c?W:null;if(J&&-1!==X0(J,x,0)||2&c&&x!==W){if(Mo(c))return!1;v=!0}}}}else{if(!v&&!Mo(c)&&!Mo(b))return!1;if(v&&Mo(b))continue;v=!1,c=b|1&c}}return Mo(c)||v}function Mo(i){return 0==(1&i)}function J0(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const v=o[d];if(v===i)return d;if(3===v||6===v)p=!0;else{if(1===v||2===v){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=p?1:2}return-1}return function tw(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function ap(i,o,a=!1){for(let c=0;c<o.length;c++)if(Iv(i,o[c],a))return!0;return!1}function nw(i,o){return i?":not("+o.trim()+")":o}function OD(i){let o=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&c){const I=i[++a];d+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Mo(v)&&(o+=nw(p,d),d=""),c=v,p=p||!Mo(c);a++}return""!==d&&(o+=nw(p,d)),o}const Ft={};function rw(i){iw(Lt(),me(),Ir()+i,!1)}function iw(i,o,a,c){if(!c)if(3==(3&o[kt])){const p=i.preOrderCheckHooks;null!==p&&tl(o,p,a)}else{const p=i.preOrderHooks;null!==p&&nl(o,p,0,a)}hs(a)}function ow(i,o=null,a=null,c){const d=bv(i,o,a,c);return d.resolveInjectorInitializers(),d}function bv(i,o=null,a=null,c,d=new Set){const p=[a||Ve,rp(i)];return c=c||("object"==typeof i?void 0:_e(i)),new B0(p,o||Yg(),c||null,d)}let ph=(()=>{class i{static create(a,c){if(Array.isArray(a))return ow({name:""},c,a,"");{const d=a.name??"";return ow({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=ni,i.NULL=new F0,i.\u0275prov=ct({token:i,providedIn:"any",factory:()=>Qt(Ll)}),i.__NG_ELEMENT_ID__=-1,i})();function yh(i,o=lt.Default){const a=me();return null===a?Qt(i,o):Wu(sr(),a,K(i),o)}function dw(){throw new Error("invalid")}function hw(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const v=i.data[p];Nu(a[c]),v.contentQueries(2,o[p],p)}}}function nm(i,o,a,c,d,p,v,I,b,x,M){const L=o.blueprint.slice();return L[fi]=d,L[kt]=76|c,(null!==M||i&&1024&i[kt])&&(L[kt]|=1024),Go(L),L[In]=L[Js]=i,L[kn]=a,L[Rs]=v||i&&i[Rs],L[jt]=I||i&&i[jt],L[Da]=b||i&&i[Da]||null,L[Ia]=x||i&&i[Ia]||null,L[Wn]=p,L[Ms]=function Wd(){return Bi++}(),L[Er]=M,L[jn]=2==o.type?i[jn]:L,L}function dp(i,o,a,c,d){let p=i.data[o];if(null===p)p=function xv(i,o,a,c,d){const p=no(),v=Md(),b=i.data[o]=function vc(i,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=b),null!==p&&(v?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b,b.prev=p)),b}(i,o,a,c,d),function Pd(){return Mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const v=function Ru(){const i=Mt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return qr(p,!0),p}function hp(i,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Rv(i,o,a){ku(o);try{const c=i.viewQuery;null!==c&&gp(1,c,a);const d=i.template;null!==d&&rm(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hw(i,o),i.staticViewQueries&&gp(2,i.viewQuery,a);const p=i.components;null!==p&&function fw(i,o){for(let a=0;a<o.length;a++)Lv(i,o[a])}(o,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[kt]&=-5,Lu()}}function Fr(i,o,a,c){const d=o[kt];if(128!=(128&d)){ku(o);try{Go(o),function Yi(i){return Mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&rm(i,o,a,2,c);const v=3==(3&d);if(v){const x=i.preOrderCheckHooks;null!==x&&tl(o,x,null)}else{const x=i.preOrderHooks;null!==x&&nl(o,x,0,null),Ld(o,0)}if(function sb(i){for(let o=Dl(i);null!==o;o=Ao(o)){if(!o[qc])continue;const a=o[eo];for(let c=0;c<a.length;c++){const d=a[c];512&d[kt]||xa(d[In],1),d[kt]|=512}}}(o),function ib(i){for(let o=Dl(i);null!==o;o=Ao(o))for(let a=fr;a<o.length;a++){const c=o[a],d=c[Xe];ls(c)&&Fr(d,c,d.template,c[kn])}}(o),null!==i.contentQueries&&hw(i,o),v){const x=i.contentCheckHooks;null!==x&&tl(o,x)}else{const x=i.contentHooks;null!==x&&nl(o,x,1),Ld(o,1)}!function QD(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)hs(~d);else{const p=d,v=a[++c],I=a[++c];Pu(v,p),I(2,o[p])}}}finally{hs(-1)}}(i,o);const I=i.components;null!==I&&function XD(i,o){for(let a=0;a<o.length;a++)vh(i,o[a])}(o,I);const b=i.viewQuery;if(null!==b&&gp(2,b,c),v){const x=i.viewCheckHooks;null!==x&&tl(o,x)}else{const x=i.viewHooks;null!==x&&nl(o,x,2),Ld(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[kt]&=-41,512&o[kt]&&(o[kt]&=-513,xa(o[In],-1))}finally{Lu()}}}function rm(i,o,a,c,d){const p=Ir(),v=2&c;try{hs(-1),v&&o.length>gn&&iw(i,o,gn,!1),Wr(v?2:0,d),a(c,d)}finally{hs(p),Wr(v?3:1,d)}}function Mv(i,o,a){if(Ca(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const v=i.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function Pv(i,o,a){xu()&&(function nb(i,o,a,c){const d=a.directiveStart,p=a.directiveEnd;$o(a)&&function Ci(i,o,a){const c=gr(o,i),d=JD(a),p=i[Rs],v=hm(i,nm(i,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));i[o.index]=v}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||sl(a,o),se(c,o);const v=a.initialInputs;for(let I=d;I<p;I++){const b=i.data[I],x=$n(o,i,I,a);se(x,o),null!==v&&cm(0,I-d,x,b,0,v),gi(b)&&(ir(a.index,o)[kn]=$n(o,i,I,a))}}(i,o,a,gr(a,o)),64==(64&a.flags)&&ai(i,o,a))}function _s(i,o,a=gr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],I=-1===v?a(o,i):i[v];i[d++]=I}}}function JD(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Nv(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Nv(i,o,a,c,d,p,v,I,b,x){const M=gn+c,L=M+d,W=function Ie(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Ft);return a}(M,L),J="function"==typeof x?x():x;return W[Xe]={type:i,blueprint:W,template:a,queries:null,viewQuery:I,declTNode:o,data:W.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:J,incompleteFirstPass:!1}}function fp(i,o,a,c){const d=fm(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&Fv(i).push(c,d.length-1))}function on(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const p=i[d];null===c?pw(a,o,d,p):c.hasOwnProperty(d)&&pw(a,o,c[d],p)}return a}function pw(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Ov(i,o,a,c){if(xu()){const d=null===c?null:{"":-1},p=function Yr(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const v=a[p];if(ap(o,v.selectors,!1))if(c||(c=[]),gi(v))if(null!==v.findHostDirectiveDefs){const I=[];d=d||new Map,v.findHostDirectiveDefs(v,I,d),c.unshift(...I,v),oa(i,o,I.length)}else c.unshift(v),oa(i,o,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,c,d),c.push(v)}return null===c?null:[c,d]}(i,a);let v,I;null===p?v=I=null:[v,I]=p,null!==v&&am(i,o,a,v,d,I),d&&function rb(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new ye(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=uo(a.mergedAttrs,a.attrs)}function am(i,o,a,c,d,p){for(let x=0;x<c.length;x++)fn(sl(a,o),i,c[x].type);!function kv(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let x=0;x<c.length;x++){const M=c[x];M.providersResolver&&M.providersResolver(M)}let v=!1,I=!1,b=hp(i,o,c.length,null);for(let x=0;x<c.length;x++){const M=c[x];a.mergedAttrs=uo(a.mergedAttrs,M.hostAttrs),mw(i,a,o,b,M),gw(b,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const L=M.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),v=!0),!I&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),I=!0),b++}!function Po(i,o,a){const d=o.directiveEnd,p=i.data,v=o.attrs,I=[];let b=null,x=null;for(let M=o.directiveStart;M<d;M++){const L=p[M],W=a?a.get(L):null,we=W?W.outputs:null;b=on(L.inputs,M,b,W?W.inputs:null),x=on(L.outputs,M,x,we);const je=null===b||null===v||Ev(o)?null:ua(b,M,v);I.push(je)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=b,o.outputs=x}(i,a,p)}function ai(i,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,v=function Mg(){return Mt.lFrame.currentDirectiveIndex}();try{hs(p);for(let I=c;I<d;I++){const b=i.data[I],x=o[I];Kn(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&um(b,x)}}finally{hs(-1),Kn(v)}}function um(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function oa(i,o,a){o.componentOffset=a,(i.components??(i.components=[])).push(o.index)}function gw(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;gi(o)&&(a[""]=i)}}function mw(i,o,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=Zi(d.type)),v=new fs(p,gi(d),yh);i.blueprint[c]=v,a[c]=v,function eb(i,o,a,c,d){const p=d.hostBindings;if(p){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const I=~o.index;(function tb(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(a,c,p)}}(i,o,c,hp(i,a,d.hostVars,Ft),d)}function aa(i,o,a,c,d,p){const v=gr(i,o);!function Vl(i,o,a,c,d,p,v){if(null==p)i.removeAttribute(o,d,a);else{const I=null==v?Me(p):v(p,c||"",d);i.setAttribute(o,d,I,a)}}(o[jt],v,p,i.value,a,c,d)}function cm(i,o,a,c,d,p){const v=p[o];if(null!==v){const I=c.setInput;for(let b=0;b<v.length;){const x=v[b++],M=v[b++],L=v[b++];null!==I?c.setInput(a,L,x,M):a[M]=L}}}function ua(i,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const v=i[p];for(let I=0;I<v.length;I+=2)if(v[I]===o){c.push(p,v[I+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function lm(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null]}function vh(i,o){const a=ir(o,i);if(ls(a)){const c=a[Xe];48&a[kt]?Fr(c,a,c.template,a[kn]):a[ln]>0&&dm(a)}}function dm(i){for(let c=Dl(i);null!==c;c=Ao(c))for(let d=fr;d<c.length;d++){const p=c[d];if(ls(p))if(512&p[kt]){const v=p[Xe];Fr(v,p,v.template,p[kn])}else p[ln]>0&&dm(p)}const a=i[Xe].components;if(null!==a)for(let c=0;c<a.length;c++){const d=ir(a[c],i);ls(d)&&d[ln]>0&&dm(d)}}function Lv(i,o){const a=ir(o,i),c=a[Xe];(function yw(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Rv(c,a,a[kn])}function hm(i,o){return i[Xs]?i[ss][pi]=o:i[Xs]=o,i[ss]=o,o}function pp(i){for(;i;){i[kt]|=32;const o=Il(i);if(Du(i)&&!o)return i;i=o}return null}function _h(i,o,a,c=!0){const d=o[Rs];d.begin&&d.begin();try{Fr(i,o,i.template,a)}catch(v){throw c&&wh(o,v),v}finally{d.end&&d.end()}}function gp(i,o,a){Nu(0),o(i,a)}function fm(i){return i[Ea]||(i[Ea]=[])}function Fv(i){return i.cleanup||(i.cleanup=[])}function wh(i,o){const a=i[Ia],c=a?a.get(sp,null):null;c&&c.handleError(o)}function Uv(i,o,a,c,d){for(let p=0;p<a.length;){const v=a[p++],I=a[p++],b=o[v],x=i.data[v];null!==x.setInput?x.setInput(b,d,c,I):b[I]=d}}function ws(i,o,a){const c=function cs(i,o){return pr(o[i])}(o,i);!function Bf(i,o,a){i.setValue(o,a)}(i[jt],c,a)}function pm(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const I=o[v];"number"==typeof I?p=I:1==p?d=fe(d,I):2==p&&(c=fe(c,I+": "+o[++v]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function gm(i,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(pr(p)),oi(p))for(let I=fr;I<p.length;I++){const b=p[I],x=b[Xe].firstChild;null!==x&&gm(b[Xe],b,x,c)}const v=a.type;if(8&v)gm(i,o,a.child,c);else if(32&v){const I=Bs(a,o);let b;for(;b=I();)c.push(b)}else if(16&v){const I=th(o,a);if(Array.isArray(I))c.push(...I);else{const b=Il(o[jn]);gm(b[Xe],b,I,c,!0)}}a=d?a.projectionNext:a.next}return c}class _c{get rootNodes(){const o=this._lView,a=o[Xe];return gm(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(o){this._lView[kn]=o}get destroyed(){return 128==(128&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[In];if(oi(o)){const a=o[Ps],c=a?a.indexOf(this):-1;c>-1&&(bl(o,c),vo(a,c))}this._attachedToViewContainer=!1}Yd(this._lView[Xe],this._lView)}onDestroy(o){fp(this._lView[Xe],this._lView,null,o)}markForCheck(){pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-65}reattach(){this._lView[kt]|=64}detectChanges(){_h(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zd(i,o){xl(i,o,o[jt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=o}}class Vv extends _c{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;_h(o[Xe],o,o[kn],!1)}checkNoChanges(){}get context(){return null}}class Ew extends dh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=nn(o);return new wc(a,this.ngModule)}}function Bv(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Dw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=pe(c);const d=this.injector.get(o,Xg,c);return d!==Xg||a===Xg?d:this.parentInjector.get(o,a,c)}}class wc extends $0{get inputs(){return Bv(this.componentDef.inputs)}get outputs(){return Bv(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function kD(i){return i.map(OD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Fl?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Dw(o,p):o,I=v.get(mv,null);if(null===I)throw new ye(407,!1);const b=v.get(TD,null),x=I.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=c?function im(i,o,a){return i.selectRootElement(o,a===Ee.ShadowDom)}(x,c,this.componentDef.encapsulation):jf(x,M,function Iw(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),W=this.componentDef.onPush?288:272,J=Nv(0,null,null,1,0,null,null,null,null,null),we=nm(null,J,null,W,null,null,I,x,b,v,null);let je,tt;ku(we);try{const gt=this.componentDef;let At,ke=null;gt.findHostDirectiveDefs?(At=[],ke=new Map,gt.findHostDirectiveDefs(gt,At,ke),At.push(gt)):At=[gt];const Vt=function $v(i,o){const a=i[Xe],c=gn;return i[c]=o,dp(a,c,2,"#host",null)}(we,L),Un=function Hv(i,o,a,c,d,p,v,I){const b=d[Xe];!function Cw(i,o,a,c){for(const d of i)o.mergedAttrs=uo(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(pm(o,o.mergedAttrs,!0),null!==a&&Ml(c,a,o))}(c,i,o,v);const x=p.createRenderer(o,a),M=nm(d,JD(a),null,a.onPush?32:16,d[i.index],i,p,x,I||null,null,null);return b.firstCreatePass&&oa(b,i,c.length-1),hm(d,M),d[i.index]=M}(Vt,L,gt,At,we,I,x);tt=Td(J,gn),L&&function ob(i,o,a,c){if(c)Zo(i,a,["ng-version",W0.full]);else{const{attrs:d,classes:p}=function LD(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&o.push(p,i[++c]):8===d&&a.push(p);else{if(!Mo(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Zo(i,a,d),p&&p.length>0&&Ji(i,a,p.join(" "))}}(x,gt,L,c),void 0!==a&&function Sw(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(tt,this.ngContentSelectors,a),je=function Tw(i,o,a,c,d,p){const v=sr(),I=d[Xe],b=gr(v,d);am(I,d,v,a,null,c);for(let M=0;M<a.length;M++)se($n(d,I,v.directiveStart+M,v),d);ai(I,d,v),b&&se(b,d);const x=$n(d,I,v.directiveStart+v.componentOffset,v);if(i[kn]=d[kn]=x,null!==p)for(const M of p)M(x,o);return Mv(I,v,i),x}(Un,gt,At,ke,we,[Aw]),Rv(J,we,null)}finally{Lu()}return new jv(this.componentType,je,ou(tt,we),we,tt)}}class jv extends ID{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Vv(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;Uv(p[Xe],p,d,o,a),pp(ir(this._tNode.index,p))}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Aw(){const i=sr();Vu(me()[Xe],i)}function Ec(i){return!!vm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function vm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Xr(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function wm(i,o,a,c){const d=me();return Xr(d,ro(),o)&&(Lt(),aa(Dn(),d,i,o,a,c)),wm}function au(i,o,a,c,d,p){const I=function Ic(i,o,a,c){const d=Xr(i,o,a);return Xr(i,o+1,c)||d}(i,function yi(){return Mt.lFrame.bindingIndex}(),a,d);return function vi(i){const o=Mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2),I?o+Me(a)+c+Me(d)+p:Ft}function e_(i,o,a,c,d,p,v,I){const b=me(),x=Lt(),M=i+gn,L=x.firstCreatePass?function Jv(i,o,a,c,d,p,v,I,b){const x=o.consts,M=dp(o,i,4,v||null,ks(x,I));Ov(o,a,M,ks(x,b)),Vu(o,M);const L=M.tView=Nv(2,M,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,M),L.queries=o.queries.embeddedTView(M)),M}(M,x,b,o,a,c,d,p,v):x.data[M];qr(L,!1);const W=b[jt].createComment("");tu(x,b,W,L),se(W,b),hm(b,b[M]=lm(W,b,W,L)),Kc(L)&&Pv(x,b,L),null!=v&&_s(b,L,I)}function Ep(i,o,a){const c=me();return Xr(c,ro(),o)&&function Hi(i,o,a,c,d,p,v,I){const b=gr(o,a);let M,x=o.inputs;!I&&null!=x&&(M=x[c])?(Uv(i,a,M,c,d),$o(o)&&function $t(i,o){const a=ir(o,i);16&a[kt]||(a[kt]|=32)}(a,o.index)):3&o.type&&(c=function rt(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=v?v(d,o.value||"",c):d,p.setProperty(b,c,d))}(Lt(),Dn(),c,i,o,c[jt],a,!1),Ep}function Ip(i,o,a,c,d){const v=d?"class":"style";Uv(i,a,o.inputs[v],v,c)}function Hl(i,o,a,c){const d=me(),p=Lt(),v=gn+i,I=d[jt],b=p.firstCreatePass?function t_(i,o,a,c,d,p){const v=o.consts,b=dp(o,i,2,c,ks(v,d));return Ov(o,a,b,ks(v,p)),null!==b.attrs&&pm(b,b.attrs,!1),null!==b.mergedAttrs&&pm(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(v,p,d,o,a,c):p.data[v],x=d[v]=jf(I,o,function kd(){return Mt.lFrame.currentNamespace}()),M=Kc(b);return qr(b,!0),Ml(I,x,b),32!=(32&b.flags)&&tu(p,d,x,b),0===function Ad(){return Mt.lFrame.elementDepthCount}()&&se(x,d),function Au(){Mt.lFrame.elementDepthCount++}(),M&&(Pv(p,d,b),Mv(p,b,d)),null!==c&&_s(d,b),Hl}function Dc(){let i=sr();Md()?function Mu(){Mt.lFrame.isParent=!1}():(i=i.parent,qr(i,!1));const o=i;!function xd(){Mt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(Vu(a,i),Ca(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Fa(i){return 0!=(8&i.flags)}(o)&&Ip(a,o,me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function so(i){return 0!=(16&i.flags)}(o)&&Ip(a,o,me(),o.stylesWithoutHost,!1),Dc}function Em(i,o,a,c){return Hl(i,o,a,c),Dc(),Em}function n_(){return me()}function Dm(i){return!!i&&"function"==typeof i.then}function r_(i){return!!i&&"function"==typeof i.subscribe}const kw=r_;function zl(i,o,a,c){const d=me(),p=Lt(),v=sr();return function Ah(i,o,a,c,d,p,v){const I=Kc(c),x=i.firstCreatePass&&Fv(i),M=o[kn],L=fm(o);let W=!0;if(3&c.type||v){const je=gr(c,o),tt=v?v(je):je,gt=L.length,At=v?Vt=>v(pr(Vt[c.index])):c.index;let ke=null;if(!v&&I&&(ke=function bm(i,o,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const v=d[p];if(v===a&&d[p+1]===c){const I=o[Ea],b=d[p+2];return I.length>b?I[b]:null}"string"==typeof v&&(p+=2)}return null}(i,o,d,c.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=p,ke.__ngLastListenerFn__=p,W=!1;else{p=Cm(c,o,M,p,!1);const Vt=a.listen(tt,d,p);L.push(p,Vt),x&&x.push(d,At,gt,gt+1)}}else p=Cm(c,o,M,p,!1);const J=c.outputs;let we;if(W&&null!==J&&(we=J[d])){const je=we.length;if(je)for(let tt=0;tt<je;tt+=2){const Un=o[we[tt]][we[tt+1]].subscribe(p),Xn=L.length;L.push(p,Un),x&&x.push(d,c.index,Xn,-(Xn+1))}}}(p,d,d[jt],v,i,o,c),zl}function bc(i,o,a,c){try{return Wr(6,o,a),!1!==a(c)}catch(d){return wh(i,d),!1}finally{Wr(7,o,a)}}function Cm(i,o,a,c,d){return function p(v){if(v===Function)return c;pp(i.componentOffset>-1?ir(i.index,o):o);let b=bc(o,a,c,v),x=p.__ngNextListenerFn__;for(;x;)b=bc(o,a,x,v)&&b,x=x.__ngNextListenerFn__;return d&&!1===b&&(v.preventDefault(),v.returnValue=!1),b}}function Lw(i=1){return function Df(i){return(Mt.lFrame.contextLView=function Fu(i,o){for(;i>0;)o=o[Js],i--;return o}(i,Mt.lFrame.contextLView))[kn]}(i)}function Qw(i,o=""){const a=me(),c=Lt(),d=i+gn,p=c.firstCreatePass?dp(c,d,1,o,null):c.data[d],v=a[d]=function cc(i,o){return i.createText(o)}(a[jt],o);tu(c,a,v,p),qr(p,!1)}function Mm(i){return Tc("",i,""),Mm}function Tc(i,o,a){const c=me(),d=function $l(i,o,a,c){return Xr(i,ro(),a)?o+Me(a)+c:Ft}(c,i,o,a);return d!==Ft&&ws(c,Ir(),d),Tc}function Pm(i,o,a,c,d){const p=me(),v=au(p,i,o,a,c,d);return v!==Ft&&ws(p,Ir(),v),Pm}const Sc=void 0;var Db=["en",[["a","p"],["AM","PM"],Sc],[["AM","PM"],Sc,Sc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sc,"{1} 'at' {0}",Sc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fh(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Uh={};function I_(i){const o=function bb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=oE(o);if(a)return a;const c=o.split("-")[0];if(a=oE(c),a)return a;if("en"===c)return Db;throw new ye(701,!1)}function D_(i){return I_(i)[St.PluralCase]}function oE(i){return i in Uh||(Uh[i]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[i]),Uh[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Yn="en-US";let lr=Yn;class Ql{}class Cn{}function $m(i,o){return new Mn(i,o??null)}class Mn extends Ql{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ew(this);const c=xr(o);this._bootstrapComponents=sa(c.bootstrap),this._r3Injector=bv(o,a,[{provide:Ql,useValue:this},{provide:dh,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Hm extends Cn{constructor(o){super(),this.moduleType=o}create(o){return new Mn(this.moduleType,o)}}class Kh extends Ql{constructor(o,a,c){super(),this.componentFactoryResolver=new Ew(this),this.instance=null;const d=new B0([...o,{provide:Ql,useValue:this},{provide:dh,useValue:this.componentFactoryResolver}],a||Yg(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ri(i,o,a=null){return new Kh(i,o,a).injector}let SE=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=uh(0,a.type),d=c.length>0?Ri([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=ct({token:i,providedIn:"environment",factory:()=>new i(Qt(Fl))}),i})();function AE(i){i.getStandaloneInjector=o=>o.get(SE).getOrCreateStandaloneInjector(i)}function qm(i,o,a,c){return function NE(i,o,a,c,d,p){const v=o+a;return Xr(i,v,d)?function Es(i,o,a){return i[o]=a}(i,v+1,p?c.call(p,d):c(d)):function Yh(i,o){const a=i[o];return a===Ft?void 0:a}(i,v+1)}(me(),function qn(){const i=Mt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),i,o,a,c)}function Nc(i){return o=>{setTimeout(i,void 0,o)}}const Ks=class _n extends y.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),p=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(p=Nc(p),d&&(d=Nc(d)),v&&(v=Nc(v)));const I=super.subscribe({next:d,error:p,complete:v});return o instanceof X.w0&&o.add(I),I}};function V_(){return this._results[Symbol.iterator]()}class Ym{get changes(){return this._changes||(this._changes=new Ks)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ym.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=V_)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Li(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function dl(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let td=(()=>{class i{}return i.__NG_ELEMENT_ID__=jE,i})();const VE=td,BE=class extends VE{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tView,d=nm(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[Bo]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Ni];return null!==v&&(d[Ni]=v.createEmbeddedView(c)),Rv(c,d,o),new _c(d)}};function jE(){return Qm(sr(),me())}function Qm(i,o){return 4&i.type?new BE(o,i,ou(i,o)):null}let Xm=(()=>{class i{}return i.__NG_ELEMENT_ID__=Wb,i})();function Wb(){return zE(sr(),me())}const $E=Xm,HE=class extends $E{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Vd(this._hostTNode,this._hostLView);if(co(o)){const a=lo(o,this._hostLView),c=Ls(o);return new gs(a[Xe].data[c+8],a)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=B_(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,d),v}createComponent(o,a,c,d,p){const v=o&&!function Zu(i){return"function"==typeof i}(o);let I;if(v)I=a;else{const L=a||{};I=L.index,c=L.injector,d=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const b=v?o:new wc(nn(o)),x=c||this.parentInjector;if(!p&&null==b.ngModule){const W=(v?x:this.parentInjector).get(Fl,null);W&&(p=W)}const M=b.create(x,d,void 0,p);return this.insert(M.hostView,I),M}insert(o,a){const c=o._lView,d=c[Xe];if(function Xc(i){return oi(i[In])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const L=c[In],W=new HE(L,L[Wn],L[In]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function Xa(i,o,a,c){const d=fr+c,p=a.length;c>0&&(a[d-1][pi]=o),c<p-fr?(o[pi]=a[d],Nf(a,fr+c,o)):(a.push(o),o[pi]=null),o[In]=a;const v=o[Bo];null!==v&&a!==v&&function Wy(i,o){const a=i[eo];o[jn]!==o[In][In][jn]&&(i[qc]=!0),null===a?i[eo]=[o]:a.push(o)}(v,o);const I=o[Ni];null!==I&&I.insertView(i),o[kt]|=64}(d,c,v,p);const I=ys(p,v),b=c[jt],x=Ro(b,v[jo]);return null!==x&&function Lg(i,o,a,c,d,p){c[fi]=d,c[Wn]=o,xl(i,c,a,1,d,p)}(d,v[Wn],b,c,x,I),o.attachToViewContainerRef(),Nf(j_(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=B_(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=bl(this._lContainer,a);c&&(vo(j_(this._lContainer),a),Yd(c[Xe],c))}detach(o){const a=this._adjustIndex(o,-1),c=bl(this._lContainer,a);return c&&null!=vo(j_(this._lContainer),a)?new _c(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function B_(i){return i[Ps]}function j_(i){return i[Ps]||(i[Ps]=[])}function zE(i,o){let a;const c=o[i.index];if(oi(c))a=c;else{let d;if(8&i.type)d=pr(c);else{const p=o[jt];d=p.createComment("");const v=gr(i,o);ra(p,Ro(p,v),d,function Vg(i,o){return i.nextSibling(o)}(p,v),!1)}o[i.index]=a=lm(c,o,d,i),hm(o,a)}return new HE(a,i,o)}class $_{constructor(o){this.queryList=o,this.matches=null}clone(){return new $_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);d.push(this.queries[v.indexInDeclarationView].clone())}return new Wp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Jh(o,a).matches&&this.queries[a].setDirty()}}class Oc{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class nd{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new nd(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Xh{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Xh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,Jm(a,p)),this.matchTNodeWithReadOption(o,a,fo(a,o,p,!1,!1))}else c===td?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,fo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===hh||d===Xm||d===td&&4&a.type)this.addMatch(a.index,-2);else{const p=fo(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Jm(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function WE(i,o,a,c){return-1===a?function GE(i,o){return 11&i.type?ou(i,o):4&i.type?Qm(i,o):null}(o,i):-2===a?function fu(i,o,a){return a===hh?ou(o,i):a===td?Qm(o,i):a===Xm?zE(o,i):void 0}(i,o,c):$n(i,i[Xe],a,o)}function H_(i,o,a,c){const d=o[Ni].queries[c];if(null===d.matches){const p=i.data,v=a.matches,I=[];for(let b=0;b<v.length;b+=2){const x=v[b];I.push(x<0?null:WE(o,p[x],v[b+1],a.metadata.read))}d.matches=I}return d.matches}function kc(i,o,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const v=H_(i,o,d,a);for(let I=0;I<p.length;I+=2){const b=p[I];if(b>0)c.push(v[I/2]);else{const x=p[I+1],M=o[-b];for(let L=fr;L<M.length;L++){const W=M[L];W[Bo]===W[In]&&kc(W[Xe],W,x,c)}if(null!==M[eo]){const L=M[eo];for(let W=0;W<L.length;W++){const J=L[W];kc(J[Xe],J,x,c)}}}}}return c}function z_(i){const o=me(),a=Lt(),c=Jc();Nu(c+1);const d=Jh(a,c);if(i.dirty&&function Su(i){return 4==(4&i[kt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?kc(a,o,c,[]):H_(a,o,d,c);i.reset(p,ip),i.notifyOnChanges()}return!0}return!1}function qp(i,o,a,c){const d=Lt();if(d.firstCreatePass){const p=sr();(function ty(i,o,a){null===i.queries&&(i.queries=new nd),i.queries.track(new Xh(o,a))})(d,new Oc(o,a,c),p.index),function ny(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Mi(i,o,a){const c=new Ym(4==(4&a));fp(i,o,c,c.destroy),null===o[Ni]&&(o[Ni]=new Wp),o[Ni].queries.push(new $_(c))}(d,me(),a)}function ey(){return function rd(i,o){return i[Ni].queries[o].queryList}(me(),Jc())}function Jh(i,o){return i.queries.getByIndex(o)}function Pi(i){return!!xr(i)}function rg(...i){}const ig=new Kt("Application Initializer");let sg=(()=>{class i{constructor(a){this.appInits=a,this.resolve=rg,this.reject=rg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Dm(p))a.push(p);else if(kw(p)){const v=new Promise((I,b)=>{p.subscribe({complete:I,error:b})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Qt(ig,8))},i.\u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const dI=new Kt("AppId",{providedIn:"root",factory:function Z_(){return`${og()}${og()}${og()}`}});function og(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sf=new Kt("Platform Initializer"),ag=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let hI=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ug=new Kt("LocaleId",{providedIn:"root",factory:()=>j(ug,lt.Optional|lt.SkipSelf)||function fI(){return typeof $localize<"u"&&$localize.locale||Yn}()}),tC=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class iC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let sC=(()=>{class i{compileModuleSync(a){return new Hm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=sa(xr(a).declarations).reduce((v,I)=>{const b=nn(I);return b&&v.push(new wc(b)),v},[]);return new iC(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mI=(()=>Promise.resolve(0))();function od(i){typeof Zone>"u"?mI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ts{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ks(!1),this.onMicrotaskEmpty=new Ks(!1),this.onStable=new Ks(!1),this.onError=new Ks(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ya(){let i=Xt.requestAnimationFrame,o=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _I(i){const o=()=>{!function vI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,X_(i),i.isCheckStableRunning=!0,cy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),X_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,v,I)=>{try{return wI(i),a.invokeTask(d,p,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),uf(i)}},onInvoke:(a,c,d,p,v,I,b)=>{try{return wI(i),a.invoke(d,p,v,I,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),uf(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,X_(i),cy(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ts.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Ts.isInAngularZone())throw new ye(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+d,o,cg,rg,rg);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const cg={};function cy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function X_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function wI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uf(i){i._nesting--,cy(i)}class J_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ks,this.onMicrotaskEmpty=new Ks,this.onStable=new Ks,this.onError=new Ks}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const EI=new Kt(""),e0=new Kt("");let ly,t0=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ly||(function aC(i){ly=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ts.assertNotInAngularZone(),od(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())od(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Qt(Ts),Qt(n0),Qt(e0))},i.\u0275prov=ct({token:i,factory:i.\u0275fac}),i})(),n0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return ly?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const pu=!1;let Uc=null;const II=new Kt("AllowMultipleToken"),va=new Kt("PlatformDestroyListeners"),ad=new Kt("appBootstrapListener");class gu{constructor(o,a){this.name=o,this.token=a}}function Vc(i,o,a=[]){const c=`Platform: ${o}`,d=new Kt(c);return(p=[])=>{let v=hy();if(!v||v.injector.get(II,!1)){const I=[...a,...p,{provide:d,useValue:!0}];i?i(I):function CI(i){if(Uc&&!Uc.get(II,!1))throw new ye(400,!1);Uc=i;const o=i.get(fy);(function r0(i){const o=i.get(sf,null);o&&o.forEach(a=>a())})(i)}(function Bc(i=[],o){return ph.create({name:o,providers:[{provide:yc,useValue:"platform"},{provide:va,useValue:new Set([()=>Uc=null])},...i]})}(I,c))}return function ud(i){const o=hy();if(!o)throw new ye(401,!1);return o}()}}function hy(){return Uc?.get(fy)??null}let fy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function o0(i,o){let a;return a="noop"===i?new J_:("zone.js"===i?void 0:i)||new Ts(o),a}(c?.ngZone,function py(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Ts,useValue:d}];return d.run(()=>{const v=ph.create({providers:p,parent:this.injector,name:a.moduleType.name}),I=a.create(v),b=I.injector.get(sp,null);if(!b)throw new ye(402,!1);return d.runOutsideAngular(()=>{const x=d.onError.subscribe({next:M=>{b.handleError(M)}});I.onDestroy(()=>{dg(this._modules,I),x.unsubscribe()})}),function a0(i,o,a){try{const c=a();return Dm(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(b,d,()=>{const x=I.injector.get(sg);return x.runInitializers(),x.donePromise.then(()=>(function bs(i){ue(i,"Expected localeId to be defined"),"string"==typeof i&&(lr=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(ug,Yn)||Yn),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const d=TI({},c);return function DI(i,o,a){const c=new Hm(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(lg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ye(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(va,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Qt(ph))},i.\u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function TI(i,o){return Array.isArray(o)?o.reduce(TI,i):{...i,...o}}let lg=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new O.y(I=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ts.assertNotInAngularZone(),od(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{b.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ee.T)(p,v.pipe((0,oe.B)()))}bootstrap(a,c){const d=a instanceof $0;if(!this._injector.get(sg).done){!d&&Ki(a);throw new ye(405,pu)}let v;v=d?a:this._injector.get(dh).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function bI(i){return i.isBoundToModule}(v)?void 0:this._injector.get(Ql),x=v.create(ph.NULL,[],c||v.selector,I),M=x.location.nativeElement,L=x.injector.get(EI,null);return L?.registerApplication(M),x.onDestroy(()=>{this.detachView(x.hostView),dg(this.components,x),L?.unregisterApplication(M)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;dg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(ad,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>dg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ye(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Qt(Ts),Qt(Fl),Qt(sp))},i.\u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function dg(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function cd(){return!1}let lC=(()=>{class i{}return i.__NG_ELEMENT_ID__=pg,i})();function pg(i){return function ld(i,o,a){if($o(i)&&!a){const c=ir(i.index,o);return new _c(c,c)}return 47&i.type?new _c(o[jn],o):null}(sr(),me(),16==(16&i))}class di{constructor(){}supports(o){return Ec(o)}create(o){return new _y(o)}}const xI=(i,o)=>o;class _y{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||xI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<hd(c,d,p)?a:c,I=hd(v,d,p),b=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{p||(p=[]);const x=I-d,M=b-d;if(x!=M){for(let W=0;W<x;W++){const J=W<p.length?p[W]:p[W]=0,we=J+W;M<=we&&we<x&&(p[W]=J+1)}p[v.previousIndex]=M-x}}I!==b&&o(v,I,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ec(o))throw new ye(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)p=o[I],v=this._trackByFn(I,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,I)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,I),c=!0),a=a._next}else d=0,function Kv(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,I=>{v=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,I,v,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new wy(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new mu),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mu),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class wy{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class mu{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new RI,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hd(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class f0{constructor(){}supports(o){return o instanceof Map||vm(o)}create(){return new fd}}class fd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||vm(o)))throw new ye(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,v=d._next;return p&&(p._next=v),v&&(v._prev=p),d._next=null,d._prev=null,d}const c=new gC(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class gC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pd(){return new Ey([new di])}let Ey=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||pd()),deps:[[i,new Et,new Wa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new ye(901,!1)}}return i.\u0275prov=ct({token:i,providedIn:"root",factory:pd}),i})();function p0(){return new g0([new f0])}let g0=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||p0()),deps:[[i,new Et,new Wa]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new ye(901,!1)}}return i.\u0275prov=ct({token:i,providedIn:"root",factory:p0}),i})();const Iy=Vc(null,"core",[]);let PI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Qt(lg))},i.\u0275mod=wa({type:i}),i.\u0275inj=mt({}),i})();function vC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},6101:(yt,xe,k)=>{k.d(xe,{Z:()=>Ye});var y=k(2090),X=k(4859),O=k(9752);k(1877);class oe{constructor(ye,Ae){this._delegate=ye,this.firebase=Ae,(0,O._addComponent)(ye,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ye,Ae=O._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ye);return!$e.isInitialized()&&"EXPLICIT"===(null===(Me=$e.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Ae})}_removeServiceInstance(ye,Ae=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ae)}_addComponent(ye){(0,O._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,O._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function fe(){const ut=function _e(ut){const ye={},Ae={__esModule:!0,initializeApp:function Fe(Ne,de={}){const G=O.initializeApp(Ne,de);if((0,y.r3)(ye,G.name))return ye[G.name];const Ge=new ut(G,Ae);return ye[G.name]=Ge,Ge},app:$e,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(Ne){const de=Ne.name,G=de.replace("-compat","");if(O._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Ge=(He=$e())=>{if("function"!=typeof He[G])throw ve.create("invalid-app-argument",{appName:de});return He[G]()};void 0!==Ne.serviceProps&&(0,y.ZB)(Ge,Ne.serviceProps),Ae[G]=Ge,ut.prototype[G]=function(...He){return this._getService.bind(this,de).apply(this,Ne.multipleInstances?He:[])}}return"PUBLIC"===Ne.type?Ae[G]:null},removeApp:function Me(Ne){delete ye[Ne]},useAsService:function Be(Ne,de){return"serverAuth"===de?null:de},modularAPIs:O}};function $e(Ne){if(!(0,y.r3)(ye,Ne=Ne||O._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Ne});return ye[Ne]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function be(){return Object.keys(ye).map(Ne=>ye[Ne])}}),$e.App=ut,Ae}(oe);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function ye(Ae){(0,y.ZB)(ut,Ae)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),ut}const V=fe();(0,y.jU)()&&void 0!==self.firebase&&self;const Ye=V},9752:(yt,xe,k)=>{k.r(xe),k.d(xe,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Tn,_DEFAULT_ENTRY_NAME:()=>te,_addComponent:()=>Se,_addOrOverwriteComponent:()=>Ce,_apps:()=>ue,_clearComponents:()=>mt,_components:()=>re,_getProvider:()=>ct,_registerComponent:()=>it,_removeServiceInstance:()=>yn,deleteApp:()=>Hr,getApp:()=>Sn,getApps:()=>Ar,initializeApp:()=>Vn,onLog:()=>zr,registerVersion:()=>lt,setLogLevel:()=>yu});var y=k(5861),X=k(4859),O=k(1877),ee=k(2090);k(8766);const V=new O.Yd("@firebase/app"),te="[DEFAULT]",he={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ue=new Map,re=new Map;function Se(ge,j){try{ge.container.addComponent(j)}catch(pe){V.debug(`Component ${j.name} failed to register with FirebaseApp ${ge.name}`,pe)}}function Ce(ge,j){ge.container.addOrOverwriteComponent(j)}function it(ge){const j=ge.name;if(re.has(j))return V.debug(`There were multiple attempts to register component ${j}.`),!1;re.set(j,ge);for(const pe of ue.values())Se(pe,ge);return!0}function ct(ge,j){const pe=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return pe&&pe.triggerHeartbeat(),ge.container.getProvider(j)}function yn(ge,j,pe=te){ct(ge,j).clearInstance(pe)}function mt(){re.clear()}const Bt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(j,pe,We){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},pe),this._name=pe.name,this._automaticDataCollectionEnabled=pe.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const Tn="9.23.0";function Vn(ge,j={}){let pe=ge;"object"!=typeof j&&(j={name:j});const We=Object.assign({name:te,automaticDataCollectionEnabled:!1},j),Qe=We.name;if("string"!=typeof Qe||!Qe)throw Bt.create("bad-app-name",{appName:String(Qe)});if(pe||(pe=(0,ee.aH)()),!pe)throw Bt.create("no-options");const vt=ue.get(Qe);if(vt){if((0,ee.vZ)(pe,vt.options)&&(0,ee.vZ)(We,vt.config))return vt;throw Bt.create("duplicate-app",{appName:Qe})}const Zt=new X.H0(Qe);for(const F of re.values())Zt.addComponent(F);const U=new cn(pe,We,Zt);return ue.set(Qe,U),U}function Sn(ge=te){const j=ue.get(ge);if(!j&&ge===te&&(0,ee.aH)())return Vn();if(!j)throw Bt.create("no-app",{appName:ge});return j}function Ar(){return Array.from(ue.values())}function Hr(ge){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(ge){const j=ge.name;ue.has(j)&&(ue.delete(j),yield Promise.all(ge.container.getProviders().map(pe=>pe.delete())),ge.isDeleted=!0)})).apply(this,arguments)}function lt(ge,j,pe){var We;let Qe=null!==(We=he[ge])&&void 0!==We?We:ge;pe&&(Qe+=`-${pe}`);const vt=Qe.match(/\s|\//),Zt=j.match(/\s|\//);if(vt||Zt){const U=[`Unable to register library "${Qe}" with version "${j}":`];return vt&&U.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),vt&&Zt&&U.push("and"),Zt&&U.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void V.warn(U.join(" "))}it(new X.wA(`${Qe}-version`,()=>({library:Qe,version:j}),"VERSION"))}function zr(ge,j){if(null!==ge&&"function"!=typeof ge)throw Bt.create("invalid-log-argument");(0,O.Am)(ge,j)}function yu(ge){(0,O.Ub)(ge)}},8140:(yt,xe,k)=>{k.d(xe,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=k(9752)},1274:(yt,xe,k)=>{k.d(xe,{Z:()=>y.Z});var y=k(6101)},8463:(yt,xe,k)=>{k.r(xe);var y=k(5861),X=k(6101),O=k(2090),ee=k(9752),oe=k(7582),ae=k(1877);k(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ut=Te,ye=new O.LL("auth","Firebase",Te()),Me=new ae.Yd("@firebase/auth");function Fe(m,...h){Me.logLevel<=ae.in.ERROR&&Me.error(`Auth (${ee.SDK_VERSION}): ${m}`,...h)}function be(m,...h){throw de(m,...h)}function De(m,...h){return de(m,...h)}function Be(m,h,f){const _=Object.assign(Object.assign({},ut()),{[h]:f});return new O.LL("auth","Firebase",_).create(h,{appName:m.name})}function Ne(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&be(m,"argument-error"),Be(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function de(m,...h){if("string"!=typeof m){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return ye.create(m,...h)}function G(m,h,...f){if(!m)throw de(h,...f)}function Ge(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Fe(h),new Error(h)}function He(m,h){m||Ge(h)}function It(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function mn(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Gn{constructor(h,f){this.shortDelay=h,this.longDelay=f,He(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Sr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Je(){return"http:"===mn()||"https:"===mn()}()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(m,h){He(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class he{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},re=new Gn(3e4,6e4);function Se(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function Ce(m,h,f,_){return it.apply(this,arguments)}function it(){return(it=(0,y.Z)(function*(m,h,f,_,T={}){return ct(m,T,(0,y.Z)(function*(){let R={},B={};_&&("GET"===h?B=_:R={body:JSON.stringify(_)});const Q=(0,O.xO)(Object.assign({key:m.config.apiKey},B)).slice(1),Pe=yield m._getAdditionalHeaders();return Pe["Content-Type"]="application/json",m.languageCode&&(Pe["X-Firebase-Locale"]=m.languageCode),he.fetch()(Bt(m,m.config.apiHost,f,Q),Object.assign({method:h,headers:Pe,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ct(m,h,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,y.Z)(function*(m,h,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},ue),h);try{const T=new cn(m),R=yield Promise.race([f(),T.promise]);T.clearNetworkTimeout();const B=yield R.json();if("needConfirmation"in B)throw Tn(m,"account-exists-with-different-credential",B);if(R.ok&&!("errorMessage"in B))return B;{const Q=R.ok?B.errorMessage:B.error.message,[Pe,Ke]=Q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Tn(m,"credential-already-in-use",B);if("EMAIL_EXISTS"===Pe)throw Tn(m,"email-already-in-use",B);if("USER_DISABLED"===Pe)throw Tn(m,"user-disabled",B);const st=_[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Be(m,st,Ke);be(m,st)}}catch(T){if(T instanceof O.ZR)throw T;be(m,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function mt(m,h,f,_){return zt.apply(this,arguments)}function zt(){return(zt=(0,y.Z)(function*(m,h,f,_,T={}){const R=yield Ce(m,h,f,_,T);return"mfaPendingCredential"in R&&be(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Bt(m,h,f,_){const T=`${h}${f}?${_}`;return m.config.emulator?te(m.config,T):`${m.config.apiScheme}://${T}`}class cn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(De(this.auth,"network-request-failed")),re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(m,h,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const T=De(m,h,_);return T.customData._tokenResponse=f,T}function Sn(){return(Sn=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Hr(){return(Hr=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function lt(){return(lt=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function zr(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function hi(){return(hi=(0,y.Z)(function*(m,h=!1){const f=(0,O.m9)(m),_=yield f.getIdToken(h),T=Xt(_);G(T&&T.exp&&T.auth_time&&T.iat,f.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,B=R?.sign_in_provider;return{claims:T,token:_,authTime:zr(Bn(T.auth_time)),issuedAtTime:zr(Bn(T.iat)),expirationTime:zr(Bn(T.exp)),signInProvider:B||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Bn(m){return 1e3*Number(m)}function Xt(m){const[h,f,_]=m.split(".");if(void 0===h||void 0===f||void 0===_)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(f);return T?JSON.parse(T):(Fe("Failed to decode base64 JWT payload"),null)}catch(T){return Fe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function at(m,h){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,y.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof O.ZR&&function ni({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class nr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,y.Z)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,y.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class Nn{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(m){return En.apply(this,arguments)}function En(){return En=(0,y.Z)(function*(m){var h;const f=m.auth,_=yield m.getIdToken(),T=yield at(m,function Pn(m,h){return lt.apply(this,arguments)}(f,{idToken:_}));G(T?.users.length,f,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const B=null!==(h=R.providerUserInfo)&&void 0!==h&&h.length?function Wt(m){return m.map(h=>{var{providerId:f}=h,_=(0,oe._T)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(R.providerUserInfo):[],Q=function qi(m,h){return[...m.filter(_=>!h.some(T=>T.providerId===_.providerId)),...h]}(m.providerData,B),st=!!m.isAnonymous&&!(m.email&&R.passwordHash||Q?.length),ot={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Q,metadata:new Nn(R.createdAt,R.lastLoginAt),isAnonymous:st};Object.assign(m,ot)}),En.apply(this,arguments)}function en(){return(en=(0,y.Z)(function*(m){const h=(0,O.m9)(m);yield _r(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Qt(){return(Qt=(0,y.Z)(function*(m,h){const f=yield ct(m,{},(0,y.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,B=Bt(m,T,"/v1/token",`key=${R}`),Q=yield m._getAdditionalHeaders();return Q["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(B,{method:"POST",headers:Q,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){G(h.idToken,"internal-error"),G(typeof h.idToken<"u","internal-error"),G(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Jt(m){const h=Xt(m);return G(h,"internal-error"),G(typeof h.exp<"u","internal-error"),G(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var _=this;return(0,y.Z)(function*(){return G(!_.accessToken||_.refreshToken,h,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,y.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:B}=yield function Gr(m,h){return Qt.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(T,R,Number(B))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:T,expirationTime:R}=f,B=new ge;return _&&(G("string"==typeof _,"internal-error",{appName:h}),B.refreshToken=_),T&&(G("string"==typeof T,"internal-error",{appName:h}),B.accessToken=T),R&&(G("number"==typeof R,"internal-error",{appName:h}),B.expirationTime=R),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function j(m,h){G("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class pe{constructor(h){var{uid:f,auth:_,stsTokenManager:T}=h,R=(0,oe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Nn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,y.Z)(function*(){const _=yield at(f,f.stsTokenManager.getToken(f.auth,h));return G(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function tr(m){return hi.apply(this,arguments)}(this,h)}reload(){return function Zs(m){return en.apply(this,arguments)}(this)}_assign(h){this!==h&&(G(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new pe(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,y.Z)(function*(){let T=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),T=!0),f&&(yield _r(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,y.Z)(function*(){const f=yield h.getIdToken();return yield at(h,function Vn(m,h){return Sn.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,T,R,B,Q,Pe,Ke,st;const ot=null!==(_=f.displayName)&&void 0!==_?_:void 0,bn=null!==(T=f.email)&&void 0!==T?T:void 0,Hs=null!==(R=f.phoneNumber)&&void 0!==R?R:void 0,Ol=null!==(B=f.photoURL)&&void 0!==B?B:void 0,nv=null!==(Q=f.tenantId)&&void 0!==Q?Q:void 0,xn=null!==(Pe=f._redirectEventId)&&void 0!==Pe?Pe:void 0,Wg=null!==(Ke=f.createdAt)&&void 0!==Ke?Ke:void 0,qg=null!==(st=f.lastLoginAt)&&void 0!==st?st:void 0,{uid:ih,emailVerified:kl,isAnonymous:$i,providerData:sh,stsTokenManager:mc}=f;G(ih&&mc,h,"internal-error");const rv=ge.fromJSON(this.name,mc);G("string"==typeof ih,h,"internal-error"),j(ot,h.name),j(bn,h.name),G("boolean"==typeof kl,h,"internal-error"),G("boolean"==typeof $i,h,"internal-error"),j(Hs,h.name),j(Ol,h.name),j(nv,h.name),j(xn,h.name),j(Wg,h.name),j(qg,h.name);const oh=new pe({uid:ih,auth:h,email:bn,emailVerified:kl,displayName:ot,isAnonymous:$i,photoURL:Ol,phoneNumber:Hs,tenantId:nv,stsTokenManager:rv,createdAt:Wg,lastLoginAt:qg});return sh&&Array.isArray(sh)&&(oh.providerData=sh.map(iv=>Object.assign({},iv))),xn&&(oh._redirectEventId=xn),oh}static _fromIdTokenResponse(h,f,_=!1){return(0,y.Z)(function*(){const T=new ge;T.updateFromServerResponse(f);const R=new pe({uid:f.localId,auth:h,stsTokenManager:T,isAnonymous:_});return yield _r(R),R})()}}const We=new Map;function Qe(m){He(m instanceof Function,"Expected a class definition");let h=We.get(m);return h?(He(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,We.set(m,h),h)}function U(m,h,f){return`firebase:${m}:${h}:${f}`}function ne(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function tn(m=(0,O.z$)()){return/android/i.test(m)}function hn(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Ys(m=(0,O.z$)()){return hn(m)||tn(m)||function On(m=(0,O.z$)()){return/webos/i.test(m)}(m)||function rr(m=(0,O.z$)()){return/blackberry/i.test(m)}(m)||/windows phone/i.test(m)||function Nt(m=(0,O.z$)()){return/iemobile/i.test(m)}(m)}function ln(m){return(0,O.m9)(m)}class ss{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Ge("not implemented")}_getIdTokenResponse(h){return Ge("not implemented")}_linkToIdToken(h,f){return Ge("not implemented")}_getReauthenticationResolver(h){return Ge("not implemented")}}function Bo(m,h){return os.apply(this,arguments)}function os(){return(os=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ii(m,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:sendOobCode",Se(m,h))})).apply(this,arguments)}function jo(){return(jo=(0,y.Z)(function*(m,h){return ii(m,h)})).apply(this,arguments)}function oi(){return(oi=(0,y.Z)(function*(m,h){return ii(m,h)})).apply(this,arguments)}function Oi(m,h){return wd.apply(this,arguments)}function wd(){return(wd=(0,y.Z)(function*(m,h){return mt(m,"POST","/v1/accounts:signInWithIdp",Se(m,h))})).apply(this,arguments)}class as extends ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new as(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):be("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T}=f,R=(0,oe._T)(f,["providerId","signInMethod"]);if(!_||!T)return null;const B=new as(_,T);return B.idToken=R.idToken||void 0,B.accessToken=R.accessToken||void 0,B.secret=R.secret,B.nonce=R.nonce,B.pendingToken=R.pendingToken||null,B}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Oi(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Oi(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,O.xO)(f)}return h}}function Zc(){return(Zc=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:sendVerificationCode",Se(m,h))})).apply(this,arguments)}function Ed(){return(Ed=(0,y.Z)(function*(m,h){return mt(m,"POST","/v1/accounts:signInWithPhoneNumber",Se(m,h))})).apply(this,arguments)}function bu(){return(bu=(0,y.Z)(function*(m,h){const f=yield mt(m,"POST","/v1/accounts:signInWithPhoneNumber",Se(m,h));if(f.temporaryProof)throw Tn(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Id={USER_NOT_FOUND:"user-not-found"};function Cu(){return(Cu=(0,y.Z)(function*(m,h){return mt(m,"POST","/v1/accounts:signInWithPhoneNumber",Se(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Id)})).apply(this,arguments)}class mi extends ss{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new mi({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new mi({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Sg(m,h){return Ed.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function Ag(m,h){return bu.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Vy(m,h){return Cu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:T}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:T,temporaryProof:R}=h;return _||f||T||R?new mi({verificationId:f,verificationCode:_,phoneNumber:T,temporaryProof:R}):null}}class us{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Zi extends us{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class to extends Zi{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return G("providerId"in f&&"signInMethod"in f,"argument-error"),as._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return G(h.idToken||h.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return to.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return to.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:R,nonce:B,providerId:Q}=h;if(!_&&!T&&!f&&!R||!Q)return null;try{return new to(Q)._credential({idToken:f,accessToken:_,nonce:B,pendingToken:R})}catch{return null}}}let Yc=(()=>{class m extends Zi{constructor(){super("facebook.com")}static credential(f){return as._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Ta=(()=>{class m extends Zi{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return as._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:T}=f;if(!_&&!T)return null;try{return m.credential(_,T)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),bd=(()=>{class m extends Zi{constructor(){super("github.com")}static credential(f){return as._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Ns extends ss{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Oi(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Oi(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T,pendingToken:R}=f;return _&&T&&R&&_===T?new Ns(_,R):null}static _create(h,f){return new Ns(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Tu=(()=>{class m extends Zi{constructor(){super("twitter.com")}static credential(f,_){return as._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=f;if(!_||!T)return null;try{return m.credential(_,T)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();class Rr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,T=!1){return(0,y.Z)(function*(){const R=yield pe._fromIdTokenResponse(h,_,T),B=Aa(_);return new Rr({user:R,providerId:B,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,y.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const T=Aa(_);return new Rr({user:h,providerId:T,_tokenResponse:_,operationType:f})})()}}function Aa(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}class cs extends O.ZR{constructor(h,f,_,T){var R;super(f.code,f.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,cs.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,T){return new cs(h,f,_,T)}}function gr(m,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?cs._fromErrorAndOperation(m,R,h,_):R})}function Cd(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Mr(){return Mr=(0,y.Z)(function*(m,h){const f=(0,O.m9)(m);yield ls(!0,f,h);const{providerUserInfo:_}=yield function Ar(m,h){return Hr.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),T=Cd(_||[]);return f.providerData=f.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Mr.apply(this,arguments)}function ir(m,h){return Su.apply(this,arguments)}function Su(){return(Su=(0,y.Z)(function*(m,h,f=!1){const _=yield at(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return Rr._forOperation(m,"link",_)})).apply(this,arguments)}function ls(m,h,f){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,y.Z)(function*(m,h,f){yield _r(h);const T=!1===m?"provider-already-linked":"no-such-provider";G(Cd(h.providerData).has(f)===m,h.auth,T)})).apply(this,arguments)}function ks(m,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,y.Z)(function*(m,h,f=!1){const{auth:_}=m,T="reauthenticate";try{const R=yield at(m,gr(_,T,h,m),f);G(R.idToken,_,"internal-error");const B=Xt(R.idToken);G(B,_,"internal-error");const{sub:Q}=B;return G(m.uid===Q,_,"user-mismatch"),Rr._forOperation(m,T,R)}catch(R){throw"auth/user-not-found"===R?.code&&be(_,"user-mismatch"),R}})).apply(this,arguments)}function xa(m,h){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,y.Z)(function*(m,h,f=!1){const _="signIn",T=yield gr(m,_,h),R=yield Rr._fromIdTokenResponse(m,_,T);return f||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ad(m,h){return Au.apply(this,arguments)}function Au(){return(Au=(0,y.Z)(function*(m,h){const f=(0,O.m9)(m);return yield ls(!1,f,h.providerId),ir(f,h)})).apply(this,arguments)}function xd(m,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,y.Z)(function*(m,h){return ks((0,O.m9)(m),h)})).apply(this,arguments)}class Ma{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Pa._fromServerResponse(h,f):"totpInfo"in f?sr._fromServerResponse(h,f):be(h,"internal-error")}}class Pa extends Ma{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Pa(f)}}class sr extends Ma{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new sr(f)}}function no(m,h,f){var _;G((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),G(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(G(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(G(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function ka(){return ka=(0,y.Z)(function*(m,h){const f=(0,O.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&no(f.auth,T,h);const{email:R}=yield function qc(m,h){return jo.apply(this,arguments)}(f.auth,T);R!==m.email&&(yield m.reload())}),ka.apply(this,arguments)}function La(){return La=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&no(_.auth,R,f);const{email:B}=yield function si(m,h){return oi.apply(this,arguments)}(_.auth,R);B!==m.email&&(yield m.reload())}),La.apply(this,arguments)}function Lu(){return(Lu=(0,y.Z)(function*(m,h){return Ce(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Fu(){return Fu=(0,y.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,O.m9)(m),R={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},B=yield at(_,function Od(m,h){return Lu.apply(this,arguments)}(_.auth,R));_.displayName=B.displayName||null,_.photoURL=B.photoUrl||null;const Q=_.providerData.find(({providerId:Pe})=>"password"===Pe);Q&&(Q.displayName=_.displayName,Q.photoURL=_.photoURL),yield _._updateTokensIfNecessary(B)}),Fu.apply(this,arguments)}function Dn(m,h,f){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,y.Z)(function*(m,h,f){const{auth:_}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(R.email=h),f&&(R.password=f);const B=yield at(m,Bo(_,R));yield m._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class io{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class Cf extends io{constructor(h,f,_,T){super(h,f,_),this.username=T}}class kd extends io{constructor(h,f){super(h,"facebook.com",f)}}class Pg extends Cf{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Vu extends io{constructor(h,f){super(h,"google.com",f)}}class tl extends Cf{constructor(h,f,_){super(h,"twitter.com",f,_)}}function nl(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function bf(m){var h,f;if(!m)return null;const{providerId:_}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const B=null===(f=null===(h=Xt(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(B)return new io(R,"anonymous"!==B&&"custom"!==B?B:null)}if(!_)return null;switch(_){case"facebook.com":return new kd(R,T);case"github.com":return new Pg(R,T);case"google.com":return new Vu(R,T);case"twitter.com":return new tl(R,T,m.screenName||null);case"custom":case"anonymous":return new io(R,null);default:return new io(R,_,T)}}(f)}class so{constructor(h,f,_){this.type=h,this.credential=f,this.auth=_}static _fromIdtoken(h,f){return new so("enroll",h,f)}static _fromMfaPendingCredential(h){return new so("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return so._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return so._fromIdtoken(h.multiFactorSession.idToken)}return null}}class oo{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=ln(h),T=f.customData._serverResponse,R=(T.mfaInfo||[]).map(Q=>Ma._fromServerResponse(_,Q));G(T.mfaPendingCredential,_,"internal-error");const B=so._fromMfaPendingCredential(T.mfaPendingCredential);return new oo(B,R,function(){var Q=(0,y.Z)(function*(Pe){const Ke=yield Pe._process(_,B);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(f.operationType){case"signIn":const ot=yield Rr._fromIdTokenResponse(_,f.operationType,st);return yield _._updateCurrentUser(ot.user),ot;case"reauthenticate":return G(f.user,_,"internal-error"),Rr._forOperation(f.user,f.operationType,st);default:be(_,"internal-error")}});return function(Pe){return Q.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,y.Z)(function*(){return f.signInResolver(h)})()}}class co{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>Ma._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new co(h)}getSession(){var h=this;return(0,y.Z)(function*(){return so._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var _=this;return(0,y.Z)(function*(){const T=h,R=yield _.getSession(),B=yield at(_.user,T._process(_.user.auth,R,f));return yield _.user._updateTokensIfNecessary(B),_.user.reload()})()}unenroll(h){var f=this;return(0,y.Z)(function*(){const _="string"==typeof h?h:h.uid,T=yield f.user.getIdToken();try{const R=yield at(f.user,function $u(m,h){return Ce(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Se(m,h))}(f.user.auth,{idToken:T,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:B})=>B!==_),yield f.user._updateTokensIfNecessary(R),yield f.user.reload()}catch(R){throw R}})()}}const Ls=new WeakMap;class Hu{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ho=(()=>{class m extends Hu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ua(){const m=(0,O.z$)();return ne(m)||hn(m)}()&&function Gc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ys(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),R=this.localCache[_];T!==R&&f(_,R,T)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((Q,Pe,Ke)=>{this.notifyListeners(Q,Ke)});const T=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Q=this.storage.getItem(T);if(f.newValue!==Q)null!==f.newValue?this.storage.setItem(T,f.newValue):this.storage.removeItem(T);else if(this.localCache[T]===f.newValue&&!_)return}const R=()=>{const Q=this.storage.getItem(T);!_&&this.localCache[T]===Q||this.notifyListeners(T,Q)},B=this.storage.getItem(T);!function is(){return(0,O.w1)()&&10===document.documentMode}()||B===f.newValue||f.newValue===f.oldValue?R():setTimeout(R,10)}notifyListeners(f,_){this.localCache[f]=_;const T=this.listeners[f];if(T)for(const R of Array.from(T))R(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var T=()=>super._set,R=this;return(0,y.Z)(function*(){yield T().call(R,f,_),R.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,T=this;return(0,y.Z)(function*(){const R=yield _().call(T,f);return T.localCache[f]=JSON.stringify(R),R})()}_remove(f){var _=()=>super._remove,T=this;return(0,y.Z)(function*(){yield _().call(T,f),delete T.localCache[f]})()}}return m.type="LOCAL",m})(),ps=(()=>{class m extends Hu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();function Qo(m="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return m+f}function fn(){return window}const za="recaptcha";class Qi{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=mi._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Qu(){return(Qu=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m);yield ls(!1,_,"phone");const T=yield Xu(_.auth,h,(0,O.m9)(f));return new Qi(T,R=>Ad(_,R))})).apply(this,arguments)}function hl(){return(hl=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m),T=yield Xu(_.auth,h,(0,O.m9)(f));return new Qi(T,R=>xd(_,R))})).apply(this,arguments)}function Xu(m,h,f){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,y.Z)(function*(m,h,f){var _;const T=yield f.verify();try{let R;if(G("string"==typeof T,m,"argument-error"),G(f.type===za,m,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const B=R.session;if("phoneNumber"in R)return G("enroll"===B.type,m,"internal-error"),(yield function Zo(m,h){return Ce(m,"POST","/v2/accounts/mfaEnrollment:start",Se(m,h))}(m,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{G("signin"===B.type,m,"internal-error");const Q=(null===(_=R.multiFactorHint)||void 0===_?void 0:_.uid)||R.multiFactorUid;return G(Q,m,"missing-multi-factor-info"),(yield function mo(m,h){return Ce(m,"POST","/v2/accounts/mfaSignIn:start",Se(m,h))}(m,{mfaPendingCredential:B.credential,mfaEnrollmentId:Q,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function Tg(m,h){return Zc.apply(this,arguments)}(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return B}}finally{f._reset()}}),Kr.apply(this,arguments)}function _i(){return(_i=(0,y.Z)(function*(m,h){yield ir((0,O.m9)(m),h)})).apply(this,arguments)}let ft=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=ln(f)}verifyPhoneNumber(f,_){return Xu(this.auth,f,(0,O.m9)(_))}static credential(f,_){return mi._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:T}=f;return _&&T?mi._fromTokenResponse(_,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Pr(m,h){return h?Qe(h):(G(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class An extends ss{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Oi(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Oi(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Oi(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function $d(m){return xa(m.auth,new An(m),m.bypassAuthState)}function Ga(m){const{auth:h,user:f}=m;return G(f,h,"internal-error"),ks(f,new An(m),m.bypassAuthState)}function wi(m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,y.Z)(function*(m){const{auth:h,user:f}=m;return G(f,h,"internal-error"),ir(f,new An(m),m.bypassAuthState)})).apply(this,arguments)}class fl{constructor(h,f,_,T,R=!1){this.auth=h,this.resolver=_,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,y.Z)(function*(_,T){h.pendingPromise={resolve:_,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(_,T){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,y.Z)(function*(){const{urlResponse:_,sessionId:T,postBody:R,tenantId:B,error:Q,type:Pe}=h;if(Q)return void f.reject(Q);const Ke={auth:f.auth,requestUri:_,sessionId:T,tenantId:B||void 0,postBody:R||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Pe)(Ke))}catch(st){f.reject(st)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return $d;case"linkViaPopup":case"linkViaRedirect":return wi;case"reauthViaPopup":case"reauthViaRedirect":return Ga;default:be(this.auth,"internal-error")}}resolve(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ei=new Gn(2e3,1e4);function Us(){return(Us=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m);Ne(_.auth,h,us);const T=Pr(_.auth,f);return new tc(_.auth,"reauthViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}function pl(){return(pl=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m);Ne(_.auth,h,us);const T=Pr(_.auth,f);return new tc(_.auth,"linkViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}let tc=(()=>{class m extends fl{constructor(f,_,T,R,B){super(f,_,R,B),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,y.Z)(function*(){const _=yield f.execute();return G(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,y.Z)(function*(){He(1===f.filter.length,"Popup operations only handle one event");const _=Qo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(T=>{f.reject(T)}),f.resolver._isIframeWebStorageSupported(f.auth,T=>{T||f.reject(De(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Ei.get())};f()}}return m.currentPopupAction=null,m})();const _o="pendingRedirect",wo=new Map;class Nr extends fl{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,y.Z)(function*(){let _=wo.get(f.auth._key());if(!_){try{const R=(yield function gl(m,h){return ml.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(R)}catch(T){_=()=>Promise.reject(T)}wo.set(f.auth._key(),_)}return f.bypassAuthState||wo.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,y.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const T=yield _.auth._redirectUserForId(h.eventId);if(T)return _.user=T,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function ml(){return(ml=(0,y.Z)(function*(m,h){const f=qa(h),_=rc(m);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(f));return yield _._remove(f),T})).apply(this,arguments)}function Eo(m,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,y.Z)(function*(m,h){return rc(m)._set(qa(h),"true")})).apply(this,arguments)}function Hd(m,h){wo.set(m._key(),h)}function rc(m){return Qe(m._redirectPersistence)}function qa(m){return U(_o,m.config.apiKey,m.name)}function Za(m,h,f){return function Fi(m,h,f){return Ya.apply(this,arguments)}(m,h,f)}function Ya(){return(Ya=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m);Ne(_.auth,h,us),yield _.auth._initializationPromise;const T=Pr(_.auth,f);yield Eo(T,_.auth);const R=yield Hn(_);return T._openRedirect(_.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function Or(m,h,f){return function yl(m,h,f){return vl.apply(this,arguments)}(m,h,f)}function vl(){return(vl=(0,y.Z)(function*(m,h,f){const _=(0,O.m9)(m);Ne(_.auth,h,us),yield _.auth._initializationPromise;const T=Pr(_.auth,f);yield ls(!1,_,h.providerId),yield Eo(T,_.auth);const R=yield Hn(_);return T._openRedirect(_.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function bo(m,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,y.Z)(function*(m,h,f=!1){const _=ln(m),T=Pr(_,h),B=yield new Nr(_,T,f).execute();return B&&!f&&(delete B.user._redirectEventId,yield _._persistUserIfCurrent(B.user),yield _._setRedirectUser(null,h)),B})).apply(this,arguments)}function Hn(m){return Co.apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(m){const h=Qo(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class ta{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function mr(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xi(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!Xi(h)){const T=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(De(this.auth,T))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ui(h))}saveEventToCache(h){this.cachedEventUids.add(Ui(h)),this.lastProcessedEventTime=Date.now()}}function Ui(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Xi({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function To(m){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,y.Z)(function*(m,h={}){return Ce(m,"GET","/v1/projects",h)})).apply(this,arguments)}const ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sc=/^https?/;function ms(){return(ms=(0,y.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield To(m);for(const f of h)try{if(wl(f))return}catch{}be(m,"unauthorized-domain")})).apply(this,arguments)}function wl(m){const h=It(),{protocol:f,hostname:_}=new URL(h);if(m.startsWith("chrome-extension://")){const B=new URL(m);return""===B.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&B.hostname===_}if(!sc.test(f))return!1;if(ic.test(m))return _===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const ac=new Gn(3e4,6e4);function bt(){const m=fn().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let uc=null;function Ii(m){return uc=uc||function Vi(m){return new Promise((h,f)=>{var _,T,R;function B(){bt(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{bt(),f(De(m,"network-request-failed"))},timeout:ac.get()})}if(null!==(T=null===(_=fn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(R=fn().gapi)||void 0===R||!R.load){const Q=function xr(m){return`__${m}${Math.floor(1e6*Math.random())}`}("iframefcb");return fn()[Q]=()=>{gapi.load?B():f(De(m,"network-request-failed"))},function Ki(m){return new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=h,_.onerror=T=>{const R=De("internal-error");R.customData=T,f(R)},_.type="text/javascript",_.charset="UTF-8",function wr(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(_)})}(`https://apis.google.com/js/api.js?onload=${Q}`).catch(Pe=>f(Pe))}B()}}).catch(h=>{throw uc=null,h})}(m),uc}const Ff=new Gn(5e3,15e3),Gd="__/auth/iframe",Bi="emulator/auth/iframe",Wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kd(m){const h=m.config;G(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?te(h,Bi):`https://${m.config.authDomain}/${Gd}`,_={apiKey:h.apiKey,appName:m.name,v:ee.SDK_VERSION},T=qd.get(m.config.apiHost);T&&(_.eid=T);const R=m._getFrameworks();return R.length&&(_.fw=R.join(",")),`${f}?${(0,O.xO)(_).slice(1)}`}function D(){return D=(0,y.Z)(function*(m){const h=yield Ii(m),f=fn().gapi;return G(f,m,"internal-error"),h.open({where:document.body,url:Kd(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wd,dontclear:!0},_=>new Promise(function(){var T=(0,y.Z)(function*(R,B){yield _.restyle({setHideOnLeave:!1});const Q=De(m,"network-request-failed"),Pe=fn().setTimeout(()=>{B(Q)},Ff.get());function Ke(){fn().clearTimeout(Pe),R(_)}_.ping(Ke).then(Ke,()=>{B(Q)})});return function(R,B){return T.apply(this,arguments)}}()))}),D.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N=500,z=600,Y="_blank",se="http://localhost";class Ze{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qe(m,h,f,_=N,T=z){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-_)/2,0).toString();let Q="";const Pe=Object.assign(Object.assign({},A),{width:_.toString(),height:T.toString(),top:R,left:B}),Ke=(0,O.z$)().toLowerCase();f&&(Q=function Ve(m=(0,O.z$)()){return/crios\//i.test(m)}(Ke)?Y:f),function Ee(m=(0,O.z$)()){return/firefox\//i.test(m)}(Ke)&&(h=h||se,Pe.scrollbars="yes");const st=Object.entries(Pe).reduce((bn,[Hs,Ol])=>`${bn}${Hs}=${Ol},`,"");if(function ri(m=(0,O.z$)()){var h;return hn(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ke)&&"_self"!==Q)return function pt(m,h){const f=document.createElement("a");f.href=m,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",Q),new Ze(null);const ot=window.open(h||"",Q,st);G(ot,m,"popup-blocked");try{ot.focus()}catch{}return new Ze(ot)}const xt="__/auth/handler",Rt="emulator/auth/handler",kr=encodeURIComponent("fac");function pn(m,h,f,_,T,R){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,y.Z)(function*(m,h,f,_,T,R){G(m.config.authDomain,m,"auth-domain-config-required"),G(m.config.apiKey,m,"invalid-api-key");const B={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:ee.SDK_VERSION,eventId:T};if(h instanceof us){h.setDefaultLanguage(m.languageCode),B.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(B.customParameters=JSON.stringify(h.getCustomParameters()));for(const[st,ot]of Object.entries(R||{}))B[st]=ot}if(h instanceof Zi){const st=h.getScopes().filter(ot=>""!==ot);st.length>0&&(B.scopes=st.join(","))}m.tenantId&&(B.tid=m.tenantId);const Q=B;for(const st of Object.keys(Q))void 0===Q[st]&&delete Q[st];const Pe=yield m._getAppCheckToken(),Ke=Pe?`#${kr}=${encodeURIComponent(Pe)}`:"";return`${function Vs({config:m}){return m.emulator?te(m,Rt):`https://${m.authDomain}/${xt}`}(m)}?${(0,O.xO)(Q).slice(1)}${Ke}`})).apply(this,arguments)}const So="webStorageSupport",ji=class yr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=bo,this._overrideRedirectResult=Hd}_openPopup(h,f,_,T){var R=this;return(0,y.Z)(function*(){var B;He(null===(B=R.eventManagers[h._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Q=yield pn(h,f,_,It(),T);return qe(h,Q,Qo())})()}_openRedirect(h,f,_,T){var R=this;return(0,y.Z)(function*(){return yield R._originValidation(h),function Bd(m){fn().location.href=m}(yield pn(h,f,_,It(),T)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:T,promise:R}=this.eventManagers[f];return T?Promise.resolve(T):(He(R,"If manager is not set, promise should be"),R)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,y.Z)(function*(){const _=yield function E(m){return D.apply(this,arguments)}(h),T=new ta(h);return _.register("authEvent",R=>(G(R?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:T},f.iframes[h._key()]=_,T})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(So,{type:So},T=>{var R;const B=null===(R=T?.[0])||void 0===R?void 0:R[So];void 0!==B&&f(!!B),be(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function oc(m){return ms.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ys()||ne()||hn()}};function Xa(){return window}const Wy=2e3;function bl(){return bl=(0,y.Z)(function*(m,h,f){var _;const{BuildInfo:T}=Xa();He(h.sessionId,"AuthEvent did not contain a session ID");const R=yield function ra(m){return Cl.apply(this,arguments)}(h.sessionId),B={};return hn()?B.ibi=T.packageName:tn()?B.apn=T.packageName:be(m,"operation-not-supported-in-this-environment"),T.displayName&&(B.appDisplayName=T.displayName),B.sessionId=R,pn(m,f,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,B)}),bl.apply(this,arguments)}function na(){return(na=(0,y.Z)(function*(m){const{BuildInfo:h}=Xa(),f={};hn()?f.iosBundleId=h.packageName:tn()?f.androidPackageName=h.packageName:be(m,"operation-not-supported-in-this-environment"),yield To(m,f)})).apply(this,arguments)}function lc(){return(lc=(0,y.Z)(function*(m,h,f){const{cordova:_}=Xa();let T=()=>{};try{yield new Promise((R,B)=>{let Q=null;function Pe(){var ot;R();const bn=null===(ot=_.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof bn&&bn(),"function"==typeof f?.close&&f.close()}function Ke(){Q||(Q=window.setTimeout(()=>{B(De(m,"redirect-cancelled-by-user"))},Wy))}function st(){"visible"===document?.visibilityState&&Ke()}h.addPassiveListener(Pe),document.addEventListener("resume",Ke,!1),tn()&&document.addEventListener("visibilitychange",st,!1),T=()=>{h.removePassiveListener(Pe),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",st,!1),Q&&window.clearTimeout(Q)}})}finally{T()}})).apply(this,arguments)}function Cl(){return(Cl=(0,y.Z)(function*(m){const h=function Ug(m){if(He(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),f=new Uint8Array(h);for(let _=0;_<m.length;_++)f[_]=m.charCodeAt(_);return f}(m),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Tl=20;class Qd extends ta{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,y.Z)(function*(){yield h.initPromise})()}}function Xd(m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,y.Z)(function*(m){const h=yield Jd()._get(tu(m));return h&&(yield Jd()._remove(tu(m))),h})).apply(this,arguments)}function $f(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<Tl;f++){const _=Math.floor(Math.random()*h.length);m.push(h.charAt(_))}return m.join("")}function Jd(){return Qe(ho)}function tu(m){return U("authEvent",m.config.apiKey,m.name)}function ys(m){if(!m?.includes("?"))return{};const[h,...f]=m.split("?");return(0,O.zd)(f.join("?"))}const xl=class Al{constructor(){this._redirectPersistence=ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bo,this._overrideRedirectResult=Hd}_initialize(h){var f=this;return(0,y.Z)(function*(){const _=h._key();let T=f.eventManagers.get(_);return T||(T=new Qd(h),f.eventManagers.set(_,T),f.attachCallbackListeners(h,T)),T})()}_openPopup(h){be(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,_,T){var R=this;return(0,y.Z)(function*(){!function Ky(m){var h,f,_,T,R,B,Q,Pe,Ke,st;const ot=Xa();G("function"==typeof(null===(h=ot?.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof(null===(f=ot?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(R=null===(T=null===(_=ot?.cordova)||void 0===_?void 0:_.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Pe=null===(Q=null===(B=ot?.cordova)||void 0===B?void 0:B.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Pe?void 0:Pe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(st=null===(Ke=ot?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===st?void 0:st.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const B=yield R._initialize(h);yield B.initialized(),B.resetRedirect(),function nc(){wo.clear()}(),yield R._originValidation(h);const Q=function Ro(m,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:$f(),postBody:null,tenantId:m.tenantId,error:De(m,"no-auth-event")}}(h,_,T);yield function Vg(m,h){return Jd()._set(tu(m),h)}(h,Q);const Pe=yield function Fg(m,h,f){return bl.apply(this,arguments)}(h,Q,f),Ke=yield function qy(m){const{cordova:h}=Xa();return new Promise(f=>{h.plugins.browsertab.isAvailable(_=>{let T=null;_?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function Yt(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(T)})})}(Pe);return function Ja(m,h,f){return lc.apply(this,arguments)}(h,B,Ke)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Yd(m){return na.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:_,handleOpenURL:T,BuildInfo:R}=Xa(),B=setTimeout((0,y.Z)(function*(){yield Xd(h),f.onEvent(zf())}),500),Q=function(){var st=(0,y.Z)(function*(ot){clearTimeout(B);const bn=yield Xd(h);let Hs=null;bn&&ot?.url&&(Hs=function eu(m,h){var f,_;const T=function th(m){const h=ys(m),f=h.link?decodeURIComponent(h.link):void 0,_=ys(f).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ys(T).link||T||_||f||m}(h);if(T.includes("/__/auth/callback")){const R=ys(T),B=R.firebaseError?function eh(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,Q=null===(_=null===(f=B?.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],Pe=Q?De(Q):null;return Pe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(bn,ot.url)),f.onEvent(Hs||zf())});return function(bn){return st.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Q);const Pe=T,Ke=`${R.packageName.toLowerCase()}://`;Xa().handleOpenURL=function(){var st=(0,y.Z)(function*(ot){if(ot.toLowerCase().startsWith(Ke)&&Q({url:ot}),"function"==typeof Pe)try{Pe(ot)}catch(bn){console.error(bn)}});return function(ot){return st.apply(this,arguments)}}()}};function zf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}const Wf=1e3;function Ji(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Bg(){return function ia(m=(0,O.z$)()){return!("file:"!==Ji()&&"ionic:"!==Ji()&&"capacitor:"!==Ji()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function hc(){return(hc=(0,y.Z)(function*(){return!!Bg()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},Wf);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const Zf="persistence";function Yf(m){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,y.Z)(function*(m){yield m._initializationPromise;const h=function Xf(){var m;try{return(null===(m=function Kf(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}(),f=U(Zf,m.config.apiKey,m.name);h&&h.setItem(f,m._getPersistence())})).apply(this,arguments)}const Jf=G;class Lr{constructor(){this.browserResolver=Qe(ji),this.cordovaResolver=Qe(xl),this.underlyingResolver=null,this._redirectPersistence=ps,this._completeRedirectFn=bo,this._overrideRedirectResult=Hd}_initialize(h){var f=this;return(0,y.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,_,T){var R=this;return(0,y.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(h,f,_,T)})()}_openRedirect(h,f,_,T){var R=this;return(0,y.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(h,f,_,T)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Bg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,y.Z)(function*(){if(h.underlyingResolver)return;const f=yield function jg(){return hc.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function bi(m){return m.unwrap()}function Jy(m){return tv(m)}function tv(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ft.credentialFromResult(m);const f=h.providerId;if(!f||f===fe.PASSWORD)return null;let _;switch(f){case fe.GOOGLE:_=Ta;break;case fe.FACEBOOK:_=Yc;break;case fe.GITHUB:_=bd;break;case fe.TWITTER:_=Tu;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:B,pendingToken:Q,nonce:Pe}=h;return R||B||T||Q?Q?f.startsWith("saml.")?Ns._create(f,Q):as._fromParams({providerId:f,signInMethod:f,pendingToken:Q,idToken:T,accessToken:R}):new to(f).credential({idToken:T,accessToken:R,rawNonce:Pe}):null}return m instanceof O.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function Dr(m,h){return h.catch(f=>{throw f instanceof O.ZR&&function ev(m,h){var f;const _=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new rh(m,function ju(m,h){var f;const _=(0,O.m9)(m),T=h;return G(h.customData.operationType,_,"argument-error"),G(null===(f=T.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),oo._fromError(_,T)}(m,h));else if(_){const T=tv(h),R=h;T&&(R.credential=T,R.tenantId=_.tenantId||void 0,R.email=_.email||void 0,R.phoneNumber=_.phoneNumber||void 0)}}(m,f),f}).then(f=>{const T=f.user;return{operationType:f.operationType,credential:Jy(f),additionalUserInfo:nl(f),user:$s.getOrCreate(T)}})}function ep(m,h){return nh.apply(this,arguments)}function nh(){return(nh=(0,y.Z)(function*(m,h){const f=yield h;return{verificationId:f.verificationId,confirm:_=>Dr(m,f.confirm(_))}})).apply(this,arguments)}class rh{constructor(h,f){this.resolver=f,this.auth=function fc(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Dr(bi(this.auth),this.resolver.resolveSignIn(h))}}class $s{constructor(h){this._delegate=h,this.multiFactor=function Fd(m){const h=(0,O.m9)(m);return Ls.has(h)||Ls.set(h,co._fromUser(h)),Ls.get(h)}(h)}static getOrCreate(h){return $s.USER_MAP.has(h)||$s.USER_MAP.set(h,new $s(h)),$s.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,y.Z)(function*(){return Dr(f.auth,Ad(f._delegate,h))})()}linkWithPhoneNumber(h,f){var _=this;return(0,y.Z)(function*(){return ep(_.auth,function Yu(m,h,f){return Qu.apply(this,arguments)}(_._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,y.Z)(function*(){return Dr(f.auth,function Et(m,h,f){return pl.apply(this,arguments)}(f._delegate,h,Lr))})()}linkWithRedirect(h){var f=this;return(0,y.Z)(function*(){return yield Yf(ln(f.auth)),Or(f._delegate,h,Lr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,y.Z)(function*(){return Dr(f.auth,xd(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return ep(this.auth,function Of(m,h,f){return hl.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return Dr(this.auth,function Wa(m,h,f){return Us.apply(this,arguments)}(this._delegate,h,Lr))}reauthenticateWithRedirect(h){var f=this;return(0,y.Z)(function*(){return yield Yf(ln(f.auth)),Za(f._delegate,h,Lr)})()}sendEmailVerification(h){return function ku(m,h){return ka.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,y.Z)(function*(){return yield function Td(m,h){return Mr.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function Ir(m,h){return Dn((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function hs(m,h){return Dn((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function dn(m,h){return _i.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Df(m,h){return Fu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function el(m,h,f){return La.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$s.USER_MAP=new WeakMap;class iu{constructor(){this.providerId="phone",this._delegate=new ft(bi(X.Z.auth()))}static credential(h,f){return ft.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}iu.PHONE_SIGN_IN_METHOD=ft.PHONE_SIGN_IN_METHOD,iu.PROVIDER_ID=ft.PROVIDER_ID},9681:(yt,xe,k)=>{k.d(xe,{Jn:()=>Tn,KN:()=>lt,Xd:()=>it,qX:()=>ct});var y=k(5861),X=k(4859),O=k(1877),ee=k(2090),oe=k(8766);class ae{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(pe=>{if(function ve(ge){return"VERSION"===ge.getComponent()?.type}(pe)){const We=pe.getImmediate();return`${We.library}/${We.version}`}return null}).filter(pe=>pe).join(" ")}}const _e="@firebase/app",V=new O.Yd("@firebase/app"),he={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ue=new Map,re=new Map;function Se(ge,j){try{ge.container.addComponent(j)}catch(pe){V.debug(`Component ${j.name} failed to register with FirebaseApp ${ge.name}`,pe)}}function it(ge){const j=ge.name;if(re.has(j))return V.debug(`There were multiple attempts to register component ${j}.`),!1;re.set(j,ge);for(const pe of ue.values())Se(pe,ge);return!0}function ct(ge,j){const pe=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return pe&&pe.triggerHeartbeat(),ge.container.getProvider(j)}const Bt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Tn="10.3.1";function lt(ge,j,pe){var We;let Qe=null!==(We=he[ge])&&void 0!==We?We:ge;pe&&(Qe+=`-${pe}`);const vt=Qe.match(/\s|\//),Zt=j.match(/\s|\//);if(vt||Zt){const U=[`Unable to register library "${Qe}" with version "${j}":`];return vt&&U.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),vt&&Zt&&U.push("and"),Zt&&U.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void V.warn(U.join(" "))}it(new X.wA(`${Qe}-version`,()=>({library:Qe,version:j}),"VERSION"))}const tr="firebase-heartbeat-database",hi=1,Bn="firebase-heartbeat-store";let Xt=null;function Jt(){return Xt||(Xt=(0,oe.X3)(tr,hi,{upgrade:(ge,j)=>{0===j&&ge.createObjectStore(Bn)}}).catch(ge=>{throw Bt.create("idb-open",{originalErrorMessage:ge.message})})),Xt}function Tt(){return(Tt=(0,y.Z)(function*(ge){try{return yield(yield Jt()).transaction(Bn).objectStore(Bn).get(Nn(ge))}catch(j){if(j instanceof ee.ZR)V.warn(j.message);else{const pe=Bt.create("idb-get",{originalErrorMessage:j?.message});V.warn(pe.message)}}})).apply(this,arguments)}function ni(ge,j){return nr.apply(this,arguments)}function nr(){return(nr=(0,y.Z)(function*(ge,j){try{const We=(yield Jt()).transaction(Bn,"readwrite");yield We.objectStore(Bn).put(j,Nn(ge)),yield We.done}catch(pe){if(pe instanceof ee.ZR)V.warn(pe.message);else{const We=Bt.create("idb-set",{originalErrorMessage:pe?.message});V.warn(We.message)}}})).apply(this,arguments)}function Nn(ge){return`${ge.name}!${ge.options.appId}`}class Zs{constructor(j){this.container=j,this._heartbeatsCache=null;const pe=this.container.getProvider("app").getImmediate();this._storage=new Wt(pe),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var j=this;return(0,y.Z)(function*(){const We=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qe=en();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==Qe&&!j._heartbeatsCache.heartbeats.some(vt=>vt.date===Qe))return j._heartbeatsCache.heartbeats.push({date:Qe,agent:We}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(vt=>{const Zt=new Date(vt.date).valueOf();return Date.now()-Zt<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,y.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const pe=en(),{heartbeatsToSend:We,unsentEntries:Qe}=function qi(ge,j=1024){const pe=[];let We=ge.slice();for(const Qe of ge){const vt=pe.find(Zt=>Zt.agent===Qe.agent);if(vt){if(vt.dates.push(Qe.date),Gr(pe)>j){vt.dates.pop();break}}else if(pe.push({agent:Qe.agent,dates:[Qe.date]}),Gr(pe)>j){pe.pop();break}We=We.slice(1)}return{heartbeatsToSend:pe,unsentEntries:We}}(j._heartbeatsCache.heartbeats),vt=(0,ee.L)(JSON.stringify({version:2,heartbeats:We}));return j._heartbeatsCache.lastSentHeartbeatDate=pe,Qe.length>0?(j._heartbeatsCache.heartbeats=Qe,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),vt})()}}function en(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,y.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function at(ge){return Tt.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var pe=this;return(0,y.Z)(function*(){var We;if(yield pe._canUseIndexedDBPromise){const vt=yield pe.read();return ni(pe.app,{lastSentHeartbeatDate:null!==(We=j.lastSentHeartbeatDate)&&void 0!==We?We:vt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var pe=this;return(0,y.Z)(function*(){var We;if(yield pe._canUseIndexedDBPromise){const vt=yield pe.read();return ni(pe.app,{lastSentHeartbeatDate:null!==(We=j.lastSentHeartbeatDate)&&void 0!==We?We:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...j.heartbeats]})}})()}}function Gr(ge){return(0,ee.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function Qt(ge){it(new X.wA("platform-logger",j=>new ae(j),"PRIVATE")),it(new X.wA("heartbeat",j=>new Zs(j),"PRIVATE")),lt(_e,"0.9.18",ge),lt(_e,"0.9.18","esm2017"),lt("fire-js","")}("")},4859:(yt,xe,k)=>{k.d(xe,{H0:()=>_e,wA:()=>O});var y=k(5861),X=k(2090);class O{constructor(V,H,K){this.name=V,this.instanceFactory=H,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ee="[DEFAULT]";class oe{constructor(V,H){this.name=V,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const H=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(H)){const K=new X.BH;if(this.instancesDeferred.set(H,K),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&K.resolve(ze)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(V){var H;const K=this.normalizeInstanceIdentifier(V?.identifier),ze=null!==(H=V?.optional)&&void 0!==H&&H;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Te){if(ze)return null;throw Te}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function ve(fe){return"EAGER"===fe.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[H,K]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Te=this.getOrInitializeService({instanceIdentifier:ze});K.resolve(Te)}catch{}}}}clearInstance(V=ee){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,y.Z)(function*(){const H=Array.from(V.instances.values());yield Promise.all([...H.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...H.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ee){return this.instances.has(V)}getOptions(V=ee){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:H={}}=V,K=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:K,options:H});for(const[Te,Ye]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Te)&&Ye.resolve(ze);return ze}onInit(V,H){var K;const ze=this.normalizeInstanceIdentifier(H),Te=null!==(K=this.onInitCallbacks.get(ze))&&void 0!==K?K:new Set;Te.add(V),this.onInitCallbacks.set(ze,Te);const Ye=this.instances.get(ze);return Ye&&V(Ye,ze),()=>{Te.delete(V)}}invokeOnInitCallbacks(V,H){const K=this.onInitCallbacks.get(H);if(K)for(const ze of K)try{ze(V,H)}catch{}}getOrInitializeService({instanceIdentifier:V,options:H={}}){let K=this.instances.get(V);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=V,fe===ee?void 0:fe),options:H}),this.instances.set(V,K),this.instancesOptions.set(V,H),this.invokeOnInitCallbacks(K,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,K)}catch{}var fe;return K||null}normalizeInstanceIdentifier(V=ee){return this.component?this.component.multipleInstances?V:ee:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const H=this.getProvider(V.name);if(H.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);H.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const H=new oe(V,this);return this.providers.set(V,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,xe,k)=>{k.d(xe,{Am:()=>fe,Ub:()=>_e,Yd:()=>ve,in:()=>X});const y=[];var X=(()=>{return(V=X||(X={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",X;var V})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ee=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ae=(V,H,...K)=>{if(H<V.logLevel)return;const ze=(new Date).toISOString(),Te=oe[H];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Te](`[${ze}]  ${V.name}:`,...K)};class ve{constructor(H){this.name=H,this._logLevel=ee,this._logHandler=ae,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in X))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...H),this._logHandler(this,X.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...H),this._logHandler(this,X.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,X.INFO,...H),this._logHandler(this,X.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,X.WARN,...H),this._logHandler(this,X.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...H),this._logHandler(this,X.ERROR,...H)}}function _e(V){y.forEach(H=>{H.setLogLevel(V)})}function fe(V,H){for(const K of y){let ze=null;H&&H.level&&(ze=O[H.level]),K.userLogHandler=null===V?null:(Te,Ye,...ut)=>{const ye=ut.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ye>=(ze??Te.logLevel)&&V({level:X[Ye].toLowerCase(),message:ye,args:ut,type:Te.name})}}}},8766:(yt,xe,k)=>{k.d(xe,{X3:()=>$e});var y=k(5861);const X=(de,G)=>G.some(Ge=>de instanceof Ge);let O,ee;const ve=new WeakMap,_e=new WeakMap,fe=new WeakMap,V=new WeakMap,H=new WeakMap;let Te={get(de,G,Ge){if(de instanceof IDBTransaction){if("done"===G)return _e.get(de);if("objectStoreNames"===G)return de.objectStoreNames||fe.get(de);if("store"===G)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Ae(de[G])},set:(de,G,Ge)=>(de[G]=Ge,!0),has:(de,G)=>de instanceof IDBTransaction&&("done"===G||"store"===G)||G in de};function ye(de){return"function"==typeof de?function ut(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...G){return de.apply(Me(this),G),Ae(ve.get(this))}:function(...G){return Ae(de.apply(Me(this),G))}:function(G,...Ge){const He=de.call(Me(this),G,...Ge);return fe.set(He,G.sort?G.sort():[G]),Ae(He)}}(de):(de instanceof IDBTransaction&&function ze(de){if(_e.has(de))return;const G=new Promise((Ge,He)=>{const It=()=>{de.removeEventListener("complete",Je),de.removeEventListener("error",mn),de.removeEventListener("abort",mn)},Je=()=>{Ge(),It()},mn=()=>{He(de.error||new DOMException("AbortError","AbortError")),It()};de.addEventListener("complete",Je),de.addEventListener("error",mn),de.addEventListener("abort",mn)});_e.set(de,G)}(de),X(de,function oe(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Te):de)}function Ae(de){if(de instanceof IDBRequest)return function K(de){const G=new Promise((Ge,He)=>{const It=()=>{de.removeEventListener("success",Je),de.removeEventListener("error",mn)},Je=()=>{Ge(Ae(de.result)),It()},mn=()=>{He(de.error),It()};de.addEventListener("success",Je),de.addEventListener("error",mn)});return G.then(Ge=>{Ge instanceof IDBCursor&&ve.set(Ge,de)}).catch(()=>{}),H.set(G,de),G}(de);if(V.has(de))return V.get(de);const G=ye(de);return G!==de&&(V.set(de,G),H.set(G,de)),G}const Me=de=>H.get(de);function $e(de,G,{blocked:Ge,upgrade:He,blocking:It,terminated:Je}={}){const mn=indexedDB.open(de,G),Sr=Ae(mn);return He&&mn.addEventListener("upgradeneeded",wn=>{He(Ae(mn.result),wn.oldVersion,wn.newVersion,Ae(mn.transaction),wn)}),Ge&&mn.addEventListener("blocked",wn=>Ge(wn.oldVersion,wn.newVersion,wn)),Sr.then(wn=>{Je&&wn.addEventListener("close",()=>Je()),It&&wn.addEventListener("versionchange",Gn=>It(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),Sr}const be=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Be=new Map;function Ne(de,G){if(!(de instanceof IDBDatabase)||G in de||"string"!=typeof G)return;if(Be.get(G))return Be.get(G);const Ge=G.replace(/FromIndex$/,""),He=G!==Ge,It=De.includes(Ge);if(!(Ge in(He?IDBIndex:IDBObjectStore).prototype)||!It&&!be.includes(Ge))return;const Je=function(){var mn=(0,y.Z)(function*(Sr,...wn){const Gn=this.transaction(Sr,It?"readwrite":"readonly");let te=Gn.store;return He&&(te=te.index(wn.shift())),(yield Promise.all([te[Ge](...wn),It&&Gn.done]))[0]});return function(wn){return mn.apply(this,arguments)}}();return Be.set(G,Je),Je}!function Ye(de){Te=de(Te)}(de=>({...de,get:(G,Ge,He)=>Ne(G,Ge)||de.get(G,Ge,He),has:(G,Ge)=>!!Ne(G,Ge)||de.has(G,Ge)}))},5861:(yt,xe,k)=>{function y(O,ee,oe,ae,ve,_e,fe){try{var V=O[_e](fe),H=V.value}catch(K){return void oe(K)}V.done?ee(H):Promise.resolve(H).then(ae,ve)}function X(O){return function(){var ee=this,oe=arguments;return new Promise(function(ae,ve){var _e=O.apply(ee,oe);function fe(H){y(_e,ae,ve,fe,V,"next",H)}function V(H){y(_e,ae,ve,fe,V,"throw",H)}fe(void 0)})}}k.d(xe,{Z:()=>X})},7582:(yt,xe,k)=>{function ee(te,he){var ue={};for(var re in te)Object.prototype.hasOwnProperty.call(te,re)&&he.indexOf(re)<0&&(ue[re]=te[re]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Se=0;for(re=Object.getOwnPropertySymbols(te);Se<re.length;Se++)he.indexOf(re[Se])<0&&Object.prototype.propertyIsEnumerable.call(te,re[Se])&&(ue[re[Se]]=te[re[Se]])}return ue}function K(te,he,ue,re){return new(ue||(ue=Promise))(function(Ce,it){function ct(zt){try{mt(re.next(zt))}catch(Bt){it(Bt)}}function yn(zt){try{mt(re.throw(zt))}catch(Bt){it(Bt)}}function mt(zt){zt.done?Ce(zt.value):function Se(Ce){return Ce instanceof ue?Ce:new ue(function(it){it(Ce)})}(zt.value).then(ct,yn)}mt((re=re.apply(te,he||[])).next())})}function Fe(te){return this instanceof Fe?(this.v=te,this):new Fe(te)}function be(te,he,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,re=ue.apply(te,he||[]),Ce=[];return Se={},it("next"),it("throw"),it("return"),Se[Symbol.asyncIterator]=function(){return this},Se;function it(cn){re[cn]&&(Se[cn]=function(Tn){return new Promise(function(Vn,Sn){Ce.push([cn,Tn,Vn,Sn])>1||ct(cn,Tn)})})}function ct(cn,Tn){try{!function yn(cn){cn.value instanceof Fe?Promise.resolve(cn.value.v).then(mt,zt):Bt(Ce[0][2],cn)}(re[cn](Tn))}catch(Vn){Bt(Ce[0][3],Vn)}}function mt(cn){ct("next",cn)}function zt(cn){ct("throw",cn)}function Bt(cn,Tn){cn(Tn),Ce.shift(),Ce.length&&ct(Ce[0][0],Ce[0][1])}}function Be(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,he=te[Symbol.asyncIterator];return he?he.call(te):(te=function ut(te){var he="function"==typeof Symbol&&Symbol.iterator,ue=he&&te[he],re=0;if(ue)return ue.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&re>=te.length&&(te=void 0),{value:te&&te[re++],done:!te}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ue={},re("next"),re("throw"),re("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function re(Ce){ue[Ce]=te[Ce]&&function(it){return new Promise(function(ct,yn){!function Se(Ce,it,ct,yn){Promise.resolve(yn).then(function(mt){Ce({value:mt,done:ct})},it)}(ct,yn,(it=te[Ce](it)).done,it.value)})}}}k.d(xe,{FC:()=>be,KL:()=>Be,_T:()=>ee,mG:()=>K,qq:()=>Fe}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=9601)}]);